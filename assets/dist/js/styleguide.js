/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./assets/source/3.0/js/styleguide.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./assets/source/3.0/js/styleguide.js":
/*!********************************************!*\
  !*** ./assets/source/3.0/js/styleguide.js ***!
  \********************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _helsingborg_stad_styleguide_source_js_app_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @helsingborg-stad/styleguide/source/js/app.js */ \"./node_modules/@helsingborg-stad/styleguide/source/js/app.js\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9hc3NldHMvc291cmNlLzMuMC9qcy9zdHlsZWd1aWRlLmpzPzZjZjciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSIsImZpbGUiOiIuL2Fzc2V0cy9zb3VyY2UvMy4wL2pzL3N0eWxlZ3VpZGUuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU3R5bGVndWlkZSBmcm9tICdAaGVsc2luZ2Jvcmctc3RhZC9zdHlsZWd1aWRlL3NvdXJjZS9qcy9hcHAuanMnOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./assets/source/3.0/js/styleguide.js\n");

/***/ }),

/***/ "./node_modules/@helsingborg-stad/styleguide/build/initBuild.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@helsingborg-stad/styleguide/build/initBuild.js ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nclass initBuild {\n    \n    constructor() {\n        this.sassComponentBuilder();\n    }\n    \n    /**\n     * Copy Markup to clipboard....\n     */\n    copyGenLinks() {\n        const copyLink = document.querySelector('.c-button--copy-compiled-link').getAttribute('id');\n        document.getElementById(copyLink).addEventListener('click', function (element) {\n            navigator.clipboard.writeText(document.getElementById('compiledCSS').innerText)\n                .then(() => {\n                    document.querySelector('.c-button--copy-compiled-link').innerText = 'COPIED!';\n                    setTimeout(function () {\n                        document.querySelector('.c-button--copy-compiled-link').innerText = 'COPY';\n                    }, 3000);\n                })\n                .catch(err => {\n                    console.error('Sorry! - Could not copy markup: ', err);\n                });\n        });\n    }\n    \n    /**\n     * Sending data to CSS compiler\n     */\n    sassComponentBuilder() {\n        \n        const self = this;\n        \n        if (!document.querySelector('.c-button--generate-css')) {\n            return;\n        }\n        \n        // Prepare to generate build\n        const generateCSS = document.querySelector('.c-button--generate-css').getAttribute('id');\n        document.getElementById(generateCSS).addEventListener('click', function (e) {\n            \n            self.changeMarkupState('preBuild', null);\n            \n            const componentArray = [];\n            const checkboxes = document.querySelectorAll('input[type=checkbox]:checked');\n            \n            // Loop through all component checkboxes\n            for (let i = 0; i < checkboxes.length; i++) {\n                componentArray.push(checkboxes[i].value);\n            }\n            \n            // Set display none to CSS Link Code area\n            if (!document.body.classList.contains('u-display--none')) {\n                document.querySelector('.online-compiled-components').classList.add('u-display--none');\n            }\n            \n            if (!componentArray.length > 0) {\n                return;\n            }\n            \n            // Get selected component values and create list of component from selection\n            for (let i = 0; i < checkboxes.length; i++) {\n                checkboxes[i].checked = false;\n                \n                let node = document.createElement(\"span\");\n                let nodeIcon = document.createElement(\"i\");\n                let textNode = document.createTextNode(componentArray[i]);\n                let textNodeIcon = document.createTextNode('extension');\n                \n                node.appendChild(textNode);\n                nodeIcon.appendChild(textNodeIcon);\n                \n                node.classList.add('component-list', 'comp-list-item-'+i, 'c-tags', 'c-tag--default');\n                nodeIcon.classList.add('c-icon', 'c-icon--size-sm', 'material-icons');\n                //node.setAttribute('disabled', 'disabled');\n                \n                document.querySelector('.selected-components').appendChild(node);\n                document.querySelector('.comp-list-item-'+i).prepend(nodeIcon);\n                \n            }\n            \n            // Create SCSS and Build CSS\n            self.changeMarkupState('build', null);\n            self.fetchFormData(componentArray);\n            \n            // Change markup\n            self.changeMarkupState('postBuild', null);\n        });\n    };\n    \n    \n    /**\n     * FetchData - Send componentData to node\n     * Build SCSS & compile SCC\n     * @param componentArray\n     */\n    fetchFormData(componentArray) {\n        const self = this;\n        \n        fetch(\"https://\"+window.location.hostname+\":1337/compilesasscomponent\", {\n            method: \"POST\",\n            mode: 'cors',\n            body: JSON.stringify({\n                \"payload\": componentArray\n            }),\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            }\n        })\n            .then(res => {\n                return res.json();\n            })\n            .then(res => {\n                // Wait for 10 secs until stuff is done....\n                setTimeout(function () {\n                    const cssLink = res.cssFile;\n                    const cssUrl = 'https://' + window.location.hostname + cssLink;\n                    \n                    self.changeMarkupState('result', cssUrl);\n                    self.copyGenLinks();\n                    \n                }, 2000);\n            })\n    };\n    \n    \n    /**\n     * Change stuff in markup\n     * @param cssUrl\n     */\n    changeMarkupState(buildState, cssUrl) {\n        \n        switch (buildState) {\n            \n            case \"preBuild\":\n                document.querySelector('.selected-components').innerHTML = '';\n                document.querySelector('.Selected-components-title').innerHTML = '';\n                break;\n            \n            case \"build\":\n                document.querySelector('.c-loader--text').classList.remove('u-display--none');\n                document.querySelector('.selected-components-loader').classList.remove('u-display--none');\n                document.querySelector('.Selected-components-title')\n                    .innerHTML = 'Compiling CSS with following components:';\n                break;\n            \n            case \"postBuild\":\n                document.querySelector('.c-button--generate-css').blur();\n                document.querySelector('.c-button--generate-css').innerHTML = 'Compiling CSS';\n                document.querySelector('.c-button--generate-css')\n                    .setAttribute('disabled', 'disabled');\n                break;\n            \n            case \"result\":\n                document.querySelector('.online-compiled-components').classList.remove('u-display--none');\n                document.querySelector('.selected-components-loader').classList.add('u-display--none');\n                document.querySelector('.c-loader--text').classList.add('u-display--none');\n                document.querySelector('.c-button--generate-css').innerHTML = 'Generate CSS';\n                document.querySelector('.c-button--generate-css').removeAttribute('disabled');\n                document.getElementById('css-code-template').setAttribute('href', cssUrl);\n                document.getElementById('css-code-template').innerHTML = cssUrl;\n                break;\n        }\n    };\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (initBuild);\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGhlbHNpbmdib3JnLXN0YWQvc3R5bGVndWlkZS9idWlsZC9pbml0QnVpbGQuanM/M2Y1ZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSwyQkFBMkIsdUJBQXVCO0FBQ2xEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMkJBQTJCLHVCQUF1QjtBQUNsRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWUsd0VBQVMsRUFBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9AaGVsc2luZ2Jvcmctc3RhZC9zdHlsZWd1aWRlL2J1aWxkL2luaXRCdWlsZC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImNsYXNzIGluaXRCdWlsZCB7XG4gICAgXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuc2Fzc0NvbXBvbmVudEJ1aWxkZXIoKTtcbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogQ29weSBNYXJrdXAgdG8gY2xpcGJvYXJkLi4uLlxuICAgICAqL1xuICAgIGNvcHlHZW5MaW5rcygpIHtcbiAgICAgICAgY29uc3QgY29weUxpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYy1idXR0b24tLWNvcHktY29tcGlsZWQtbGluaycpLmdldEF0dHJpYnV0ZSgnaWQnKTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY29weUxpbmspLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb21waWxlZENTUycpLmlubmVyVGV4dClcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jLWJ1dHRvbi0tY29weS1jb21waWxlZC1saW5rJykuaW5uZXJUZXh0ID0gJ0NPUElFRCEnO1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jLWJ1dHRvbi0tY29weS1jb21waWxlZC1saW5rJykuaW5uZXJUZXh0ID0gJ0NPUFknO1xuICAgICAgICAgICAgICAgICAgICB9LCAzMDAwKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdTb3JyeSEgLSBDb3VsZCBub3QgY29weSBtYXJrdXA6ICcsIGVycik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBTZW5kaW5nIGRhdGEgdG8gQ1NTIGNvbXBpbGVyXG4gICAgICovXG4gICAgc2Fzc0NvbXBvbmVudEJ1aWxkZXIoKSB7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgICAgXG4gICAgICAgIGlmICghZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmMtYnV0dG9uLS1nZW5lcmF0ZS1jc3MnKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBQcmVwYXJlIHRvIGdlbmVyYXRlIGJ1aWxkXG4gICAgICAgIGNvbnN0IGdlbmVyYXRlQ1NTID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmMtYnV0dG9uLS1nZW5lcmF0ZS1jc3MnKS5nZXRBdHRyaWJ1dGUoJ2lkJyk7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGdlbmVyYXRlQ1NTKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHNlbGYuY2hhbmdlTWFya3VwU3RhdGUoJ3ByZUJ1aWxkJywgbnVsbCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudEFycmF5ID0gW107XG4gICAgICAgICAgICBjb25zdCBjaGVja2JveGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1jaGVja2JveF06Y2hlY2tlZCcpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBMb29wIHRocm91Z2ggYWxsIGNvbXBvbmVudCBjaGVja2JveGVzXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoZWNrYm94ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb21wb25lbnRBcnJheS5wdXNoKGNoZWNrYm94ZXNbaV0udmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTZXQgZGlzcGxheSBub25lIHRvIENTUyBMaW5rIENvZGUgYXJlYVxuICAgICAgICAgICAgaWYgKCFkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5jb250YWlucygndS1kaXNwbGF5LS1ub25lJykpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcub25saW5lLWNvbXBpbGVkLWNvbXBvbmVudHMnKS5jbGFzc0xpc3QuYWRkKCd1LWRpc3BsYXktLW5vbmUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKCFjb21wb25lbnRBcnJheS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBHZXQgc2VsZWN0ZWQgY29tcG9uZW50IHZhbHVlcyBhbmQgY3JlYXRlIGxpc3Qgb2YgY29tcG9uZW50IGZyb20gc2VsZWN0aW9uXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoZWNrYm94ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjaGVja2JveGVzW2ldLmNoZWNrZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBsZXQgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICAgICAgICAgIGxldCBub2RlSWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpXCIpO1xuICAgICAgICAgICAgICAgIGxldCB0ZXh0Tm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNvbXBvbmVudEFycmF5W2ldKTtcbiAgICAgICAgICAgICAgICBsZXQgdGV4dE5vZGVJY29uID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJ2V4dGVuc2lvbicpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQodGV4dE5vZGUpO1xuICAgICAgICAgICAgICAgIG5vZGVJY29uLmFwcGVuZENoaWxkKHRleHROb2RlSWNvbik7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgbm9kZS5jbGFzc0xpc3QuYWRkKCdjb21wb25lbnQtbGlzdCcsICdjb21wLWxpc3QtaXRlbS0nK2ksICdjLXRhZ3MnLCAnYy10YWctLWRlZmF1bHQnKTtcbiAgICAgICAgICAgICAgICBub2RlSWNvbi5jbGFzc0xpc3QuYWRkKCdjLWljb24nLCAnYy1pY29uLS1zaXplLXNtJywgJ21hdGVyaWFsLWljb25zJyk7XG4gICAgICAgICAgICAgICAgLy9ub2RlLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VsZWN0ZWQtY29tcG9uZW50cycpLmFwcGVuZENoaWxkKG5vZGUpO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb21wLWxpc3QtaXRlbS0nK2kpLnByZXBlbmQobm9kZUljb24pO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDcmVhdGUgU0NTUyBhbmQgQnVpbGQgQ1NTXG4gICAgICAgICAgICBzZWxmLmNoYW5nZU1hcmt1cFN0YXRlKCdidWlsZCcsIG51bGwpO1xuICAgICAgICAgICAgc2VsZi5mZXRjaEZvcm1EYXRhKGNvbXBvbmVudEFycmF5KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ2hhbmdlIG1hcmt1cFxuICAgICAgICAgICAgc2VsZi5jaGFuZ2VNYXJrdXBTdGF0ZSgncG9zdEJ1aWxkJywgbnVsbCk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgXG4gICAgXG4gICAgLyoqXG4gICAgICogRmV0Y2hEYXRhIC0gU2VuZCBjb21wb25lbnREYXRhIHRvIG5vZGVcbiAgICAgKiBCdWlsZCBTQ1NTICYgY29tcGlsZSBTQ0NcbiAgICAgKiBAcGFyYW0gY29tcG9uZW50QXJyYXlcbiAgICAgKi9cbiAgICBmZXRjaEZvcm1EYXRhKGNvbXBvbmVudEFycmF5KSB7XG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgICBcbiAgICAgICAgZmV0Y2goXCJodHRwczovL1wiK3dpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZStcIjoxMzM3L2NvbXBpbGVzYXNzY29tcG9uZW50XCIsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgICBtb2RlOiAnY29ycycsXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgXCJwYXlsb2FkXCI6IGNvbXBvbmVudEFycmF5XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4ocmVzID0+IHtcbiAgICAgICAgICAgICAgICAvLyBXYWl0IGZvciAxMCBzZWNzIHVudGlsIHN0dWZmIGlzIGRvbmUuLi4uXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNzc0xpbmsgPSByZXMuY3NzRmlsZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3NzVXJsID0gJ2h0dHBzOi8vJyArIHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSArIGNzc0xpbms7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBzZWxmLmNoYW5nZU1hcmt1cFN0YXRlKCdyZXN1bHQnLCBjc3NVcmwpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmNvcHlHZW5MaW5rcygpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9LCAyMDAwKTtcbiAgICAgICAgICAgIH0pXG4gICAgfTtcbiAgICBcbiAgICBcbiAgICAvKipcbiAgICAgKiBDaGFuZ2Ugc3R1ZmYgaW4gbWFya3VwXG4gICAgICogQHBhcmFtIGNzc1VybFxuICAgICAqL1xuICAgIGNoYW5nZU1hcmt1cFN0YXRlKGJ1aWxkU3RhdGUsIGNzc1VybCkge1xuICAgICAgICBcbiAgICAgICAgc3dpdGNoIChidWlsZFN0YXRlKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNhc2UgXCJwcmVCdWlsZFwiOlxuICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWxlY3RlZC1jb21wb25lbnRzJykuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLlNlbGVjdGVkLWNvbXBvbmVudHMtdGl0bGUnKS5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY2FzZSBcImJ1aWxkXCI6XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmMtbG9hZGVyLS10ZXh0JykuY2xhc3NMaXN0LnJlbW92ZSgndS1kaXNwbGF5LS1ub25lJyk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlbGVjdGVkLWNvbXBvbmVudHMtbG9hZGVyJykuY2xhc3NMaXN0LnJlbW92ZSgndS1kaXNwbGF5LS1ub25lJyk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLlNlbGVjdGVkLWNvbXBvbmVudHMtdGl0bGUnKVxuICAgICAgICAgICAgICAgICAgICAuaW5uZXJIVE1MID0gJ0NvbXBpbGluZyBDU1Mgd2l0aCBmb2xsb3dpbmcgY29tcG9uZW50czonO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjYXNlIFwicG9zdEJ1aWxkXCI6XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmMtYnV0dG9uLS1nZW5lcmF0ZS1jc3MnKS5ibHVyKCk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmMtYnV0dG9uLS1nZW5lcmF0ZS1jc3MnKS5pbm5lckhUTUwgPSAnQ29tcGlsaW5nIENTUyc7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmMtYnV0dG9uLS1nZW5lcmF0ZS1jc3MnKVxuICAgICAgICAgICAgICAgICAgICAuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjYXNlIFwicmVzdWx0XCI6XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm9ubGluZS1jb21waWxlZC1jb21wb25lbnRzJykuY2xhc3NMaXN0LnJlbW92ZSgndS1kaXNwbGF5LS1ub25lJyk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlbGVjdGVkLWNvbXBvbmVudHMtbG9hZGVyJykuY2xhc3NMaXN0LmFkZCgndS1kaXNwbGF5LS1ub25lJyk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmMtbG9hZGVyLS10ZXh0JykuY2xhc3NMaXN0LmFkZCgndS1kaXNwbGF5LS1ub25lJyk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmMtYnV0dG9uLS1nZW5lcmF0ZS1jc3MnKS5pbm5lckhUTUwgPSAnR2VuZXJhdGUgQ1NTJztcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYy1idXR0b24tLWdlbmVyYXRlLWNzcycpLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3NzLWNvZGUtdGVtcGxhdGUnKS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBjc3NVcmwpO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjc3MtY29kZS10ZW1wbGF0ZScpLmlubmVySFRNTCA9IGNzc1VybDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmV4cG9ydCBkZWZhdWx0IGluaXRCdWlsZDtcblxuXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@helsingborg-stad/styleguide/build/initBuild.js\n");

/***/ }),

/***/ "./node_modules/@helsingborg-stad/styleguide/source/js/app.js":
/*!********************************************************************!*\
  !*** ./node_modules/@helsingborg-stad/styleguide/source/js/app.js ***!
  \********************************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _expand_section__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./expand-section */ \"./node_modules/@helsingborg-stad/styleguide/source/js/expand-section.js\");\n/* harmony import */ var _filter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./filter */ \"./node_modules/@helsingborg-stad/styleguide/source/js/filter.js\");\n/* harmony import */ var _sort__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./sort */ \"./node_modules/@helsingborg-stad/styleguide/source/js/sort.js\");\n/* harmony import */ var _toggle__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./toggle */ \"./node_modules/@helsingborg-stad/styleguide/source/js/toggle.js\");\n/* harmony import */ var _menu__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./menu */ \"./node_modules/@helsingborg-stad/styleguide/source/js/menu.js\");\n/* harmony import */ var _modal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./modal */ \"./node_modules/@helsingborg-stad/styleguide/source/js/modal.js\");\n/* harmony import */ var _steppers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./steppers */ \"./node_modules/@helsingborg-stad/styleguide/source/js/steppers.js\");\n/* harmony import */ var _image__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./image */ \"./node_modules/@helsingborg-stad/styleguide/source/js/image.js\");\n/* harmony import */ var _splitButton__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./splitButton */ \"./node_modules/@helsingborg-stad/styleguide/source/js/splitButton.js\");\n/* harmony import */ var _dropdown__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./dropdown */ \"./node_modules/@helsingborg-stad/styleguide/source/js/dropdown.js\");\n/* harmony import */ var _fields__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./fields */ \"./node_modules/@helsingborg-stad/styleguide/source/js/fields.js\");\n/* harmony import */ var _slider__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./slider */ \"./node_modules/@helsingborg-stad/styleguide/source/js/slider.js\");\n/* harmony import */ var _calendar__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./calendar */ \"./node_modules/@helsingborg-stad/styleguide/source/js/calendar.js\");\n/* harmony import */ var _tile__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./tile */ \"./node_modules/@helsingborg-stad/styleguide/source/js/tile.js\");\n/* harmony import */ var _notification__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./notification */ \"./node_modules/@helsingborg-stad/styleguide/source/js/notification.js\");\n/* harmony import */ var _notificationDoc__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./notificationDoc */ \"./node_modules/@helsingborg-stad/styleguide/source/js/notificationDoc.js\");\n/* harmony import */ var _build_initBuild__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../build/initBuild */ \"./node_modules/@helsingborg-stad/styleguide/build/initBuild.js\");\n/* harmony import */ var _sidebar__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./sidebar */ \"./node_modules/@helsingborg-stad/styleguide/source/js/sidebar.js\");\n/* harmony import */ var _dynamicSidebar__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./dynamicSidebar */ \"./node_modules/@helsingborg-stad/styleguide/source/js/dynamicSidebar.js\");\n/* harmony import */ var _navbar__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./navbar */ \"./node_modules/@helsingborg-stad/styleguide/source/js/navbar.js\");\n/* harmony import */ var _table__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./table */ \"./node_modules/@helsingborg-stad/styleguide/source/js/table.js\");\n/* harmony import */ var _segment__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./segment */ \"./node_modules/@helsingborg-stad/styleguide/source/js/segment.js\");\n/* harmony import */ var _mediaQuery__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./mediaQuery */ \"./node_modules/@helsingborg-stad/styleguide/source/js/mediaQuery.js\");\n/* harmony import */ var _pagination__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./pagination */ \"./node_modules/@helsingborg-stad/styleguide/source/js/pagination.js\");\n/* harmony import */ var _resizeByChildren__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./resizeByChildren */ \"./node_modules/@helsingborg-stad/styleguide/source/js/resizeByChildren.js\");\n/* harmony import */ var _keepInViewPort__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./keepInViewPort */ \"./node_modules/@helsingborg-stad/styleguide/source/js/keepInViewPort.js\");\n/* harmony import */ var _datepicker__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./datepicker */ \"./node_modules/@helsingborg-stad/styleguide/source/js/datepicker.js\");\n/* harmony import */ var _helpers_swipe__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./helpers/swipe */ \"./node_modules/@helsingborg-stad/styleguide/source/js/helpers/swipe.js\");\n/* harmony import */ var _helpers_swipe__WEBPACK_IMPORTED_MODULE_27___default = /*#__PURE__*/__webpack_require__.n(_helpers_swipe__WEBPACK_IMPORTED_MODULE_27__);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nObject(_expand_section__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n\nconst SortInstance = new _sort__WEBPACK_IMPORTED_MODULE_2__[\"default\"];\nconst ToggleInstance = new _toggle__WEBPACK_IMPORTED_MODULE_3__[\"default\"];\nconst SplitButtonInstance = new _splitButton__WEBPACK_IMPORTED_MODULE_8__[\"default\"];\nconst DropdownInstance = new _dropdown__WEBPACK_IMPORTED_MODULE_9__[\"default\"];\nconst EventCalendarInstance = new _calendar__WEBPACK_IMPORTED_MODULE_12__[\"default\"];\nconst TilesInstance = new _tile__WEBPACK_IMPORTED_MODULE_13__[\"default\"];\nconst NotificationInstance = new _notification__WEBPACK_IMPORTED_MODULE_14__[\"default\"];\nconst NotificationDocInstance = new _notificationDoc__WEBPACK_IMPORTED_MODULE_15__[\"default\"];\nconst SidebarInstance = new _sidebar__WEBPACK_IMPORTED_MODULE_17__[\"default\"];\nconst NavbarInstance = new _navbar__WEBPACK_IMPORTED_MODULE_19__[\"default\"]();\nconst ContainerMediaQueryInstance = new _mediaQuery__WEBPACK_IMPORTED_MODULE_22__[\"default\"]();\nconst KeepInViewPortInstance = new _keepInViewPort__WEBPACK_IMPORTED_MODULE_25__[\"default\"](); \nconst ResizeByChildrenInstance = new _resizeByChildren__WEBPACK_IMPORTED_MODULE_24__[\"default\"](); \n\nconst tables = document.querySelectorAll('.c-table');\nif (tables.length > 0) {\n    for (let table of tables) {\n        const TableInstance = new _table__WEBPACK_IMPORTED_MODULE_20__[\"default\"](table);\n    }\n}\t\n\nconst sliders = document.querySelectorAll('.c-slider');\nif (sliders) {\n    sliders.forEach(slider => {\n        const SliderInstance = new _slider__WEBPACK_IMPORTED_MODULE_11__[\"default\"](slider);\n    });\n}\n\nconst segments = document.querySelectorAll('.c-segment');\nif (segments) {\n    segments.forEach(segment => {\n        const SegmentInstance = new _segment__WEBPACK_IMPORTED_MODULE_21__[\"default\"](segment);\n    });\n}\n\nconst paginations = document.querySelectorAll('[js-pagination-target]');\nif(paginations) {\n    paginations.forEach((pagination) => {\n        const paginationInstance = new _pagination__WEBPACK_IMPORTED_MODULE_23__[\"default\"](pagination);\n    })\n}\n\n\nSortInstance.applySort();\nToggleInstance.applyToggle();\nDropdownInstance.setValidTargets();\nSplitButtonInstance.syncSplitButton();\nEventCalendarInstance.initiateCalendar();\nTilesInstance.initTiles();\nNotificationDocInstance.addListener();\nNotificationInstance.setup();\nSidebarInstance.applySidebar();\n\n\n// Dynamic Sidebars\nconst DynamicSidebarInstance = new _dynamicSidebar__WEBPACK_IMPORTED_MODULE_18__[\"default\"]();\nDynamicSidebarInstance.applySidebar();\n\nconst filter = new _filter__WEBPACK_IMPORTED_MODULE_1__[\"default\"]();\n\n// Modal\nconst ModalInstance = new _modal__WEBPACK_IMPORTED_MODULE_5__[\"default\"];\nModalInstance.enableModals();\n\n// Steppers\nconst SteppersInstance = new _steppers__WEBPACK_IMPORTED_MODULE_6__[\"default\"];\nSteppersInstance.enableStepper();\n\n// Menu\nconst MenuInstance = new _menu__WEBPACK_IMPORTED_MODULE_4__[\"default\"]();\n\nconst FieldsInstance = new _fields__WEBPACK_IMPORTED_MODULE_10__[\"default\"]();\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGhlbHNpbmdib3JnLXN0YWQvc3R5bGVndWlkZS9zb3VyY2UvanMvYXBwLmpzPzU3YjMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQTZDO0FBQ2Y7QUFDSjtBQUNJO0FBQ0o7QUFDRTtBQUNNO0FBQ047QUFDWTtBQUNOO0FBQ0o7QUFDQTtBQUNTO0FBQ1o7QUFDZTtBQUNNO0FBQ0Y7QUFDZDtBQUNjO0FBQ2hCO0FBQ0Y7QUFDSTtBQUNlO0FBQ1Q7QUFDWTtBQUNKOzs7QUFHeEI7QUFDRzs7QUFFekIsK0RBQWE7O0FBRWIseUJBQXlCLDZDQUFJO0FBQzdCLDJCQUEyQiwrQ0FBTTtBQUNqQyxnQ0FBZ0Msb0RBQVc7QUFDM0MsNkJBQTZCLGlEQUFRO0FBQ3JDLGtDQUFrQyxrREFBYTtBQUMvQywwQkFBMEIsOENBQUs7QUFDL0IsaUNBQWlDLHNEQUFZO0FBQzdDLG9DQUFvQyx5REFBZTtBQUNuRCw0QkFBNEIsaURBQU87QUFDbkMsMkJBQTJCLGdEQUFNO0FBQ2pDLHdDQUF3QyxvREFBbUI7QUFDM0QsbUNBQW1DLHdEQUFjLEc7QUFDakQscUNBQXFDLDBEQUFnQixHOztBQUVyRDtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsK0NBQUs7QUFDdkM7QUFDQSxDOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxnREFBTTtBQUN6QyxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLGlEQUFPO0FBQzNDLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsb0RBQVU7QUFDakQsS0FBSztBQUNMOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0EsbUNBQW1DLHdEQUFjO0FBQ2pEOztBQUVBLG1CQUFtQiwrQ0FBTTs7QUFFekI7QUFDQSwwQkFBMEIsOENBQUs7QUFDL0I7O0FBRUE7QUFDQSw2QkFBNkIsaURBQVE7QUFDckM7O0FBRUE7QUFDQSx5QkFBeUIsNkNBQUk7O0FBRTdCLDJCQUEyQixnREFBTSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9AaGVsc2luZ2Jvcmctc3RhZC9zdHlsZWd1aWRlL3NvdXJjZS9qcy9hcHAuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwYW5kU2VjdGlvbiBmcm9tICcuL2V4cGFuZC1zZWN0aW9uJztcbmltcG9ydCBGaWx0ZXIgZnJvbSAnLi9maWx0ZXInO1xuaW1wb3J0IFNvcnQgZnJvbSAnLi9zb3J0JztcbmltcG9ydCBUb2dnbGUgZnJvbSAnLi90b2dnbGUnO1xuaW1wb3J0IE1lbnUgZnJvbSAnLi9tZW51JztcbmltcG9ydCBNb2RhbCBmcm9tICcuL21vZGFsJztcbmltcG9ydCBTdGVwcGVycyBmcm9tICcuL3N0ZXBwZXJzJztcbmltcG9ydCBJbWFnZSBmcm9tICcuL2ltYWdlJztcbmltcG9ydCBTcGxpdEJ1dHRvbiBmcm9tICcuL3NwbGl0QnV0dG9uJztcbmltcG9ydCBEcm9wZG93biBmcm9tICcuL2Ryb3Bkb3duJztcbmltcG9ydCBGaWVsZHMgZnJvbSAnLi9maWVsZHMnO1xuaW1wb3J0IFNsaWRlciBmcm9tICcuL3NsaWRlcic7XG5pbXBvcnQgRXZlbnRDYWxlbmRhciBmcm9tICcuL2NhbGVuZGFyJztcbmltcG9ydCBUaWxlcyBmcm9tICcuL3RpbGUnO1xuaW1wb3J0IE5vdGlmaWNhdGlvbiBmcm9tICcuL25vdGlmaWNhdGlvbic7XG5pbXBvcnQgTm90aWZpY2F0aW9uRG9jIGZyb20gJy4vbm90aWZpY2F0aW9uRG9jJztcbmltcG9ydCBpbml0QnVpbGQgZnJvbSAnLi4vLi4vYnVpbGQvaW5pdEJ1aWxkJztcbmltcG9ydCBTaWRlYmFyIGZyb20gJy4vc2lkZWJhcic7XG5pbXBvcnQgRHluYW1pY1NpZGViYXIgZnJvbSAnLi9keW5hbWljU2lkZWJhcic7XG5pbXBvcnQgTmF2YmFyIGZyb20gJy4vbmF2YmFyJztcbmltcG9ydCBUYWJsZSBmcm9tICcuL3RhYmxlJztcbmltcG9ydCBTZWdtZW50IGZyb20gJy4vc2VnbWVudCc7XG5pbXBvcnQgQ29udGFpbmVyTWVkaWFRdWVyeSBmcm9tICcuL21lZGlhUXVlcnknO1xuaW1wb3J0IFBhZ2luYXRpb24gZnJvbSAnLi9wYWdpbmF0aW9uJztcbmltcG9ydCBSZXNpemVCeUNoaWxkcmVuIGZyb20gJy4vcmVzaXplQnlDaGlsZHJlbic7XG5pbXBvcnQgS2VlcEluVmlld1BvcnQgZnJvbSAnLi9rZWVwSW5WaWV3UG9ydCc7XG5cblxuaW1wb3J0ICcuL2RhdGVwaWNrZXInO1xuaW1wb3J0ICcuL2hlbHBlcnMvc3dpcGUnO1xuXG5leHBhbmRTZWN0aW9uKCk7XG5cbmNvbnN0IFNvcnRJbnN0YW5jZSA9IG5ldyBTb3J0O1xuY29uc3QgVG9nZ2xlSW5zdGFuY2UgPSBuZXcgVG9nZ2xlO1xuY29uc3QgU3BsaXRCdXR0b25JbnN0YW5jZSA9IG5ldyBTcGxpdEJ1dHRvbjtcbmNvbnN0IERyb3Bkb3duSW5zdGFuY2UgPSBuZXcgRHJvcGRvd247XG5jb25zdCBFdmVudENhbGVuZGFySW5zdGFuY2UgPSBuZXcgRXZlbnRDYWxlbmRhcjtcbmNvbnN0IFRpbGVzSW5zdGFuY2UgPSBuZXcgVGlsZXM7XG5jb25zdCBOb3RpZmljYXRpb25JbnN0YW5jZSA9IG5ldyBOb3RpZmljYXRpb247XG5jb25zdCBOb3RpZmljYXRpb25Eb2NJbnN0YW5jZSA9IG5ldyBOb3RpZmljYXRpb25Eb2M7XG5jb25zdCBTaWRlYmFySW5zdGFuY2UgPSBuZXcgU2lkZWJhcjtcbmNvbnN0IE5hdmJhckluc3RhbmNlID0gbmV3IE5hdmJhcigpO1xuY29uc3QgQ29udGFpbmVyTWVkaWFRdWVyeUluc3RhbmNlID0gbmV3IENvbnRhaW5lck1lZGlhUXVlcnkoKTtcbmNvbnN0IEtlZXBJblZpZXdQb3J0SW5zdGFuY2UgPSBuZXcgS2VlcEluVmlld1BvcnQoKTsgXG5jb25zdCBSZXNpemVCeUNoaWxkcmVuSW5zdGFuY2UgPSBuZXcgUmVzaXplQnlDaGlsZHJlbigpOyBcblxuY29uc3QgdGFibGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmMtdGFibGUnKTtcbmlmICh0YWJsZXMubGVuZ3RoID4gMCkge1xuICAgIGZvciAobGV0IHRhYmxlIG9mIHRhYmxlcykge1xuICAgICAgICBjb25zdCBUYWJsZUluc3RhbmNlID0gbmV3IFRhYmxlKHRhYmxlKTtcbiAgICB9XG59XHRcblxuY29uc3Qgc2xpZGVycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jLXNsaWRlcicpO1xuaWYgKHNsaWRlcnMpIHtcbiAgICBzbGlkZXJzLmZvckVhY2goc2xpZGVyID0+IHtcbiAgICAgICAgY29uc3QgU2xpZGVySW5zdGFuY2UgPSBuZXcgU2xpZGVyKHNsaWRlcik7XG4gICAgfSk7XG59XG5cbmNvbnN0IHNlZ21lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmMtc2VnbWVudCcpO1xuaWYgKHNlZ21lbnRzKSB7XG4gICAgc2VnbWVudHMuZm9yRWFjaChzZWdtZW50ID0+IHtcbiAgICAgICAgY29uc3QgU2VnbWVudEluc3RhbmNlID0gbmV3IFNlZ21lbnQoc2VnbWVudCk7XG4gICAgfSk7XG59XG5cbmNvbnN0IHBhZ2luYXRpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2pzLXBhZ2luYXRpb24tdGFyZ2V0XScpO1xuaWYocGFnaW5hdGlvbnMpIHtcbiAgICBwYWdpbmF0aW9ucy5mb3JFYWNoKChwYWdpbmF0aW9uKSA9PiB7XG4gICAgICAgIGNvbnN0IHBhZ2luYXRpb25JbnN0YW5jZSA9IG5ldyBQYWdpbmF0aW9uKHBhZ2luYXRpb24pO1xuICAgIH0pXG59XG5cblxuU29ydEluc3RhbmNlLmFwcGx5U29ydCgpO1xuVG9nZ2xlSW5zdGFuY2UuYXBwbHlUb2dnbGUoKTtcbkRyb3Bkb3duSW5zdGFuY2Uuc2V0VmFsaWRUYXJnZXRzKCk7XG5TcGxpdEJ1dHRvbkluc3RhbmNlLnN5bmNTcGxpdEJ1dHRvbigpO1xuRXZlbnRDYWxlbmRhckluc3RhbmNlLmluaXRpYXRlQ2FsZW5kYXIoKTtcblRpbGVzSW5zdGFuY2UuaW5pdFRpbGVzKCk7XG5Ob3RpZmljYXRpb25Eb2NJbnN0YW5jZS5hZGRMaXN0ZW5lcigpO1xuTm90aWZpY2F0aW9uSW5zdGFuY2Uuc2V0dXAoKTtcblNpZGViYXJJbnN0YW5jZS5hcHBseVNpZGViYXIoKTtcblxuXG4vLyBEeW5hbWljIFNpZGViYXJzXG5jb25zdCBEeW5hbWljU2lkZWJhckluc3RhbmNlID0gbmV3IER5bmFtaWNTaWRlYmFyKCk7XG5EeW5hbWljU2lkZWJhckluc3RhbmNlLmFwcGx5U2lkZWJhcigpO1xuXG5jb25zdCBmaWx0ZXIgPSBuZXcgRmlsdGVyKCk7XG5cbi8vIE1vZGFsXG5jb25zdCBNb2RhbEluc3RhbmNlID0gbmV3IE1vZGFsO1xuTW9kYWxJbnN0YW5jZS5lbmFibGVNb2RhbHMoKTtcblxuLy8gU3RlcHBlcnNcbmNvbnN0IFN0ZXBwZXJzSW5zdGFuY2UgPSBuZXcgU3RlcHBlcnM7XG5TdGVwcGVyc0luc3RhbmNlLmVuYWJsZVN0ZXBwZXIoKTtcblxuLy8gTWVudVxuY29uc3QgTWVudUluc3RhbmNlID0gbmV3IE1lbnUoKTtcblxuY29uc3QgRmllbGRzSW5zdGFuY2UgPSBuZXcgRmllbGRzKCk7XG5cblxuXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@helsingborg-stad/styleguide/source/js/app.js\n");

/***/ }),

/***/ "./node_modules/@helsingborg-stad/styleguide/source/js/calendar-javascript-lib.js":
/*!****************************************************************************************!*\
  !*** ./node_modules/@helsingborg-stad/styleguide/source/js/calendar-javascript-lib.js ***!
  \****************************************************************************************/
/*! exports provided: Calendar, Organizer */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Calendar\", function() { return Calendar; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Organizer\", function() { return Organizer; });\n/* harmony import */ var _modal__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modal */ \"./node_modules/@helsingborg-stad/styleguide/source/js/modal.js\");\n\r\n\r\n\r\n\r\nfunction Calendar(id, size, labelSettings, colors, options) {\r\n    this.id = id;\r\n    this.size = size;\r\n    this.labelSettings = labelSettings;\r\n    this.colors = colors;\r\n\r\n    this.initday = 0;\r\n\r\n    options = options || {};\r\n\r\n    this.indicator = true;\r\n    if (options.indicator != undefined) this.indicator = options.indicator;\r\n\r\n    this.indicator_type = 1;\r\n    if (options.indicator_type != undefined) this.indicator_type = options.indicator_type;\r\n\r\n    this.indicator_pos  = (this.indicator_type == 1) ? \"bottom\" : \"top\";\r\n    if (options.indicator_pos != undefined) this.indicator_pos = options.indicator_pos;\r\n\r\n    var listPlaceholder = document.createElement(\"LI\");\r\n    listPlaceholder.className = \"cjslib-list-placeholder\";\r\n    listPlaceholder.appendChild(document.createTextNode(\"No events on this day\"));\r\n    listPlaceholder.style = \"text-align: center; padding: 20px 0px;\";\r\n    \r\n    this.placeholder = listPlaceholder.outerHTML;\r\n    if (options.placeholder != undefined) this.placeholder = options.placeholder;\r\n\r\n    var months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\r\n    if (options.months != undefined && options.months.length == 12) months = options.months;\r\n\r\n    var label = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\r\n    if (options.days != undefined && options.days.length == 7) label = options.days;\r\n\r\n    this.months = months;\r\n    this.defaultLabels = label;\r\n\r\n    this.label = [];\r\n    this.labels = [];\r\n    for (var i = 0; i < 7; i++) {\r\n        this.label.push(label[label.indexOf(labelSettings[0]) + this.label.length >= label.length ? Math.abs(label.length - (label.indexOf(labelSettings[0]) + this.label.length)) : label.indexOf(labelSettings[0]) + this.label.length]);\r\n    }\r\n    for (var i = 0; i < 7; i++) {\r\n        this.labels.push(this.label[i].substring(0, labelSettings[1] > 3 ? 3 : labelSettings[1]));\r\n    }\r\n\r\n    this.date = new Date();\r\n    this.today = new Date();\r\n\r\n    this.history = [];\r\n\r\n    this.draw();\r\n    this.update();\r\n\r\n    this.setOnClickListener('days-blocks');\r\n    this.setOnClickListener('month-slider');\r\n    this.setOnClickListener('year-slider');\r\n}\r\n\r\nCalendar.prototype = {\r\n    constructor: Calendar,\r\n    back: function back(func) {\r\n        var date = this.date;\r\n        var lastDay = new Date(date.getMonth() + 1 > 11 ? date.getFullYear() + 1 : date.getFullYear(), date.getMonth() + 1 > 12 ? 0 : date.getMonth() + 1, 0).getDate();\r\n        var previousLastDay = new Date(date.getMonth() < 0 ? date.getFullYear() - 1 : date.getFullYear(), date.getMonth() < 0 ? 11 : date.getMonth(), 0).getDate();\r\n\r\n        if (func == \"month\") {\r\n            if (date.getDate() > previousLastDay) {\r\n                this.changeDateTo(previousLastDay);\r\n            }\r\n            if (date.getMonth() > 0) date.setMonth(date.getMonth() - 1);else {\r\n                date.setMonth(11);\r\n                date.setFullYear(date.getFullYear() - 1);\r\n            }\r\n        } else if (func == \"year\") date.setFullYear(date.getFullYear() - 1);\r\n\r\n        this.update();\r\n    },\r\n    next: function next(func) {\r\n        var date = this.date;\r\n        var lastDay = new Date(date.getMonth() + 1 > 11 ? date.getFullYear() + 1 : date.getFullYear(), date.getMonth() + 1 > 12 ? 0 : date.getMonth() + 1, 0).getDate();\r\n        var soonLastDay = new Date(date.getMonth() + 2 > 11 ? date.getFullYear() + 1 : date.getFullYear(), date.getMonth() + 2 > 12 ? 0 : date.getMonth() + 2, 0).getDate();\r\n\r\n        if (func == \"month\") {\r\n            if (date.getDate() > soonLastDay) {\r\n                this.changeDateTo(soonLastDay);\r\n            }\r\n            if (date.getMonth() != 11) date.setMonth(date.getMonth() + 1);else {\r\n                date.setMonth(0);\r\n                date.setFullYear(date.getFullYear() + 1);\r\n            }\r\n        } else date.setFullYear(date.getFullYear() + 1);\r\n\r\n        this.update();\r\n    },\r\n    changeDateTo: function changeDateTo(theDay, theBlock) {\r\n        if (theBlock >= 31 && theDay <= 11 || theBlock <= 6 && theDay >= 8) {\r\n            if (theBlock >= 31 && theDay <= 11) this.next('month');else if (theBlock <= 6 && theDay >= 8) this.back('month');\r\n\r\n            this.date.setDate(theDay);\r\n\r\n            var calendarInstance = this;\r\n            setTimeout(function () {\r\n                calendarInstance.update();\r\n            }, 1);\r\n\r\n            return true;\r\n        } else this.date.setDate(theDay);\r\n    },\r\n    getDateString: function getDateString() {\r\n        return this.months[this.date.getMonth()] + \" \" + this.date.getDate() + \", \" + this.date.getFullYear();\r\n    }\r\n};\r\n\r\nCalendar.prototype.draw = function () {\r\n    var backSvg = '<svg style=\"width: 24px; height: 24px;\" viewBox=\"0 0 24 24\"><path fill=\"' + this.colors[3] + '\" d=\"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z\"></path></svg>';\r\n    var nextSvg = '<svg style=\"width: 24px; height: 24px;\" viewBox=\"0 0 24 24\"><path fill=\"' + this.colors[3] + '\" d=\"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z\"></path></svg>';\r\n\r\n    var theCalendar = document.createElement(\"DIV\");\r\n    theCalendar.className = \"cjslib-calendar cjslib-size-\" + this.size;\r\n\r\n    //document.getElementById(this.id).appendChild(theCalendar.cloneNode(true));\r\n\r\n    var theContainers = [],\r\n        theNames = ['year', 'month', 'labels', 'days'];\r\n    for (var i = 0; i < theNames.length; i++) {\r\n        theContainers[i] = document.createElement(\"DIV\");\r\n        theContainers[i].className = \"cjslib-\" + theNames[i];\r\n\r\n        if (theNames[i] != \"days\") {\r\n            if (theNames[i] != \"month\") {\r\n                theContainers[i].style.backgroundColor = this.colors[1];\r\n                theContainers[i].style.color = this.colors[3];\r\n\r\n                if (theNames[i] != \"labels\") {\r\n                    var backSlider = document.createElement(\"DIV\");\r\n                    backSlider.id = this.id + \"-year-back\";\r\n                    backSlider.insertAdjacentHTML('beforeend', backSvg);\r\n                    theContainers[i].appendChild(backSlider.cloneNode(true));\r\n\r\n                    var theText = document.createElement(\"SPAN\");\r\n                    theText.id = this.id + \"-\" + theNames[i];\r\n                    theContainers[i].appendChild(theText.cloneNode(true));\r\n\r\n                    var nextSlider = document.createElement(\"DIV\");\r\n                    nextSlider.id = this.id + \"-year-next\";\r\n                    nextSlider.insertAdjacentHTML('beforeend', nextSvg);\r\n                    theContainers[i].appendChild(nextSlider.cloneNode(true));\r\n                }\r\n            } else {\r\n                theContainers[i].style.backgroundColor = this.colors[0];\r\n                theContainers[i].style.color = this.colors[2];\r\n\r\n                var backSlider = document.createElement(\"DIV\");\r\n                backSlider.id = this.id + \"-month-back\";\r\n                backSlider.insertAdjacentHTML('beforeend', backSvg);\r\n                theContainers[i].appendChild(backSlider.cloneNode(true));\r\n\r\n                var theText = document.createElement(\"SPAN\");\r\n                theText.id = this.id + \"-\" + theNames[i];\r\n                theContainers[i].appendChild(theText.cloneNode(true));\r\n\r\n                var nextSlider = document.createElement(\"DIV\");\r\n                nextSlider.id = this.id + \"-month-next\";\r\n                nextSlider.insertAdjacentHTML('beforeend', nextSvg);\r\n                theContainers[i].appendChild(nextSlider.cloneNode(true));\r\n            }\r\n        }\r\n    }\r\n\r\n    for (var i = 0; i < this.labels.length; i++) {\r\n        var theLabel = document.createElement(\"SPAN\");\r\n        theLabel.id = this.id + \"-label-\" + (i + 1);\r\n        theLabel.appendChild(document.createTextNode(this.labels[i]).cloneNode(true));\r\n\r\n        theContainers[2].appendChild(theLabel.cloneNode(true));\r\n    }\r\n\r\n    var theRows = [],\r\n        theDays = [],\r\n        theRadios = [];\r\n    for (var i = 0; i < 6; i++) {\r\n        theRows[i] = document.createElement(\"DIV\");\r\n        theRows[i].className = \"cjslib-row\";\r\n    }\r\n\r\n    for (var i = 0, j = 0; i < 42; i++) {\r\n        theRadios[i] = document.createElement(\"INPUT\");\r\n        theRadios[i].className = \"cjslib-day-radios\";\r\n        theRadios[i].type = \"button\";\r\n        theRadios[i].name = this.id + \"-day-radios\";\r\n        theRadios[i].id = this.id + \"-day-radio-\" + (i + 1);\r\n        theRadios[i].setAttribute('data-open','examplemodalid');\r\n\r\n        theDays[i] = document.createElement(\"LABEL\");\r\n        theDays[i].className = \"cjslib-day\";\r\n        theDays[i].htmlFor = this.id + \"-day-radio-\" + (i + 1);\r\n        theDays[i].id = this.id + \"-day-\" + (i + 1);\r\n        theDays[i].setAttribute('data-open','examplemodalid');\r\n\r\n        var theText = document.createElement(\"SPAN\");\r\n        theText.className = \"cjslib-day-num\";\r\n        theText.id = this.id + \"-day-num-\" + (i + 1);\r\n\r\n        theDays[i].appendChild(theText.cloneNode(true));\r\n\r\n        if (this.indicator) {\r\n            var theIndicator = document.createElement(\"SPAN\");\r\n            theIndicator.className = \"cjslib-day-indicator cjslib-indicator-pos-\" + this.indicator_pos;\r\n                if (this.indicator_type == 1) theIndicator.className += \" cjslib-indicator-type-numeric\";\r\n            theIndicator.id = this.id + \"-day-indicator-\" + (i + 1);\r\n\r\n            theDays[i].appendChild(theIndicator.cloneNode(true));\r\n        }\r\n\r\n        theRows[j].appendChild(theRadios[i].cloneNode(true));\r\n        theRows[j].appendChild(theDays[i].cloneNode(true));\r\n\r\n        if ((i + 1) % 7 == 0) {\r\n            j++;\r\n        }\r\n    }\r\n\r\n    for (var i = 0; i < 6; i++) {\r\n        theContainers[3].appendChild(theRows[i].cloneNode(true));\r\n    }\r\n\r\n    for (var i = 0; i < theContainers.length; i++) {\r\n        theCalendar.appendChild(theContainers[i].cloneNode(true));\r\n    }\r\n\r\n    document.getElementById(this.id).innerHTML = \"<style>.cjslib-day-indicator { color: \" + this.colors[1] + \"; background-color: \" + this.colors[1] + \"; } .cjslib-indicator-type-numeric { color: \" + this.colors[2] + \"; } .cjslib-day.cjslib-day-today > .cjslib-day-num { border-color: \" + this.colors[1] + \" !important; }</style>\";\r\n    document.getElementById(this.id).appendChild(theCalendar.cloneNode(true));\r\n};\r\n\r\nCalendar.prototype.update = function () {\r\n    document.getElementById(this.id + '-year').innerHTML = this.date.getFullYear();\r\n    document.getElementById(this.id + '-month').innerHTML = this.months[this.date.getMonth()];\r\n\r\n    for (var i = 1; i <= 42; i++) {\r\n        document.getElementById(this.id + '-day-num-' + i).innerHTML = \"\";\r\n        document.getElementById(this.id + '-day-' + i).className = this.id + \" cjslib-day cjslib-day-listed\";\r\n    }\r\n\r\n    var firstDay = new Date(this.date.getFullYear(), this.date.getMonth(), 1).getDay();\r\n    var lastDay = new Date(this.date.getMonth() + 1 > 11 ? this.date.getFullYear() + 1 : this.date.getFullYear(), this.date.getMonth() + 1 > 12 ? 0 : this.date.getMonth() + 1, 0).getDate();\r\n\r\n    var previousLastDay = new Date(this.date.getMonth() < 0 ? this.date.getFullYear() - 1 : this.date.getFullYear(), this.date.getMonth() < 0 ? 11 : this.date.getMonth(), 0).getDate();\r\n\r\n    this.initday = this.label.indexOf(this.defaultLabels[firstDay]);\r\n\r\n    var firstDayLabel = this.defaultLabels[firstDay];\r\n    var firstDayLabelPos = this.label.indexOf(firstDayLabel);\r\n\r\n    for (var i = 0, j = previousLastDay; i < firstDayLabelPos; i++, j--) {\r\n        document.getElementById(this.id + '-day-num-' + (firstDayLabelPos - i)).innerHTML = j;\r\n        document.getElementById(this.id + '-day-' + (firstDayLabelPos - i)).className = this.id + \" cjslib-day cjslib-day-diluted\";\r\n    }\r\n\r\n    for (var i = 1; i <= lastDay; i++) {\r\n        document.getElementById(this.id + '-day-num-' + (firstDayLabelPos + i)).innerHTML = i;\r\n\r\n        if (i == this.date.getDate()) document.getElementById(this.id + '-day-radio-' + (firstDayLabelPos + i)).checked = true;\r\n\r\n        if (this.date.getMonth() == this.today.getMonth())\r\n            if (i == this.today.getDate()) document.getElementById(this.id + '-day-' + (firstDayLabelPos + i)).className += \" cjslib-day-today\";\r\n    }\r\n\r\n    for (var i = lastDay + 1, j = 1; firstDayLabelPos + i <= 42; i++, j++) {\r\n        document.getElementById(this.id + '-day-num-' + (firstDayLabelPos + i)).innerHTML = j;\r\n        document.getElementById(this.id + '-day-' + (firstDayLabelPos + i)).className = this.id + \" cjslib-day cjslib-day-diluted\";\r\n    }\r\n};\r\n\r\nCalendar.prototype.setupBlock = function (blockId, calendarInstance, callback) {\r\n    document.getElementById(calendarInstance.id + \"-day-\" + blockId).onclick = function () {\r\n        if (document.getElementById(calendarInstance.id + \"-day-num-\" + blockId).innerHTML.length > 0) {\r\n            calendarInstance.changeDateTo(document.getElementById(calendarInstance.id + \"-day-num-\" + blockId).innerHTML, blockId);\r\n            callback();\r\n        }\r\n    };\r\n};\r\n\r\nCalendar.prototype.setOnClickListener = function (theCase, backCallback, nextCallback) {\r\n    var calendarId = this.id;\r\n\r\n    backCallback = backCallback || function () {};\r\n    nextCallback = nextCallback || function () {};\r\n\r\n    var calendarInstance = this;\r\n\r\n    switch (theCase) {\r\n        case \"days-blocks\":\r\n            for (var i = 1; i <= 42; i++) {\r\n                calendarInstance.setupBlock(i, calendarInstance, backCallback);\r\n            }\r\n            break;\r\n        case \"month-slider\":\r\n            document.getElementById(calendarId + \"-month-back\").onclick = function () {\r\n                calendarInstance.back('month');\r\n                backCallback();\r\n            };\r\n            document.getElementById(calendarId + \"-month-next\").onclick = function () {\r\n                calendarInstance.next('month');\r\n                nextCallback();\r\n            };\r\n            break;\r\n        case \"year-slider\":\r\n            document.getElementById(calendarId + \"-year-back\").onclick = function () {\r\n                calendarInstance.back('year');\r\n                backCallback();\r\n            };\r\n            document.getElementById(calendarId + \"-year-next\").onclick = function () {\r\n                calendarInstance.next('year');\r\n                nextCallback();\r\n            };\r\n            break;\r\n    }\r\n};\r\n\r\nfunction Organizer(id, calendar, data) {\r\n    this.id = id;\r\n    this.calendar = calendar;\r\n\r\n    this.data = data || {};\r\n\r\n    this.draw();\r\n\r\n    var organizerInstance = this;\r\n    organizerInstance.onMonthChange(function () {\r\n        organizerInstance.indicateEvents();\r\n    });\r\n\r\n    this.setOnClickListener('days-blocks');\r\n    this.setOnClickListener('day-slider');\r\n    this.setOnClickListener('month-slider');\r\n    this.setOnClickListener('year-slider');\r\n\r\n    this.setOnLongClickListener('days-blocks');\r\n}\r\n\r\nOrganizer.prototype = {\r\n    constructor: Organizer,\r\n    back: function back(func) {\r\n        var date = this.calendar.date;\r\n        var lastDay = new Date(date.getMonth() + 1 > 11 ? date.getFullYear() + 1 : date.getFullYear(), date.getMonth() + 1 > 12 ? 0 : date.getMonth() + 1, 0).getDate();\r\n        var previousLastDay = new Date(date.getMonth() < 0 ? date.getFullYear() - 1 : date.getFullYear(), date.getMonth() < 0 ? 11 : date.getMonth(), 0).getDate();\r\n\r\n        if (func == \"day\") {\r\n            if (date.getDate() != 1) {\r\n                this.changeDateTo(date.getDate() - 1);\r\n\r\n                this.update();\r\n            } else {\r\n                this.calendar.back('month');\r\n                this.changeDateTo(lastDay);\r\n\r\n                var organizerInstance = this;\r\n                organizerInstance.onMonthChange(function () {\r\n                    organizerInstance.indicateEvents();\r\n                });\r\n            }\r\n\r\n            document.getElementById(this.calendar.id + \"-day-radio-\" + (this.calendar.initday + date.getDate())).checked = true;\r\n        } else {\r\n            this.calendar.back(func);\r\n\r\n            var organizerInstance = this;\r\n            organizerInstance.onMonthChange(function () {\r\n                organizerInstance.indicateEvents();\r\n            });\r\n        }\r\n    },\r\n    next: function next(func) {\r\n        var date = this.calendar.date;\r\n        var lastDay = new Date(date.getMonth() + 1 > 11 ? date.getFullYear() + 1 : date.getFullYear(), date.getMonth() + 1 > 12 ? 0 : date.getMonth() + 1, 0).getDate();\r\n        var soonLastDay = new Date(date.getMonth() + 2 > 11 ? date.getFullYear() + 1 : date.getFullYear(), date.getMonth() + 2 > 12 ? 0 : date.getMonth() + 2, 0).getDate();\r\n\r\n        if (func == \"day\") {\r\n            if (date.getDate() != lastDay) {\r\n                date.setDate(date.getDate() + 1);\r\n\r\n                this.update();\r\n            } else {\r\n                this.calendar.next('month');\r\n                date.setDate(1);\r\n\r\n                var organizerInstance = this;\r\n                organizerInstance.onMonthChange(function () {\r\n                    organizerInstance.indicateEvents();\r\n                });\r\n            }\r\n\r\n            document.getElementById(this.calendar.id + \"-day-radio-\" + (this.calendar.initday + date.getDate())).checked = true;\r\n        } else {\r\n            this.calendar.next(func);\r\n\r\n            var organizerInstance = this;\r\n            organizerInstance.onMonthChange(function () {\r\n                organizerInstance.indicateEvents();\r\n            });\r\n        }\r\n    },\r\n    changeDateTo: function changeDateTo(theDay, theBlock) {\r\n        this.clearHistory();\r\n\r\n        var changedMonth = this.calendar.changeDateTo(theDay, theBlock);\r\n\r\n        var organizerInstance = this;\r\n        return organizerInstance.update();\r\n        setTimeout(function () {\r\n            if (changedMonth) {\r\n                organizerInstance.onMonthChange(function () {\r\n                    organizerInstance.indicateEvents();\r\n                });\r\n            } else return organizerInstance.update();\r\n        }, 1);\r\n    },\r\n    addDate: function changeDateTo(theDay, theBlock) {\r\n        this.showHistory();\r\n\r\n        var changedMonth = this.calendar.changeDateTo(theDay, theBlock);\r\n\r\n        var organizerInstance = this;\r\n        setTimeout(function () {\r\n            if (changedMonth) {\r\n                organizerInstance.onMonthChange(function () {\r\n                    organizerInstance.indicateEvents();\r\n                });\r\n            } else organizerInstance.update();\r\n        }, 1);\r\n    }\r\n};\r\n\r\nOrganizer.prototype.draw = function () {\r\n    var backSvg = '<svg style=\"width: 24px; height: 24px;\" viewBox=\"0 0 24 24\"><path fill=\"' + this.calendar.colors[3] + '\" d=\"M15.41,16.58L10.83,12L15.41,7.41L14,6L8,12L14,18L15.41,16.58Z\"></path></svg>';\r\n    var nextSvg = '<svg style=\"width: 24px; height: 24px;\" viewBox=\"0 0 24 24\"><path fill=\"' + this.calendar.colors[3] + '\" d=\"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z\"></path></svg>';\r\n\r\n    var theOrganizer = document.createElement(\"DIV\");\r\n    theOrganizer.className = \"cjslib-events cjslib-size-\" + this.calendar.size;\r\n\r\n    var theDate = document.createElement(\"DIV\");\r\n    theDate.className = \"cjslib-date\";\r\n    theDate.style.backgroundColor = this.calendar.colors[1];\r\n    theDate.style.color = this.calendar.colors[3];\r\n\r\n    var backSlider = document.createElement(\"DIV\");\r\n    backSlider.id = this.id + \"-day-back\";\r\n    backSlider.insertAdjacentHTML('beforeend', backSvg);\r\n    theDate.appendChild(backSlider.cloneNode(true));\r\n\r\n    var theText = document.createElement(\"SPAN\");\r\n    theText.id = this.id + \"-date\";\r\n    theDate.appendChild(theText.cloneNode(true));\r\n\r\n    var nextSlider = document.createElement(\"DIV\");\r\n    nextSlider.id = this.id + \"-day-next\";\r\n    nextSlider.insertAdjacentHTML('beforeend', nextSvg);\r\n    theDate.appendChild(nextSlider.cloneNode(true));\r\n\r\n    var theRows = document.createElement(\"DIV\");\r\n    theRows.className = \"cjslib-rows\";\r\n    theRows.id = this.id + \"-list-container\";\r\n\r\n    var theList = document.createElement(\"OL\");\r\n    theList.className = \"cjslib-list\";\r\n    theList.id = this.id + \"-list\";\r\n\r\n    var theHistory = document.createElement(\"OL\");\r\n    theHistory.className = \"cjslib-list\";\r\n    theHistory.id = this.id + \"-history\";\r\n\r\n    theRows.appendChild(theList.cloneNode(true));\r\n    theRows.appendChild(theHistory.cloneNode(true));\r\n\r\n    theOrganizer.appendChild(theDate.cloneNode(true));\r\n    theOrganizer.appendChild(theRows.cloneNode(true));\r\n\r\n    document.getElementById(this.id).appendChild(theOrganizer.cloneNode(true));\r\n};\r\n\r\nOrganizer.prototype.update = function () {\r\n    document.getElementById(this.id + \"-date\").innerHTML = this.calendar.months[this.calendar.date.getMonth()] + \" \" + this.calendar.date.getDate() + \", \" + this.calendar.date.getFullYear();\r\n    document.getElementById(this.id + \"-list\").innerHTML = \"\";\r\n    \r\n    return this.showEvents();\r\n};\r\n\r\nOrganizer.prototype.updateData = function (data) {\r\n    this.data = data;\r\n\r\n    this.indicateEvents();\r\n    this.update();\r\n};\r\n\r\nOrganizer.prototype.list = function (data) {\r\n    let events = {'booked': [], 'available': []}\r\n    console.log(\"WHAT\")\r\n    console.log(data)\r\n    for (let i = 0; i < data.length; i++) {\r\n        console.log(i)\r\n        for(event in data[type]){\r\n            let listItem = document.createElement(\"LI\");\r\n            listItem.id = this.id + \"-list-item-\" + type;\r\n    \r\n            \r\n    \r\n            let span = document.createElement(\"SPAN\");\r\n            span.id = this.id + \"-list-item-\" + type + \"-time\";\r\n            span.class = this.id + \" time\";\r\n            span.appendChild(document.createTextNode(data[type].startTime + ' - ' + data[type].endTime));\r\n            \r\n            let division = document.createElement(\"DIV\");\r\n            division.appendChild(span);\r\n    \r\n            let paragraph = document.createElement(\"P\");\r\n            paragraph.id = this.id + \"-list-item-\" + i + \"-text\";\r\n            paragraph.appendChild(document.createTextNode(data[i].text));\r\n    \r\n            listItem.appendChild(division);\r\n            listItem.appendChild(paragraph);\r\n\r\n            events[type].push(listItem);\r\n            \r\n        }\r\n        \r\n    }\r\n    console.log(\"LIST\")\r\n    console.log(events)\r\n    return events;\r\n};\r\n\r\nOrganizer.prototype.remember = function (date, content) {\r\n    if (content.startsWith(\"<div class=\\\"cjslib-list-placeholder\\\">\"))\r\n        return \"\";\r\n\r\n    let dateTitle = this.calendar.getDateString();\r\n    this.calendar.history.unshift(dateTitle);\r\n\r\n    let container = document.createElement(\"UL\");\r\n    container.className = \"cjslib-list cjslib-list-history\"\r\n\r\n    let title = document.createElement(\"LI\");\r\n    title.appendChild(document.createTextNode(dateTitle));\r\n    title.className = \"cjslib-list-history-title cjslib-date\";\r\n    title.style.backgroundColor = this.calendar.colors[1];\r\n    title.style.color = this.calendar.colors[3];\r\n\r\n    container.appendChild(title);\r\n\r\n    container.innerHTML += content;\r\n\r\n    return container.outerHTML;\r\n};\r\n\r\nOrganizer.prototype.clearHistory = function () {\r\n    this.calendar.history = [];\r\n    document.getElementById(this.id + \"-history\").innerHTML = \"\";\r\n}\r\n\r\nOrganizer.prototype.setupBlock = function (blockId, organizerInstance, callback) {\r\n    const calendarInstance = organizerInstance.calendar;\r\n\r\n    document.getElementById(calendarInstance.id + \"-day-\" + blockId).onclick = function (clickEvent) {\r\n        if (document.getElementById(calendarInstance.id + \"-day-num-\" + blockId).innerHTML.length > 0) {\r\n            if (document.getElementById(calendarInstance.id + \"-day-radio-\" + blockId).checked)\r\n                return;\r\n\r\n            var longPressed = \"\" + document.getElementById(calendarInstance.id + \"-day-num-\" + blockId).dataset.longpressed;\r\n            document.getElementById(calendarInstance.id + \"-day-num-\" + blockId).dataset.longpressed = false;\r\n\r\n            if (longPressed != \"true\") {\r\n                const dayNumBlock = document.getElementById(calendarInstance.id + \"-day-num-\" + blockId);\r\n                const dayBlock = document.getElementById(calendarInstance.id + \"-day-\" + blockId);\r\n                const eventList = organizerInstance.changeDateTo(dayNumBlock.innerHTML, blockId);\r\n                console.log('sasd')\r\n                console.log(eventList)\r\n\r\n                callback(clickEvent, eventList, dayBlock, calendarInstance);\r\n            }\r\n        }\r\n    };\r\n};\r\n\r\nOrganizer.prototype.showEvents = function (data) {\r\n    data = data || this.data;\r\n    const date = this.calendar.date;\r\n\r\n    return data[date.getFullYear()][date.getMonth() + 1][date.getDate()]\r\n};\r\n\r\nOrganizer.prototype.showHistory = function (data) {\r\n    data = data || this.data;\r\n    var date = this.calendar.date;\r\n\r\n    var content = this.remember(date, document.getElementById(this.id + \"-list\").innerHTML);\r\n    var history = document.getElementById(this.id + \"-history\").innerHTML;\r\n\r\n    document.getElementById(this.id + \"-history\").innerHTML = content + history;\r\n};\r\n\r\nOrganizer.prototype.showPlaceholder = function (data) {\r\n    var container = document.createElement(\"DIV\");\r\n    container.className = \"cjslib-list-placeholder\";\r\n\r\n    container.innerHTML = this.calendar.placeholder;\r\n\r\n    return container.outerHTML;\r\n};\r\n\r\nOrganizer.prototype.indicateEvents = function (data) {\r\n    data = data || this.data;\r\n    var date = this.calendar.date;\r\n    console.log(data)\r\n\r\n    if (this.calendar.indicator) {\r\n        var allDays = document.getElementsByClassName(this.calendar.id + \" cjslib-day cjslib-day-listed\");\r\n\r\n        for (var i = 0; i < allDays.length; i++) {\r\n            allDays[i].children[1].innerHTML = \"\";\r\n        }\r\n\r\n        try {\r\n            var month = data[date.getFullYear()][date.getMonth() + 1];\r\n            \r\n            for (var key in month) {\r\n                console.log(key)\r\n                console.log(month)\r\n                if (month[key]['booked'].length > 0){\r\n                    allDays[key - 1].children[1].innerHTML = (month[key]['booked'].length > 9) ? \"9+\" : month[key]['booked'].length;\r\n                }\r\n                    \r\n        \r\n            }\r\n        } catch (e) {}\r\n    }\r\n\r\n    this.update();\r\n};\r\n\r\nOrganizer.prototype.onMonthChange = function (callback) {\r\n    callback();\r\n};\r\n\r\nOrganizer.prototype.setOnClickListener = function (theCase, backCallback, nextCallback) {\r\n    var calendarId = this.calendar.id;\r\n    var organizerId = this.id;\r\n\r\n    backCallback = backCallback || function () {};\r\n    nextCallback = nextCallback || function () {};\r\n\r\n    var organizerInstance = this;\r\n\r\n    switch (theCase) {\r\n        case \"days-blocks\":\r\n            for (var i = 1; i <= 42; i++) {\r\n                organizerInstance.setupBlock(i, organizerInstance, backCallback);\r\n            }\r\n            break;\r\n        case \"day-slider\":\r\n            document.getElementById(organizerId + \"-day-back\").onclick = function () {\r\n                organizerInstance.back('day');\r\n                backCallback();\r\n            };\r\n            document.getElementById(organizerId + \"-day-next\").onclick = function () {\r\n                organizerInstance.next('day');\r\n                nextCallback();\r\n            };\r\n            break;\r\n        case \"month-slider\":\r\n            document.getElementById(calendarId + \"-month-back\").onclick = function () {\r\n                organizerInstance.back('month');\r\n                backCallback();\r\n            };\r\n            document.getElementById(calendarId + \"-month-next\").onclick = function () {\r\n                organizerInstance.next('month');\r\n                nextCallback();\r\n            };\r\n            break;\r\n        case \"year-slider\":\r\n            document.getElementById(calendarId + \"-year-back\").onclick = function () {\r\n                organizerInstance.back('year');\r\n                backCallback();\r\n            };\r\n            document.getElementById(calendarId + \"-year-next\").onclick = function () {\r\n                organizerInstance.next('year');\r\n                nextCallback();\r\n            };\r\n            break;\r\n    }\r\n};\r\n\r\nOrganizer.prototype.setupLongClickBlock = function (blockId, organizerInstance, callback) {\r\n    var calendarInstance = organizerInstance.calendar;\r\n\r\n    var mouseDownEvent = function () {\r\n        document.getElementById(calendarInstance.id + \"-day-num-\" + blockId).dataset.longpressed = \"-\";\r\n\r\n        window.setTimeout(function () {\r\n            if (document.getElementById(calendarInstance.id + \"-day-num-\" + blockId).innerHTML.length > 0) {\r\n                if (document.getElementById(calendarInstance.id + \"-day-num-\" + blockId).dataset.longpressed == \"false\")\r\n                    return;\r\n                else document.getElementById(calendarInstance.id + \"-day-num-\" + blockId).dataset.longpressed = true;\r\n\r\n                if (document.getElementById(calendarInstance.id + \"-day-radio-\" + blockId).checked)\r\n                    return;\r\n\r\n                organizerInstance.addDate(document.getElementById(calendarInstance.id + \"-day-num-\" + blockId).innerHTML, blockId);\r\n        \r\n                callback();\r\n            }\r\n        }, 1000);\r\n    };\r\n\r\n    document.getElementById(calendarInstance.id + \"-day-\" + blockId).onmousedown = mouseDownEvent;\r\n    document.getElementById(calendarInstance.id + \"-day-\" + blockId).ontouchstart = mouseDownEvent;\r\n};\r\n\r\nOrganizer.prototype.setOnLongClickListener = function (theCase, backCallback, nextCallback) {\r\n    var calendarId = this.calendar.id;\r\n    var organizerId = this.id;\r\n\r\n    backCallback = backCallback || function () {};\r\n    nextCallback = nextCallback || function () {};\r\n\r\n    var organizerInstance = this;\r\n\r\n    switch (theCase) {\r\n        case \"days-blocks\":\r\n            for (var i = 1; i <= 42; i++) {\r\n                organizerInstance.setupLongClickBlock(i, organizerInstance, backCallback);\r\n            }\r\n            break;\r\n    }\r\n}\r\n\r\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGhlbHNpbmdib3JnLXN0YWQvc3R5bGVndWlkZS9zb3VyY2UvanMvY2FsZW5kYXItamF2YXNjcmlwdC1saWIuanM/ODZiNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFhOztBQUVlOztBQUU1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxtQkFBbUI7O0FBRW5FO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG1CQUFtQixPQUFPO0FBQzFCO0FBQ0E7QUFDQSxtQkFBbUIsT0FBTztBQUMxQjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RUFBd0U7QUFDeEU7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBFQUEwRTtBQUMxRTtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxtRUFBbUU7O0FBRW5FOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMkNBQTJDLGNBQWM7QUFDekQsMkNBQTJDLGNBQWM7O0FBRXpEO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLG1CQUFtQixxQkFBcUI7QUFDeEM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG1CQUFtQix3QkFBd0I7QUFDM0M7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLE9BQU87QUFDMUI7QUFDQTtBQUNBOztBQUVBLDBCQUEwQixRQUFRO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxtQkFBbUIsT0FBTztBQUMxQjtBQUNBOztBQUVBLG1CQUFtQiwwQkFBMEI7QUFDN0M7QUFDQTs7QUFFQSxnRkFBZ0YsK0JBQStCLDBDQUEwQyxFQUFFLGlDQUFpQywrQkFBK0IsRUFBRSxpREFBaUQsaURBQWlELEVBQUU7QUFDalU7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsbUJBQW1CLFNBQVM7QUFDNUI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQSx3Q0FBd0Msc0JBQXNCO0FBQzlEO0FBQ0E7QUFDQTs7QUFFQSxtQkFBbUIsY0FBYztBQUNqQzs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsb0NBQW9DLDRCQUE0QjtBQUNoRTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsMkJBQTJCLFNBQVM7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCOztBQUVBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7O0FBRUE7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQSwyQ0FBMkMsY0FBYztBQUN6RCwyQ0FBMkMsY0FBYzs7QUFFekQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBLG1CQUFtQixpQkFBaUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSx1QkFBdUIsb0JBQW9CO0FBQzNDO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSwyQkFBMkIsU0FBUztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLDJCQUEyQixTQUFTO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGhlbHNpbmdib3JnLXN0YWQvc3R5bGVndWlkZS9zb3VyY2UvanMvY2FsZW5kYXItamF2YXNjcmlwdC1saWIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuXHJcbmltcG9ydCBNb2RhbCBmcm9tICcuL21vZGFsJztcclxuXHJcbmZ1bmN0aW9uIENhbGVuZGFyKGlkLCBzaXplLCBsYWJlbFNldHRpbmdzLCBjb2xvcnMsIG9wdGlvbnMpIHtcclxuICAgIHRoaXMuaWQgPSBpZDtcclxuICAgIHRoaXMuc2l6ZSA9IHNpemU7XHJcbiAgICB0aGlzLmxhYmVsU2V0dGluZ3MgPSBsYWJlbFNldHRpbmdzO1xyXG4gICAgdGhpcy5jb2xvcnMgPSBjb2xvcnM7XHJcblxyXG4gICAgdGhpcy5pbml0ZGF5ID0gMDtcclxuXHJcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuXHJcbiAgICB0aGlzLmluZGljYXRvciA9IHRydWU7XHJcbiAgICBpZiAob3B0aW9ucy5pbmRpY2F0b3IgIT0gdW5kZWZpbmVkKSB0aGlzLmluZGljYXRvciA9IG9wdGlvbnMuaW5kaWNhdG9yO1xyXG5cclxuICAgIHRoaXMuaW5kaWNhdG9yX3R5cGUgPSAxO1xyXG4gICAgaWYgKG9wdGlvbnMuaW5kaWNhdG9yX3R5cGUgIT0gdW5kZWZpbmVkKSB0aGlzLmluZGljYXRvcl90eXBlID0gb3B0aW9ucy5pbmRpY2F0b3JfdHlwZTtcclxuXHJcbiAgICB0aGlzLmluZGljYXRvcl9wb3MgID0gKHRoaXMuaW5kaWNhdG9yX3R5cGUgPT0gMSkgPyBcImJvdHRvbVwiIDogXCJ0b3BcIjtcclxuICAgIGlmIChvcHRpb25zLmluZGljYXRvcl9wb3MgIT0gdW5kZWZpbmVkKSB0aGlzLmluZGljYXRvcl9wb3MgPSBvcHRpb25zLmluZGljYXRvcl9wb3M7XHJcblxyXG4gICAgdmFyIGxpc3RQbGFjZWhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJMSVwiKTtcclxuICAgIGxpc3RQbGFjZWhvbGRlci5jbGFzc05hbWUgPSBcImNqc2xpYi1saXN0LXBsYWNlaG9sZGVyXCI7XHJcbiAgICBsaXN0UGxhY2Vob2xkZXIuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJObyBldmVudHMgb24gdGhpcyBkYXlcIikpO1xyXG4gICAgbGlzdFBsYWNlaG9sZGVyLnN0eWxlID0gXCJ0ZXh0LWFsaWduOiBjZW50ZXI7IHBhZGRpbmc6IDIwcHggMHB4O1wiO1xyXG4gICAgXHJcbiAgICB0aGlzLnBsYWNlaG9sZGVyID0gbGlzdFBsYWNlaG9sZGVyLm91dGVySFRNTDtcclxuICAgIGlmIChvcHRpb25zLnBsYWNlaG9sZGVyICE9IHVuZGVmaW5lZCkgdGhpcy5wbGFjZWhvbGRlciA9IG9wdGlvbnMucGxhY2Vob2xkZXI7XHJcblxyXG4gICAgdmFyIG1vbnRocyA9IFtcIkphbnVhcnlcIiwgXCJGZWJydWFyeVwiLCBcIk1hcmNoXCIsIFwiQXByaWxcIiwgXCJNYXlcIiwgXCJKdW5lXCIsIFwiSnVseVwiLCBcIkF1Z3VzdFwiLCBcIlNlcHRlbWJlclwiLCBcIk9jdG9iZXJcIiwgXCJOb3ZlbWJlclwiLCBcIkRlY2VtYmVyXCJdO1xyXG4gICAgaWYgKG9wdGlvbnMubW9udGhzICE9IHVuZGVmaW5lZCAmJiBvcHRpb25zLm1vbnRocy5sZW5ndGggPT0gMTIpIG1vbnRocyA9IG9wdGlvbnMubW9udGhzO1xyXG5cclxuICAgIHZhciBsYWJlbCA9IFtcIlN1bmRheVwiLCBcIk1vbmRheVwiLCBcIlR1ZXNkYXlcIiwgXCJXZWRuZXNkYXlcIiwgXCJUaHVyc2RheVwiLCBcIkZyaWRheVwiLCBcIlNhdHVyZGF5XCJdO1xyXG4gICAgaWYgKG9wdGlvbnMuZGF5cyAhPSB1bmRlZmluZWQgJiYgb3B0aW9ucy5kYXlzLmxlbmd0aCA9PSA3KSBsYWJlbCA9IG9wdGlvbnMuZGF5cztcclxuXHJcbiAgICB0aGlzLm1vbnRocyA9IG1vbnRocztcclxuICAgIHRoaXMuZGVmYXVsdExhYmVscyA9IGxhYmVsO1xyXG5cclxuICAgIHRoaXMubGFiZWwgPSBbXTtcclxuICAgIHRoaXMubGFiZWxzID0gW107XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDc7IGkrKykge1xyXG4gICAgICAgIHRoaXMubGFiZWwucHVzaChsYWJlbFtsYWJlbC5pbmRleE9mKGxhYmVsU2V0dGluZ3NbMF0pICsgdGhpcy5sYWJlbC5sZW5ndGggPj0gbGFiZWwubGVuZ3RoID8gTWF0aC5hYnMobGFiZWwubGVuZ3RoIC0gKGxhYmVsLmluZGV4T2YobGFiZWxTZXR0aW5nc1swXSkgKyB0aGlzLmxhYmVsLmxlbmd0aCkpIDogbGFiZWwuaW5kZXhPZihsYWJlbFNldHRpbmdzWzBdKSArIHRoaXMubGFiZWwubGVuZ3RoXSk7XHJcbiAgICB9XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDc7IGkrKykge1xyXG4gICAgICAgIHRoaXMubGFiZWxzLnB1c2godGhpcy5sYWJlbFtpXS5zdWJzdHJpbmcoMCwgbGFiZWxTZXR0aW5nc1sxXSA+IDMgPyAzIDogbGFiZWxTZXR0aW5nc1sxXSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuZGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICB0aGlzLnRvZGF5ID0gbmV3IERhdGUoKTtcclxuXHJcbiAgICB0aGlzLmhpc3RvcnkgPSBbXTtcclxuXHJcbiAgICB0aGlzLmRyYXcoKTtcclxuICAgIHRoaXMudXBkYXRlKCk7XHJcblxyXG4gICAgdGhpcy5zZXRPbkNsaWNrTGlzdGVuZXIoJ2RheXMtYmxvY2tzJyk7XHJcbiAgICB0aGlzLnNldE9uQ2xpY2tMaXN0ZW5lcignbW9udGgtc2xpZGVyJyk7XHJcbiAgICB0aGlzLnNldE9uQ2xpY2tMaXN0ZW5lcigneWVhci1zbGlkZXInKTtcclxufVxyXG5cclxuQ2FsZW5kYXIucHJvdG90eXBlID0ge1xyXG4gICAgY29uc3RydWN0b3I6IENhbGVuZGFyLFxyXG4gICAgYmFjazogZnVuY3Rpb24gYmFjayhmdW5jKSB7XHJcbiAgICAgICAgdmFyIGRhdGUgPSB0aGlzLmRhdGU7XHJcbiAgICAgICAgdmFyIGxhc3REYXkgPSBuZXcgRGF0ZShkYXRlLmdldE1vbnRoKCkgKyAxID4gMTEgPyBkYXRlLmdldEZ1bGxZZWFyKCkgKyAxIDogZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCkgKyAxID4gMTIgPyAwIDogZGF0ZS5nZXRNb250aCgpICsgMSwgMCkuZ2V0RGF0ZSgpO1xyXG4gICAgICAgIHZhciBwcmV2aW91c0xhc3REYXkgPSBuZXcgRGF0ZShkYXRlLmdldE1vbnRoKCkgPCAwID8gZGF0ZS5nZXRGdWxsWWVhcigpIC0gMSA6IGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpIDwgMCA/IDExIDogZGF0ZS5nZXRNb250aCgpLCAwKS5nZXREYXRlKCk7XHJcblxyXG4gICAgICAgIGlmIChmdW5jID09IFwibW9udGhcIikge1xyXG4gICAgICAgICAgICBpZiAoZGF0ZS5nZXREYXRlKCkgPiBwcmV2aW91c0xhc3REYXkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlRGF0ZVRvKHByZXZpb3VzTGFzdERheSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGRhdGUuZ2V0TW9udGgoKSA+IDApIGRhdGUuc2V0TW9udGgoZGF0ZS5nZXRNb250aCgpIC0gMSk7ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkYXRlLnNldE1vbnRoKDExKTtcclxuICAgICAgICAgICAgICAgIGRhdGUuc2V0RnVsbFllYXIoZGF0ZS5nZXRGdWxsWWVhcigpIC0gMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKGZ1bmMgPT0gXCJ5ZWFyXCIpIGRhdGUuc2V0RnVsbFllYXIoZGF0ZS5nZXRGdWxsWWVhcigpIC0gMSk7XHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICB9LFxyXG4gICAgbmV4dDogZnVuY3Rpb24gbmV4dChmdW5jKSB7XHJcbiAgICAgICAgdmFyIGRhdGUgPSB0aGlzLmRhdGU7XHJcbiAgICAgICAgdmFyIGxhc3REYXkgPSBuZXcgRGF0ZShkYXRlLmdldE1vbnRoKCkgKyAxID4gMTEgPyBkYXRlLmdldEZ1bGxZZWFyKCkgKyAxIDogZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCkgKyAxID4gMTIgPyAwIDogZGF0ZS5nZXRNb250aCgpICsgMSwgMCkuZ2V0RGF0ZSgpO1xyXG4gICAgICAgIHZhciBzb29uTGFzdERheSA9IG5ldyBEYXRlKGRhdGUuZ2V0TW9udGgoKSArIDIgPiAxMSA/IGRhdGUuZ2V0RnVsbFllYXIoKSArIDEgOiBkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSArIDIgPiAxMiA/IDAgOiBkYXRlLmdldE1vbnRoKCkgKyAyLCAwKS5nZXREYXRlKCk7XHJcblxyXG4gICAgICAgIGlmIChmdW5jID09IFwibW9udGhcIikge1xyXG4gICAgICAgICAgICBpZiAoZGF0ZS5nZXREYXRlKCkgPiBzb29uTGFzdERheSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VEYXRlVG8oc29vbkxhc3REYXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChkYXRlLmdldE1vbnRoKCkgIT0gMTEpIGRhdGUuc2V0TW9udGgoZGF0ZS5nZXRNb250aCgpICsgMSk7ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkYXRlLnNldE1vbnRoKDApO1xyXG4gICAgICAgICAgICAgICAgZGF0ZS5zZXRGdWxsWWVhcihkYXRlLmdldEZ1bGxZZWFyKCkgKyAxKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBkYXRlLnNldEZ1bGxZZWFyKGRhdGUuZ2V0RnVsbFllYXIoKSArIDEpO1xyXG5cclxuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgfSxcclxuICAgIGNoYW5nZURhdGVUbzogZnVuY3Rpb24gY2hhbmdlRGF0ZVRvKHRoZURheSwgdGhlQmxvY2spIHtcclxuICAgICAgICBpZiAodGhlQmxvY2sgPj0gMzEgJiYgdGhlRGF5IDw9IDExIHx8IHRoZUJsb2NrIDw9IDYgJiYgdGhlRGF5ID49IDgpIHtcclxuICAgICAgICAgICAgaWYgKHRoZUJsb2NrID49IDMxICYmIHRoZURheSA8PSAxMSkgdGhpcy5uZXh0KCdtb250aCcpO2Vsc2UgaWYgKHRoZUJsb2NrIDw9IDYgJiYgdGhlRGF5ID49IDgpIHRoaXMuYmFjaygnbW9udGgnKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuZGF0ZS5zZXREYXRlKHRoZURheSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgY2FsZW5kYXJJbnN0YW5jZSA9IHRoaXM7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY2FsZW5kYXJJbnN0YW5jZS51cGRhdGUoKTtcclxuICAgICAgICAgICAgfSwgMSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9IGVsc2UgdGhpcy5kYXRlLnNldERhdGUodGhlRGF5KTtcclxuICAgIH0sXHJcbiAgICBnZXREYXRlU3RyaW5nOiBmdW5jdGlvbiBnZXREYXRlU3RyaW5nKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm1vbnRoc1t0aGlzLmRhdGUuZ2V0TW9udGgoKV0gKyBcIiBcIiArIHRoaXMuZGF0ZS5nZXREYXRlKCkgKyBcIiwgXCIgKyB0aGlzLmRhdGUuZ2V0RnVsbFllYXIoKTtcclxuICAgIH1cclxufTtcclxuXHJcbkNhbGVuZGFyLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGJhY2tTdmcgPSAnPHN2ZyBzdHlsZT1cIndpZHRoOiAyNHB4OyBoZWlnaHQ6IDI0cHg7XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIGZpbGw9XCInICsgdGhpcy5jb2xvcnNbM10gKyAnXCIgZD1cIk0xNS40MSwxNi41OEwxMC44MywxMkwxNS40MSw3LjQxTDE0LDZMOCwxMkwxNCwxOEwxNS40MSwxNi41OFpcIj48L3BhdGg+PC9zdmc+JztcclxuICAgIHZhciBuZXh0U3ZnID0gJzxzdmcgc3R5bGU9XCJ3aWR0aDogMjRweDsgaGVpZ2h0OiAyNHB4O1wiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBmaWxsPVwiJyArIHRoaXMuY29sb3JzWzNdICsgJ1wiIGQ9XCJNOC41OSwxNi41OEwxMy4xNywxMkw4LjU5LDcuNDFMMTAsNkwxNiwxMkwxMCwxOEw4LjU5LDE2LjU4WlwiPjwvcGF0aD48L3N2Zz4nO1xyXG5cclxuICAgIHZhciB0aGVDYWxlbmRhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJESVZcIik7XHJcbiAgICB0aGVDYWxlbmRhci5jbGFzc05hbWUgPSBcImNqc2xpYi1jYWxlbmRhciBjanNsaWItc2l6ZS1cIiArIHRoaXMuc2l6ZTtcclxuXHJcbiAgICAvL2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuaWQpLmFwcGVuZENoaWxkKHRoZUNhbGVuZGFyLmNsb25lTm9kZSh0cnVlKSk7XHJcblxyXG4gICAgdmFyIHRoZUNvbnRhaW5lcnMgPSBbXSxcclxuICAgICAgICB0aGVOYW1lcyA9IFsneWVhcicsICdtb250aCcsICdsYWJlbHMnLCAnZGF5cyddO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGVOYW1lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHRoZUNvbnRhaW5lcnNbaV0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiRElWXCIpO1xyXG4gICAgICAgIHRoZUNvbnRhaW5lcnNbaV0uY2xhc3NOYW1lID0gXCJjanNsaWItXCIgKyB0aGVOYW1lc1tpXTtcclxuXHJcbiAgICAgICAgaWYgKHRoZU5hbWVzW2ldICE9IFwiZGF5c1wiKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGVOYW1lc1tpXSAhPSBcIm1vbnRoXCIpIHtcclxuICAgICAgICAgICAgICAgIHRoZUNvbnRhaW5lcnNbaV0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gdGhpcy5jb2xvcnNbMV07XHJcbiAgICAgICAgICAgICAgICB0aGVDb250YWluZXJzW2ldLnN0eWxlLmNvbG9yID0gdGhpcy5jb2xvcnNbM107XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoZU5hbWVzW2ldICE9IFwibGFiZWxzXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYmFja1NsaWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJESVZcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFja1NsaWRlci5pZCA9IHRoaXMuaWQgKyBcIi15ZWFyLWJhY2tcIjtcclxuICAgICAgICAgICAgICAgICAgICBiYWNrU2xpZGVyLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgYmFja1N2Zyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhlQ29udGFpbmVyc1tpXS5hcHBlbmRDaGlsZChiYWNrU2xpZGVyLmNsb25lTm9kZSh0cnVlKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aGVUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIlNQQU5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhlVGV4dC5pZCA9IHRoaXMuaWQgKyBcIi1cIiArIHRoZU5hbWVzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoZUNvbnRhaW5lcnNbaV0uYXBwZW5kQ2hpbGQodGhlVGV4dC5jbG9uZU5vZGUodHJ1ZSkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dFNsaWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJESVZcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV4dFNsaWRlci5pZCA9IHRoaXMuaWQgKyBcIi15ZWFyLW5leHRcIjtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0U2xpZGVyLmluc2VydEFkamFjZW50SFRNTCgnYmVmb3JlZW5kJywgbmV4dFN2Zyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhlQ29udGFpbmVyc1tpXS5hcHBlbmRDaGlsZChuZXh0U2xpZGVyLmNsb25lTm9kZSh0cnVlKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGVDb250YWluZXJzW2ldLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHRoaXMuY29sb3JzWzBdO1xyXG4gICAgICAgICAgICAgICAgdGhlQ29udGFpbmVyc1tpXS5zdHlsZS5jb2xvciA9IHRoaXMuY29sb3JzWzJdO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBiYWNrU2xpZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkRJVlwiKTtcclxuICAgICAgICAgICAgICAgIGJhY2tTbGlkZXIuaWQgPSB0aGlzLmlkICsgXCItbW9udGgtYmFja1wiO1xyXG4gICAgICAgICAgICAgICAgYmFja1NsaWRlci5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGJhY2tTdmcpO1xyXG4gICAgICAgICAgICAgICAgdGhlQ29udGFpbmVyc1tpXS5hcHBlbmRDaGlsZChiYWNrU2xpZGVyLmNsb25lTm9kZSh0cnVlKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHRoZVRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiU1BBTlwiKTtcclxuICAgICAgICAgICAgICAgIHRoZVRleHQuaWQgPSB0aGlzLmlkICsgXCItXCIgKyB0aGVOYW1lc1tpXTtcclxuICAgICAgICAgICAgICAgIHRoZUNvbnRhaW5lcnNbaV0uYXBwZW5kQ2hpbGQodGhlVGV4dC5jbG9uZU5vZGUodHJ1ZSkpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBuZXh0U2xpZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkRJVlwiKTtcclxuICAgICAgICAgICAgICAgIG5leHRTbGlkZXIuaWQgPSB0aGlzLmlkICsgXCItbW9udGgtbmV4dFwiO1xyXG4gICAgICAgICAgICAgICAgbmV4dFNsaWRlci5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIG5leHRTdmcpO1xyXG4gICAgICAgICAgICAgICAgdGhlQ29udGFpbmVyc1tpXS5hcHBlbmRDaGlsZChuZXh0U2xpZGVyLmNsb25lTm9kZSh0cnVlKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxhYmVscy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciB0aGVMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJTUEFOXCIpO1xyXG4gICAgICAgIHRoZUxhYmVsLmlkID0gdGhpcy5pZCArIFwiLWxhYmVsLVwiICsgKGkgKyAxKTtcclxuICAgICAgICB0aGVMYWJlbC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0aGlzLmxhYmVsc1tpXSkuY2xvbmVOb2RlKHRydWUpKTtcclxuXHJcbiAgICAgICAgdGhlQ29udGFpbmVyc1syXS5hcHBlbmRDaGlsZCh0aGVMYWJlbC5jbG9uZU5vZGUodHJ1ZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciB0aGVSb3dzID0gW10sXHJcbiAgICAgICAgdGhlRGF5cyA9IFtdLFxyXG4gICAgICAgIHRoZVJhZGlvcyA9IFtdO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCA2OyBpKyspIHtcclxuICAgICAgICB0aGVSb3dzW2ldID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkRJVlwiKTtcclxuICAgICAgICB0aGVSb3dzW2ldLmNsYXNzTmFtZSA9IFwiY2pzbGliLXJvd1wiO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAodmFyIGkgPSAwLCBqID0gMDsgaSA8IDQyOyBpKyspIHtcclxuICAgICAgICB0aGVSYWRpb3NbaV0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiSU5QVVRcIik7XHJcbiAgICAgICAgdGhlUmFkaW9zW2ldLmNsYXNzTmFtZSA9IFwiY2pzbGliLWRheS1yYWRpb3NcIjtcclxuICAgICAgICB0aGVSYWRpb3NbaV0udHlwZSA9IFwiYnV0dG9uXCI7XHJcbiAgICAgICAgdGhlUmFkaW9zW2ldLm5hbWUgPSB0aGlzLmlkICsgXCItZGF5LXJhZGlvc1wiO1xyXG4gICAgICAgIHRoZVJhZGlvc1tpXS5pZCA9IHRoaXMuaWQgKyBcIi1kYXktcmFkaW8tXCIgKyAoaSArIDEpO1xyXG4gICAgICAgIHRoZVJhZGlvc1tpXS5zZXRBdHRyaWJ1dGUoJ2RhdGEtb3BlbicsJ2V4YW1wbGVtb2RhbGlkJyk7XHJcblxyXG4gICAgICAgIHRoZURheXNbaV0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiTEFCRUxcIik7XHJcbiAgICAgICAgdGhlRGF5c1tpXS5jbGFzc05hbWUgPSBcImNqc2xpYi1kYXlcIjtcclxuICAgICAgICB0aGVEYXlzW2ldLmh0bWxGb3IgPSB0aGlzLmlkICsgXCItZGF5LXJhZGlvLVwiICsgKGkgKyAxKTtcclxuICAgICAgICB0aGVEYXlzW2ldLmlkID0gdGhpcy5pZCArIFwiLWRheS1cIiArIChpICsgMSk7XHJcbiAgICAgICAgdGhlRGF5c1tpXS5zZXRBdHRyaWJ1dGUoJ2RhdGEtb3BlbicsJ2V4YW1wbGVtb2RhbGlkJyk7XHJcblxyXG4gICAgICAgIHZhciB0aGVUZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIlNQQU5cIik7XHJcbiAgICAgICAgdGhlVGV4dC5jbGFzc05hbWUgPSBcImNqc2xpYi1kYXktbnVtXCI7XHJcbiAgICAgICAgdGhlVGV4dC5pZCA9IHRoaXMuaWQgKyBcIi1kYXktbnVtLVwiICsgKGkgKyAxKTtcclxuXHJcbiAgICAgICAgdGhlRGF5c1tpXS5hcHBlbmRDaGlsZCh0aGVUZXh0LmNsb25lTm9kZSh0cnVlKSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmluZGljYXRvcikge1xyXG4gICAgICAgICAgICB2YXIgdGhlSW5kaWNhdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIlNQQU5cIik7XHJcbiAgICAgICAgICAgIHRoZUluZGljYXRvci5jbGFzc05hbWUgPSBcImNqc2xpYi1kYXktaW5kaWNhdG9yIGNqc2xpYi1pbmRpY2F0b3ItcG9zLVwiICsgdGhpcy5pbmRpY2F0b3JfcG9zO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaW5kaWNhdG9yX3R5cGUgPT0gMSkgdGhlSW5kaWNhdG9yLmNsYXNzTmFtZSArPSBcIiBjanNsaWItaW5kaWNhdG9yLXR5cGUtbnVtZXJpY1wiO1xyXG4gICAgICAgICAgICB0aGVJbmRpY2F0b3IuaWQgPSB0aGlzLmlkICsgXCItZGF5LWluZGljYXRvci1cIiArIChpICsgMSk7XHJcblxyXG4gICAgICAgICAgICB0aGVEYXlzW2ldLmFwcGVuZENoaWxkKHRoZUluZGljYXRvci5jbG9uZU5vZGUodHJ1ZSkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhlUm93c1tqXS5hcHBlbmRDaGlsZCh0aGVSYWRpb3NbaV0uY2xvbmVOb2RlKHRydWUpKTtcclxuICAgICAgICB0aGVSb3dzW2pdLmFwcGVuZENoaWxkKHRoZURheXNbaV0uY2xvbmVOb2RlKHRydWUpKTtcclxuXHJcbiAgICAgICAgaWYgKChpICsgMSkgJSA3ID09IDApIHtcclxuICAgICAgICAgICAgaisrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDY7IGkrKykge1xyXG4gICAgICAgIHRoZUNvbnRhaW5lcnNbM10uYXBwZW5kQ2hpbGQodGhlUm93c1tpXS5jbG9uZU5vZGUodHJ1ZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhlQ29udGFpbmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHRoZUNhbGVuZGFyLmFwcGVuZENoaWxkKHRoZUNvbnRhaW5lcnNbaV0uY2xvbmVOb2RlKHRydWUpKTtcclxuICAgIH1cclxuXHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmlkKS5pbm5lckhUTUwgPSBcIjxzdHlsZT4uY2pzbGliLWRheS1pbmRpY2F0b3IgeyBjb2xvcjogXCIgKyB0aGlzLmNvbG9yc1sxXSArIFwiOyBiYWNrZ3JvdW5kLWNvbG9yOiBcIiArIHRoaXMuY29sb3JzWzFdICsgXCI7IH0gLmNqc2xpYi1pbmRpY2F0b3ItdHlwZS1udW1lcmljIHsgY29sb3I6IFwiICsgdGhpcy5jb2xvcnNbMl0gKyBcIjsgfSAuY2pzbGliLWRheS5janNsaWItZGF5LXRvZGF5ID4gLmNqc2xpYi1kYXktbnVtIHsgYm9yZGVyLWNvbG9yOiBcIiArIHRoaXMuY29sb3JzWzFdICsgXCIgIWltcG9ydGFudDsgfTwvc3R5bGU+XCI7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmlkKS5hcHBlbmRDaGlsZCh0aGVDYWxlbmRhci5jbG9uZU5vZGUodHJ1ZSkpO1xyXG59O1xyXG5cclxuQ2FsZW5kYXIucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuaWQgKyAnLXllYXInKS5pbm5lckhUTUwgPSB0aGlzLmRhdGUuZ2V0RnVsbFllYXIoKTtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuaWQgKyAnLW1vbnRoJykuaW5uZXJIVE1MID0gdGhpcy5tb250aHNbdGhpcy5kYXRlLmdldE1vbnRoKCldO1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IDQyOyBpKyspIHtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmlkICsgJy1kYXktbnVtLScgKyBpKS5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuaWQgKyAnLWRheS0nICsgaSkuY2xhc3NOYW1lID0gdGhpcy5pZCArIFwiIGNqc2xpYi1kYXkgY2pzbGliLWRheS1saXN0ZWRcIjtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgZmlyc3REYXkgPSBuZXcgRGF0ZSh0aGlzLmRhdGUuZ2V0RnVsbFllYXIoKSwgdGhpcy5kYXRlLmdldE1vbnRoKCksIDEpLmdldERheSgpO1xyXG4gICAgdmFyIGxhc3REYXkgPSBuZXcgRGF0ZSh0aGlzLmRhdGUuZ2V0TW9udGgoKSArIDEgPiAxMSA/IHRoaXMuZGF0ZS5nZXRGdWxsWWVhcigpICsgMSA6IHRoaXMuZGF0ZS5nZXRGdWxsWWVhcigpLCB0aGlzLmRhdGUuZ2V0TW9udGgoKSArIDEgPiAxMiA/IDAgOiB0aGlzLmRhdGUuZ2V0TW9udGgoKSArIDEsIDApLmdldERhdGUoKTtcclxuXHJcbiAgICB2YXIgcHJldmlvdXNMYXN0RGF5ID0gbmV3IERhdGUodGhpcy5kYXRlLmdldE1vbnRoKCkgPCAwID8gdGhpcy5kYXRlLmdldEZ1bGxZZWFyKCkgLSAxIDogdGhpcy5kYXRlLmdldEZ1bGxZZWFyKCksIHRoaXMuZGF0ZS5nZXRNb250aCgpIDwgMCA/IDExIDogdGhpcy5kYXRlLmdldE1vbnRoKCksIDApLmdldERhdGUoKTtcclxuXHJcbiAgICB0aGlzLmluaXRkYXkgPSB0aGlzLmxhYmVsLmluZGV4T2YodGhpcy5kZWZhdWx0TGFiZWxzW2ZpcnN0RGF5XSk7XHJcblxyXG4gICAgdmFyIGZpcnN0RGF5TGFiZWwgPSB0aGlzLmRlZmF1bHRMYWJlbHNbZmlyc3REYXldO1xyXG4gICAgdmFyIGZpcnN0RGF5TGFiZWxQb3MgPSB0aGlzLmxhYmVsLmluZGV4T2YoZmlyc3REYXlMYWJlbCk7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDAsIGogPSBwcmV2aW91c0xhc3REYXk7IGkgPCBmaXJzdERheUxhYmVsUG9zOyBpKyssIGotLSkge1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuaWQgKyAnLWRheS1udW0tJyArIChmaXJzdERheUxhYmVsUG9zIC0gaSkpLmlubmVySFRNTCA9IGo7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5pZCArICctZGF5LScgKyAoZmlyc3REYXlMYWJlbFBvcyAtIGkpKS5jbGFzc05hbWUgPSB0aGlzLmlkICsgXCIgY2pzbGliLWRheSBjanNsaWItZGF5LWRpbHV0ZWRcIjtcclxuICAgIH1cclxuXHJcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBsYXN0RGF5OyBpKyspIHtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmlkICsgJy1kYXktbnVtLScgKyAoZmlyc3REYXlMYWJlbFBvcyArIGkpKS5pbm5lckhUTUwgPSBpO1xyXG5cclxuICAgICAgICBpZiAoaSA9PSB0aGlzLmRhdGUuZ2V0RGF0ZSgpKSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmlkICsgJy1kYXktcmFkaW8tJyArIChmaXJzdERheUxhYmVsUG9zICsgaSkpLmNoZWNrZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5kYXRlLmdldE1vbnRoKCkgPT0gdGhpcy50b2RheS5nZXRNb250aCgpKVxyXG4gICAgICAgICAgICBpZiAoaSA9PSB0aGlzLnRvZGF5LmdldERhdGUoKSkgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5pZCArICctZGF5LScgKyAoZmlyc3REYXlMYWJlbFBvcyArIGkpKS5jbGFzc05hbWUgKz0gXCIgY2pzbGliLWRheS10b2RheVwiO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAodmFyIGkgPSBsYXN0RGF5ICsgMSwgaiA9IDE7IGZpcnN0RGF5TGFiZWxQb3MgKyBpIDw9IDQyOyBpKyssIGorKykge1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuaWQgKyAnLWRheS1udW0tJyArIChmaXJzdERheUxhYmVsUG9zICsgaSkpLmlubmVySFRNTCA9IGo7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5pZCArICctZGF5LScgKyAoZmlyc3REYXlMYWJlbFBvcyArIGkpKS5jbGFzc05hbWUgPSB0aGlzLmlkICsgXCIgY2pzbGliLWRheSBjanNsaWItZGF5LWRpbHV0ZWRcIjtcclxuICAgIH1cclxufTtcclxuXHJcbkNhbGVuZGFyLnByb3RvdHlwZS5zZXR1cEJsb2NrID0gZnVuY3Rpb24gKGJsb2NrSWQsIGNhbGVuZGFySW5zdGFuY2UsIGNhbGxiYWNrKSB7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjYWxlbmRhckluc3RhbmNlLmlkICsgXCItZGF5LVwiICsgYmxvY2tJZCkub25jbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY2FsZW5kYXJJbnN0YW5jZS5pZCArIFwiLWRheS1udW0tXCIgKyBibG9ja0lkKS5pbm5lckhUTUwubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBjYWxlbmRhckluc3RhbmNlLmNoYW5nZURhdGVUbyhkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjYWxlbmRhckluc3RhbmNlLmlkICsgXCItZGF5LW51bS1cIiArIGJsb2NrSWQpLmlubmVySFRNTCwgYmxvY2tJZCk7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufTtcclxuXHJcbkNhbGVuZGFyLnByb3RvdHlwZS5zZXRPbkNsaWNrTGlzdGVuZXIgPSBmdW5jdGlvbiAodGhlQ2FzZSwgYmFja0NhbGxiYWNrLCBuZXh0Q2FsbGJhY2spIHtcclxuICAgIHZhciBjYWxlbmRhcklkID0gdGhpcy5pZDtcclxuXHJcbiAgICBiYWNrQ2FsbGJhY2sgPSBiYWNrQ2FsbGJhY2sgfHwgZnVuY3Rpb24gKCkge307XHJcbiAgICBuZXh0Q2FsbGJhY2sgPSBuZXh0Q2FsbGJhY2sgfHwgZnVuY3Rpb24gKCkge307XHJcblxyXG4gICAgdmFyIGNhbGVuZGFySW5zdGFuY2UgPSB0aGlzO1xyXG5cclxuICAgIHN3aXRjaCAodGhlQ2FzZSkge1xyXG4gICAgICAgIGNhc2UgXCJkYXlzLWJsb2Nrc1wiOlxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSA0MjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjYWxlbmRhckluc3RhbmNlLnNldHVwQmxvY2soaSwgY2FsZW5kYXJJbnN0YW5jZSwgYmFja0NhbGxiYWNrKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwibW9udGgtc2xpZGVyXCI6XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNhbGVuZGFySWQgKyBcIi1tb250aC1iYWNrXCIpLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjYWxlbmRhckluc3RhbmNlLmJhY2soJ21vbnRoJyk7XHJcbiAgICAgICAgICAgICAgICBiYWNrQ2FsbGJhY2soKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY2FsZW5kYXJJZCArIFwiLW1vbnRoLW5leHRcIikub25jbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGNhbGVuZGFySW5zdGFuY2UubmV4dCgnbW9udGgnKTtcclxuICAgICAgICAgICAgICAgIG5leHRDYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIFwieWVhci1zbGlkZXJcIjpcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY2FsZW5kYXJJZCArIFwiLXllYXItYmFja1wiKS5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY2FsZW5kYXJJbnN0YW5jZS5iYWNrKCd5ZWFyJyk7XHJcbiAgICAgICAgICAgICAgICBiYWNrQ2FsbGJhY2soKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY2FsZW5kYXJJZCArIFwiLXllYXItbmV4dFwiKS5vbmNsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY2FsZW5kYXJJbnN0YW5jZS5uZXh0KCd5ZWFyJyk7XHJcbiAgICAgICAgICAgICAgICBuZXh0Q2FsbGJhY2soKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbn07XHJcblxyXG5mdW5jdGlvbiBPcmdhbml6ZXIoaWQsIGNhbGVuZGFyLCBkYXRhKSB7XHJcbiAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICB0aGlzLmNhbGVuZGFyID0gY2FsZW5kYXI7XHJcblxyXG4gICAgdGhpcy5kYXRhID0gZGF0YSB8fCB7fTtcclxuXHJcbiAgICB0aGlzLmRyYXcoKTtcclxuXHJcbiAgICB2YXIgb3JnYW5pemVySW5zdGFuY2UgPSB0aGlzO1xyXG4gICAgb3JnYW5pemVySW5zdGFuY2Uub25Nb250aENoYW5nZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgb3JnYW5pemVySW5zdGFuY2UuaW5kaWNhdGVFdmVudHMoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuc2V0T25DbGlja0xpc3RlbmVyKCdkYXlzLWJsb2NrcycpO1xyXG4gICAgdGhpcy5zZXRPbkNsaWNrTGlzdGVuZXIoJ2RheS1zbGlkZXInKTtcclxuICAgIHRoaXMuc2V0T25DbGlja0xpc3RlbmVyKCdtb250aC1zbGlkZXInKTtcclxuICAgIHRoaXMuc2V0T25DbGlja0xpc3RlbmVyKCd5ZWFyLXNsaWRlcicpO1xyXG5cclxuICAgIHRoaXMuc2V0T25Mb25nQ2xpY2tMaXN0ZW5lcignZGF5cy1ibG9ja3MnKTtcclxufVxyXG5cclxuT3JnYW5pemVyLnByb3RvdHlwZSA9IHtcclxuICAgIGNvbnN0cnVjdG9yOiBPcmdhbml6ZXIsXHJcbiAgICBiYWNrOiBmdW5jdGlvbiBiYWNrKGZ1bmMpIHtcclxuICAgICAgICB2YXIgZGF0ZSA9IHRoaXMuY2FsZW5kYXIuZGF0ZTtcclxuICAgICAgICB2YXIgbGFzdERheSA9IG5ldyBEYXRlKGRhdGUuZ2V0TW9udGgoKSArIDEgPiAxMSA/IGRhdGUuZ2V0RnVsbFllYXIoKSArIDEgOiBkYXRlLmdldEZ1bGxZZWFyKCksIGRhdGUuZ2V0TW9udGgoKSArIDEgPiAxMiA/IDAgOiBkYXRlLmdldE1vbnRoKCkgKyAxLCAwKS5nZXREYXRlKCk7XHJcbiAgICAgICAgdmFyIHByZXZpb3VzTGFzdERheSA9IG5ldyBEYXRlKGRhdGUuZ2V0TW9udGgoKSA8IDAgPyBkYXRlLmdldEZ1bGxZZWFyKCkgLSAxIDogZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCkgPCAwID8gMTEgOiBkYXRlLmdldE1vbnRoKCksIDApLmdldERhdGUoKTtcclxuXHJcbiAgICAgICAgaWYgKGZ1bmMgPT0gXCJkYXlcIikge1xyXG4gICAgICAgICAgICBpZiAoZGF0ZS5nZXREYXRlKCkgIT0gMSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VEYXRlVG8oZGF0ZS5nZXREYXRlKCkgLSAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYWxlbmRhci5iYWNrKCdtb250aCcpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VEYXRlVG8obGFzdERheSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIG9yZ2FuaXplckluc3RhbmNlID0gdGhpcztcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXplckluc3RhbmNlLm9uTW9udGhDaGFuZ2UoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9yZ2FuaXplckluc3RhbmNlLmluZGljYXRlRXZlbnRzKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5jYWxlbmRhci5pZCArIFwiLWRheS1yYWRpby1cIiArICh0aGlzLmNhbGVuZGFyLmluaXRkYXkgKyBkYXRlLmdldERhdGUoKSkpLmNoZWNrZWQgPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2FsZW5kYXIuYmFjayhmdW5jKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBvcmdhbml6ZXJJbnN0YW5jZSA9IHRoaXM7XHJcbiAgICAgICAgICAgIG9yZ2FuaXplckluc3RhbmNlLm9uTW9udGhDaGFuZ2UoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemVySW5zdGFuY2UuaW5kaWNhdGVFdmVudHMoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIG5leHQ6IGZ1bmN0aW9uIG5leHQoZnVuYykge1xyXG4gICAgICAgIHZhciBkYXRlID0gdGhpcy5jYWxlbmRhci5kYXRlO1xyXG4gICAgICAgIHZhciBsYXN0RGF5ID0gbmV3IERhdGUoZGF0ZS5nZXRNb250aCgpICsgMSA+IDExID8gZGF0ZS5nZXRGdWxsWWVhcigpICsgMSA6IGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpICsgMSA+IDEyID8gMCA6IGRhdGUuZ2V0TW9udGgoKSArIDEsIDApLmdldERhdGUoKTtcclxuICAgICAgICB2YXIgc29vbkxhc3REYXkgPSBuZXcgRGF0ZShkYXRlLmdldE1vbnRoKCkgKyAyID4gMTEgPyBkYXRlLmdldEZ1bGxZZWFyKCkgKyAxIDogZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCkgKyAyID4gMTIgPyAwIDogZGF0ZS5nZXRNb250aCgpICsgMiwgMCkuZ2V0RGF0ZSgpO1xyXG5cclxuICAgICAgICBpZiAoZnVuYyA9PSBcImRheVwiKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRlLmdldERhdGUoKSAhPSBsYXN0RGF5KSB7XHJcbiAgICAgICAgICAgICAgICBkYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgKyAxKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYWxlbmRhci5uZXh0KCdtb250aCcpO1xyXG4gICAgICAgICAgICAgICAgZGF0ZS5zZXREYXRlKDEpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBvcmdhbml6ZXJJbnN0YW5jZSA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6ZXJJbnN0YW5jZS5vbk1vbnRoQ2hhbmdlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBvcmdhbml6ZXJJbnN0YW5jZS5pbmRpY2F0ZUV2ZW50cygpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuY2FsZW5kYXIuaWQgKyBcIi1kYXktcmFkaW8tXCIgKyAodGhpcy5jYWxlbmRhci5pbml0ZGF5ICsgZGF0ZS5nZXREYXRlKCkpKS5jaGVja2VkID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmNhbGVuZGFyLm5leHQoZnVuYyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgb3JnYW5pemVySW5zdGFuY2UgPSB0aGlzO1xyXG4gICAgICAgICAgICBvcmdhbml6ZXJJbnN0YW5jZS5vbk1vbnRoQ2hhbmdlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXplckluc3RhbmNlLmluZGljYXRlRXZlbnRzKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBjaGFuZ2VEYXRlVG86IGZ1bmN0aW9uIGNoYW5nZURhdGVUbyh0aGVEYXksIHRoZUJsb2NrKSB7XHJcbiAgICAgICAgdGhpcy5jbGVhckhpc3RvcnkoKTtcclxuXHJcbiAgICAgICAgdmFyIGNoYW5nZWRNb250aCA9IHRoaXMuY2FsZW5kYXIuY2hhbmdlRGF0ZVRvKHRoZURheSwgdGhlQmxvY2spO1xyXG5cclxuICAgICAgICB2YXIgb3JnYW5pemVySW5zdGFuY2UgPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiBvcmdhbml6ZXJJbnN0YW5jZS51cGRhdGUoKTtcclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKGNoYW5nZWRNb250aCkge1xyXG4gICAgICAgICAgICAgICAgb3JnYW5pemVySW5zdGFuY2Uub25Nb250aENoYW5nZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3JnYW5pemVySW5zdGFuY2UuaW5kaWNhdGVFdmVudHMoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2UgcmV0dXJuIG9yZ2FuaXplckluc3RhbmNlLnVwZGF0ZSgpO1xyXG4gICAgICAgIH0sIDEpO1xyXG4gICAgfSxcclxuICAgIGFkZERhdGU6IGZ1bmN0aW9uIGNoYW5nZURhdGVUbyh0aGVEYXksIHRoZUJsb2NrKSB7XHJcbiAgICAgICAgdGhpcy5zaG93SGlzdG9yeSgpO1xyXG5cclxuICAgICAgICB2YXIgY2hhbmdlZE1vbnRoID0gdGhpcy5jYWxlbmRhci5jaGFuZ2VEYXRlVG8odGhlRGF5LCB0aGVCbG9jayk7XHJcblxyXG4gICAgICAgIHZhciBvcmdhbml6ZXJJbnN0YW5jZSA9IHRoaXM7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFuZ2VkTW9udGgpIHtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXplckluc3RhbmNlLm9uTW9udGhDaGFuZ2UoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9yZ2FuaXplckluc3RhbmNlLmluZGljYXRlRXZlbnRzKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIG9yZ2FuaXplckluc3RhbmNlLnVwZGF0ZSgpO1xyXG4gICAgICAgIH0sIDEpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuT3JnYW5pemVyLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGJhY2tTdmcgPSAnPHN2ZyBzdHlsZT1cIndpZHRoOiAyNHB4OyBoZWlnaHQ6IDI0cHg7XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIGZpbGw9XCInICsgdGhpcy5jYWxlbmRhci5jb2xvcnNbM10gKyAnXCIgZD1cIk0xNS40MSwxNi41OEwxMC44MywxMkwxNS40MSw3LjQxTDE0LDZMOCwxMkwxNCwxOEwxNS40MSwxNi41OFpcIj48L3BhdGg+PC9zdmc+JztcclxuICAgIHZhciBuZXh0U3ZnID0gJzxzdmcgc3R5bGU9XCJ3aWR0aDogMjRweDsgaGVpZ2h0OiAyNHB4O1wiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBmaWxsPVwiJyArIHRoaXMuY2FsZW5kYXIuY29sb3JzWzNdICsgJ1wiIGQ9XCJNOC41OSwxNi41OEwxMy4xNywxMkw4LjU5LDcuNDFMMTAsNkwxNiwxMkwxMCwxOEw4LjU5LDE2LjU4WlwiPjwvcGF0aD48L3N2Zz4nO1xyXG5cclxuICAgIHZhciB0aGVPcmdhbml6ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiRElWXCIpO1xyXG4gICAgdGhlT3JnYW5pemVyLmNsYXNzTmFtZSA9IFwiY2pzbGliLWV2ZW50cyBjanNsaWItc2l6ZS1cIiArIHRoaXMuY2FsZW5kYXIuc2l6ZTtcclxuXHJcbiAgICB2YXIgdGhlRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJESVZcIik7XHJcbiAgICB0aGVEYXRlLmNsYXNzTmFtZSA9IFwiY2pzbGliLWRhdGVcIjtcclxuICAgIHRoZURhdGUuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gdGhpcy5jYWxlbmRhci5jb2xvcnNbMV07XHJcbiAgICB0aGVEYXRlLnN0eWxlLmNvbG9yID0gdGhpcy5jYWxlbmRhci5jb2xvcnNbM107XHJcblxyXG4gICAgdmFyIGJhY2tTbGlkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiRElWXCIpO1xyXG4gICAgYmFja1NsaWRlci5pZCA9IHRoaXMuaWQgKyBcIi1kYXktYmFja1wiO1xyXG4gICAgYmFja1NsaWRlci5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGJhY2tTdmcpO1xyXG4gICAgdGhlRGF0ZS5hcHBlbmRDaGlsZChiYWNrU2xpZGVyLmNsb25lTm9kZSh0cnVlKSk7XHJcblxyXG4gICAgdmFyIHRoZVRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiU1BBTlwiKTtcclxuICAgIHRoZVRleHQuaWQgPSB0aGlzLmlkICsgXCItZGF0ZVwiO1xyXG4gICAgdGhlRGF0ZS5hcHBlbmRDaGlsZCh0aGVUZXh0LmNsb25lTm9kZSh0cnVlKSk7XHJcblxyXG4gICAgdmFyIG5leHRTbGlkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiRElWXCIpO1xyXG4gICAgbmV4dFNsaWRlci5pZCA9IHRoaXMuaWQgKyBcIi1kYXktbmV4dFwiO1xyXG4gICAgbmV4dFNsaWRlci5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIG5leHRTdmcpO1xyXG4gICAgdGhlRGF0ZS5hcHBlbmRDaGlsZChuZXh0U2xpZGVyLmNsb25lTm9kZSh0cnVlKSk7XHJcblxyXG4gICAgdmFyIHRoZVJvd3MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiRElWXCIpO1xyXG4gICAgdGhlUm93cy5jbGFzc05hbWUgPSBcImNqc2xpYi1yb3dzXCI7XHJcbiAgICB0aGVSb3dzLmlkID0gdGhpcy5pZCArIFwiLWxpc3QtY29udGFpbmVyXCI7XHJcblxyXG4gICAgdmFyIHRoZUxpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiT0xcIik7XHJcbiAgICB0aGVMaXN0LmNsYXNzTmFtZSA9IFwiY2pzbGliLWxpc3RcIjtcclxuICAgIHRoZUxpc3QuaWQgPSB0aGlzLmlkICsgXCItbGlzdFwiO1xyXG5cclxuICAgIHZhciB0aGVIaXN0b3J5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIk9MXCIpO1xyXG4gICAgdGhlSGlzdG9yeS5jbGFzc05hbWUgPSBcImNqc2xpYi1saXN0XCI7XHJcbiAgICB0aGVIaXN0b3J5LmlkID0gdGhpcy5pZCArIFwiLWhpc3RvcnlcIjtcclxuXHJcbiAgICB0aGVSb3dzLmFwcGVuZENoaWxkKHRoZUxpc3QuY2xvbmVOb2RlKHRydWUpKTtcclxuICAgIHRoZVJvd3MuYXBwZW5kQ2hpbGQodGhlSGlzdG9yeS5jbG9uZU5vZGUodHJ1ZSkpO1xyXG5cclxuICAgIHRoZU9yZ2FuaXplci5hcHBlbmRDaGlsZCh0aGVEYXRlLmNsb25lTm9kZSh0cnVlKSk7XHJcbiAgICB0aGVPcmdhbml6ZXIuYXBwZW5kQ2hpbGQodGhlUm93cy5jbG9uZU5vZGUodHJ1ZSkpO1xyXG5cclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuaWQpLmFwcGVuZENoaWxkKHRoZU9yZ2FuaXplci5jbG9uZU5vZGUodHJ1ZSkpO1xyXG59O1xyXG5cclxuT3JnYW5pemVyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmlkICsgXCItZGF0ZVwiKS5pbm5lckhUTUwgPSB0aGlzLmNhbGVuZGFyLm1vbnRoc1t0aGlzLmNhbGVuZGFyLmRhdGUuZ2V0TW9udGgoKV0gKyBcIiBcIiArIHRoaXMuY2FsZW5kYXIuZGF0ZS5nZXREYXRlKCkgKyBcIiwgXCIgKyB0aGlzLmNhbGVuZGFyLmRhdGUuZ2V0RnVsbFllYXIoKTtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuaWQgKyBcIi1saXN0XCIpLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICBcclxuICAgIHJldHVybiB0aGlzLnNob3dFdmVudHMoKTtcclxufTtcclxuXHJcbk9yZ2FuaXplci5wcm90b3R5cGUudXBkYXRlRGF0YSA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICB0aGlzLmRhdGEgPSBkYXRhO1xyXG5cclxuICAgIHRoaXMuaW5kaWNhdGVFdmVudHMoKTtcclxuICAgIHRoaXMudXBkYXRlKCk7XHJcbn07XHJcblxyXG5Pcmdhbml6ZXIucHJvdG90eXBlLmxpc3QgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgbGV0IGV2ZW50cyA9IHsnYm9va2VkJzogW10sICdhdmFpbGFibGUnOiBbXX1cclxuICAgIGNvbnNvbGUubG9nKFwiV0hBVFwiKVxyXG4gICAgY29uc29sZS5sb2coZGF0YSlcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGkpXHJcbiAgICAgICAgZm9yKGV2ZW50IGluIGRhdGFbdHlwZV0pe1xyXG4gICAgICAgICAgICBsZXQgbGlzdEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiTElcIik7XHJcbiAgICAgICAgICAgIGxpc3RJdGVtLmlkID0gdGhpcy5pZCArIFwiLWxpc3QtaXRlbS1cIiArIHR5cGU7XHJcbiAgICBcclxuICAgICAgICAgICAgXHJcbiAgICBcclxuICAgICAgICAgICAgbGV0IHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiU1BBTlwiKTtcclxuICAgICAgICAgICAgc3Bhbi5pZCA9IHRoaXMuaWQgKyBcIi1saXN0LWl0ZW0tXCIgKyB0eXBlICsgXCItdGltZVwiO1xyXG4gICAgICAgICAgICBzcGFuLmNsYXNzID0gdGhpcy5pZCArIFwiIHRpbWVcIjtcclxuICAgICAgICAgICAgc3Bhbi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShkYXRhW3R5cGVdLnN0YXJ0VGltZSArICcgLSAnICsgZGF0YVt0eXBlXS5lbmRUaW1lKSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgZGl2aXNpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiRElWXCIpO1xyXG4gICAgICAgICAgICBkaXZpc2lvbi5hcHBlbmRDaGlsZChzcGFuKTtcclxuICAgIFxyXG4gICAgICAgICAgICBsZXQgcGFyYWdyYXBoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIlBcIik7XHJcbiAgICAgICAgICAgIHBhcmFncmFwaC5pZCA9IHRoaXMuaWQgKyBcIi1saXN0LWl0ZW0tXCIgKyBpICsgXCItdGV4dFwiO1xyXG4gICAgICAgICAgICBwYXJhZ3JhcGguYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZGF0YVtpXS50ZXh0KSk7XHJcbiAgICBcclxuICAgICAgICAgICAgbGlzdEl0ZW0uYXBwZW5kQ2hpbGQoZGl2aXNpb24pO1xyXG4gICAgICAgICAgICBsaXN0SXRlbS5hcHBlbmRDaGlsZChwYXJhZ3JhcGgpO1xyXG5cclxuICAgICAgICAgICAgZXZlbnRzW3R5cGVdLnB1c2gobGlzdEl0ZW0pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICB9XHJcbiAgICBjb25zb2xlLmxvZyhcIkxJU1RcIilcclxuICAgIGNvbnNvbGUubG9nKGV2ZW50cylcclxuICAgIHJldHVybiBldmVudHM7XHJcbn07XHJcblxyXG5Pcmdhbml6ZXIucHJvdG90eXBlLnJlbWVtYmVyID0gZnVuY3Rpb24gKGRhdGUsIGNvbnRlbnQpIHtcclxuICAgIGlmIChjb250ZW50LnN0YXJ0c1dpdGgoXCI8ZGl2IGNsYXNzPVxcXCJjanNsaWItbGlzdC1wbGFjZWhvbGRlclxcXCI+XCIpKVxyXG4gICAgICAgIHJldHVybiBcIlwiO1xyXG5cclxuICAgIGxldCBkYXRlVGl0bGUgPSB0aGlzLmNhbGVuZGFyLmdldERhdGVTdHJpbmcoKTtcclxuICAgIHRoaXMuY2FsZW5kYXIuaGlzdG9yeS51bnNoaWZ0KGRhdGVUaXRsZSk7XHJcblxyXG4gICAgbGV0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJVTFwiKTtcclxuICAgIGNvbnRhaW5lci5jbGFzc05hbWUgPSBcImNqc2xpYi1saXN0IGNqc2xpYi1saXN0LWhpc3RvcnlcIlxyXG5cclxuICAgIGxldCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJMSVwiKTtcclxuICAgIHRpdGxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGRhdGVUaXRsZSkpO1xyXG4gICAgdGl0bGUuY2xhc3NOYW1lID0gXCJjanNsaWItbGlzdC1oaXN0b3J5LXRpdGxlIGNqc2xpYi1kYXRlXCI7XHJcbiAgICB0aXRsZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSB0aGlzLmNhbGVuZGFyLmNvbG9yc1sxXTtcclxuICAgIHRpdGxlLnN0eWxlLmNvbG9yID0gdGhpcy5jYWxlbmRhci5jb2xvcnNbM107XHJcblxyXG4gICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRpdGxlKTtcclxuXHJcbiAgICBjb250YWluZXIuaW5uZXJIVE1MICs9IGNvbnRlbnQ7XHJcblxyXG4gICAgcmV0dXJuIGNvbnRhaW5lci5vdXRlckhUTUw7XHJcbn07XHJcblxyXG5Pcmdhbml6ZXIucHJvdG90eXBlLmNsZWFySGlzdG9yeSA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHRoaXMuY2FsZW5kYXIuaGlzdG9yeSA9IFtdO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5pZCArIFwiLWhpc3RvcnlcIikuaW5uZXJIVE1MID0gXCJcIjtcclxufVxyXG5cclxuT3JnYW5pemVyLnByb3RvdHlwZS5zZXR1cEJsb2NrID0gZnVuY3Rpb24gKGJsb2NrSWQsIG9yZ2FuaXplckluc3RhbmNlLCBjYWxsYmFjaykge1xyXG4gICAgY29uc3QgY2FsZW5kYXJJbnN0YW5jZSA9IG9yZ2FuaXplckluc3RhbmNlLmNhbGVuZGFyO1xyXG5cclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNhbGVuZGFySW5zdGFuY2UuaWQgKyBcIi1kYXktXCIgKyBibG9ja0lkKS5vbmNsaWNrID0gZnVuY3Rpb24gKGNsaWNrRXZlbnQpIHtcclxuICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY2FsZW5kYXJJbnN0YW5jZS5pZCArIFwiLWRheS1udW0tXCIgKyBibG9ja0lkKS5pbm5lckhUTUwubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY2FsZW5kYXJJbnN0YW5jZS5pZCArIFwiLWRheS1yYWRpby1cIiArIGJsb2NrSWQpLmNoZWNrZWQpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICB2YXIgbG9uZ1ByZXNzZWQgPSBcIlwiICsgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY2FsZW5kYXJJbnN0YW5jZS5pZCArIFwiLWRheS1udW0tXCIgKyBibG9ja0lkKS5kYXRhc2V0LmxvbmdwcmVzc2VkO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjYWxlbmRhckluc3RhbmNlLmlkICsgXCItZGF5LW51bS1cIiArIGJsb2NrSWQpLmRhdGFzZXQubG9uZ3ByZXNzZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIGlmIChsb25nUHJlc3NlZCAhPSBcInRydWVcIikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGF5TnVtQmxvY2sgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjYWxlbmRhckluc3RhbmNlLmlkICsgXCItZGF5LW51bS1cIiArIGJsb2NrSWQpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGF5QmxvY2sgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjYWxlbmRhckluc3RhbmNlLmlkICsgXCItZGF5LVwiICsgYmxvY2tJZCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBldmVudExpc3QgPSBvcmdhbml6ZXJJbnN0YW5jZS5jaGFuZ2VEYXRlVG8oZGF5TnVtQmxvY2suaW5uZXJIVE1MLCBibG9ja0lkKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzYXNkJylcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGV2ZW50TGlzdClcclxuXHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhjbGlja0V2ZW50LCBldmVudExpc3QsIGRheUJsb2NrLCBjYWxlbmRhckluc3RhbmNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn07XHJcblxyXG5Pcmdhbml6ZXIucHJvdG90eXBlLnNob3dFdmVudHMgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgZGF0YSA9IGRhdGEgfHwgdGhpcy5kYXRhO1xyXG4gICAgY29uc3QgZGF0ZSA9IHRoaXMuY2FsZW5kYXIuZGF0ZTtcclxuXHJcbiAgICByZXR1cm4gZGF0YVtkYXRlLmdldEZ1bGxZZWFyKCldW2RhdGUuZ2V0TW9udGgoKSArIDFdW2RhdGUuZ2V0RGF0ZSgpXVxyXG59O1xyXG5cclxuT3JnYW5pemVyLnByb3RvdHlwZS5zaG93SGlzdG9yeSA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICBkYXRhID0gZGF0YSB8fCB0aGlzLmRhdGE7XHJcbiAgICB2YXIgZGF0ZSA9IHRoaXMuY2FsZW5kYXIuZGF0ZTtcclxuXHJcbiAgICB2YXIgY29udGVudCA9IHRoaXMucmVtZW1iZXIoZGF0ZSwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5pZCArIFwiLWxpc3RcIikuaW5uZXJIVE1MKTtcclxuICAgIHZhciBoaXN0b3J5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5pZCArIFwiLWhpc3RvcnlcIikuaW5uZXJIVE1MO1xyXG5cclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuaWQgKyBcIi1oaXN0b3J5XCIpLmlubmVySFRNTCA9IGNvbnRlbnQgKyBoaXN0b3J5O1xyXG59O1xyXG5cclxuT3JnYW5pemVyLnByb3RvdHlwZS5zaG93UGxhY2Vob2xkZXIgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgdmFyIGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJESVZcIik7XHJcbiAgICBjb250YWluZXIuY2xhc3NOYW1lID0gXCJjanNsaWItbGlzdC1wbGFjZWhvbGRlclwiO1xyXG5cclxuICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSB0aGlzLmNhbGVuZGFyLnBsYWNlaG9sZGVyO1xyXG5cclxuICAgIHJldHVybiBjb250YWluZXIub3V0ZXJIVE1MO1xyXG59O1xyXG5cclxuT3JnYW5pemVyLnByb3RvdHlwZS5pbmRpY2F0ZUV2ZW50cyA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICBkYXRhID0gZGF0YSB8fCB0aGlzLmRhdGE7XHJcbiAgICB2YXIgZGF0ZSA9IHRoaXMuY2FsZW5kYXIuZGF0ZTtcclxuICAgIGNvbnNvbGUubG9nKGRhdGEpXHJcblxyXG4gICAgaWYgKHRoaXMuY2FsZW5kYXIuaW5kaWNhdG9yKSB7XHJcbiAgICAgICAgdmFyIGFsbERheXMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKHRoaXMuY2FsZW5kYXIuaWQgKyBcIiBjanNsaWItZGF5IGNqc2xpYi1kYXktbGlzdGVkXCIpO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbERheXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgYWxsRGF5c1tpXS5jaGlsZHJlblsxXS5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdmFyIG1vbnRoID0gZGF0YVtkYXRlLmdldEZ1bGxZZWFyKCldW2RhdGUuZ2V0TW9udGgoKSArIDFdO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIG1vbnRoKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhrZXkpXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhtb250aClcclxuICAgICAgICAgICAgICAgIGlmIChtb250aFtrZXldWydib29rZWQnXS5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgICAgICAgICBhbGxEYXlzW2tleSAtIDFdLmNoaWxkcmVuWzFdLmlubmVySFRNTCA9IChtb250aFtrZXldWydib29rZWQnXS5sZW5ndGggPiA5KSA/IFwiOStcIiA6IG1vbnRoW2tleV1bJ2Jvb2tlZCddLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHt9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy51cGRhdGUoKTtcclxufTtcclxuXHJcbk9yZ2FuaXplci5wcm90b3R5cGUub25Nb250aENoYW5nZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgY2FsbGJhY2soKTtcclxufTtcclxuXHJcbk9yZ2FuaXplci5wcm90b3R5cGUuc2V0T25DbGlja0xpc3RlbmVyID0gZnVuY3Rpb24gKHRoZUNhc2UsIGJhY2tDYWxsYmFjaywgbmV4dENhbGxiYWNrKSB7XHJcbiAgICB2YXIgY2FsZW5kYXJJZCA9IHRoaXMuY2FsZW5kYXIuaWQ7XHJcbiAgICB2YXIgb3JnYW5pemVySWQgPSB0aGlzLmlkO1xyXG5cclxuICAgIGJhY2tDYWxsYmFjayA9IGJhY2tDYWxsYmFjayB8fCBmdW5jdGlvbiAoKSB7fTtcclxuICAgIG5leHRDYWxsYmFjayA9IG5leHRDYWxsYmFjayB8fCBmdW5jdGlvbiAoKSB7fTtcclxuXHJcbiAgICB2YXIgb3JnYW5pemVySW5zdGFuY2UgPSB0aGlzO1xyXG5cclxuICAgIHN3aXRjaCAodGhlQ2FzZSkge1xyXG4gICAgICAgIGNhc2UgXCJkYXlzLWJsb2Nrc1wiOlxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSA0MjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6ZXJJbnN0YW5jZS5zZXR1cEJsb2NrKGksIG9yZ2FuaXplckluc3RhbmNlLCBiYWNrQ2FsbGJhY2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCJkYXktc2xpZGVyXCI6XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG9yZ2FuaXplcklkICsgXCItZGF5LWJhY2tcIikub25jbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXplckluc3RhbmNlLmJhY2soJ2RheScpO1xyXG4gICAgICAgICAgICAgICAgYmFja0NhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG9yZ2FuaXplcklkICsgXCItZGF5LW5leHRcIikub25jbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXplckluc3RhbmNlLm5leHQoJ2RheScpO1xyXG4gICAgICAgICAgICAgICAgbmV4dENhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgXCJtb250aC1zbGlkZXJcIjpcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY2FsZW5kYXJJZCArIFwiLW1vbnRoLWJhY2tcIikub25jbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXplckluc3RhbmNlLmJhY2soJ21vbnRoJyk7XHJcbiAgICAgICAgICAgICAgICBiYWNrQ2FsbGJhY2soKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY2FsZW5kYXJJZCArIFwiLW1vbnRoLW5leHRcIikub25jbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXplckluc3RhbmNlLm5leHQoJ21vbnRoJyk7XHJcbiAgICAgICAgICAgICAgICBuZXh0Q2FsbGJhY2soKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBcInllYXItc2xpZGVyXCI6XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNhbGVuZGFySWQgKyBcIi15ZWFyLWJhY2tcIikub25jbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIG9yZ2FuaXplckluc3RhbmNlLmJhY2soJ3llYXInKTtcclxuICAgICAgICAgICAgICAgIGJhY2tDYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjYWxlbmRhcklkICsgXCIteWVhci1uZXh0XCIpLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6ZXJJbnN0YW5jZS5uZXh0KCd5ZWFyJyk7XHJcbiAgICAgICAgICAgICAgICBuZXh0Q2FsbGJhY2soKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbn07XHJcblxyXG5Pcmdhbml6ZXIucHJvdG90eXBlLnNldHVwTG9uZ0NsaWNrQmxvY2sgPSBmdW5jdGlvbiAoYmxvY2tJZCwgb3JnYW5pemVySW5zdGFuY2UsIGNhbGxiYWNrKSB7XHJcbiAgICB2YXIgY2FsZW5kYXJJbnN0YW5jZSA9IG9yZ2FuaXplckluc3RhbmNlLmNhbGVuZGFyO1xyXG5cclxuICAgIHZhciBtb3VzZURvd25FdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjYWxlbmRhckluc3RhbmNlLmlkICsgXCItZGF5LW51bS1cIiArIGJsb2NrSWQpLmRhdGFzZXQubG9uZ3ByZXNzZWQgPSBcIi1cIjtcclxuXHJcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY2FsZW5kYXJJbnN0YW5jZS5pZCArIFwiLWRheS1udW0tXCIgKyBibG9ja0lkKS5pbm5lckhUTUwubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNhbGVuZGFySW5zdGFuY2UuaWQgKyBcIi1kYXktbnVtLVwiICsgYmxvY2tJZCkuZGF0YXNldC5sb25ncHJlc3NlZCA9PSBcImZhbHNlXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjYWxlbmRhckluc3RhbmNlLmlkICsgXCItZGF5LW51bS1cIiArIGJsb2NrSWQpLmRhdGFzZXQubG9uZ3ByZXNzZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjYWxlbmRhckluc3RhbmNlLmlkICsgXCItZGF5LXJhZGlvLVwiICsgYmxvY2tJZCkuY2hlY2tlZClcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgb3JnYW5pemVySW5zdGFuY2UuYWRkRGF0ZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjYWxlbmRhckluc3RhbmNlLmlkICsgXCItZGF5LW51bS1cIiArIGJsb2NrSWQpLmlubmVySFRNTCwgYmxvY2tJZCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgMTAwMCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNhbGVuZGFySW5zdGFuY2UuaWQgKyBcIi1kYXktXCIgKyBibG9ja0lkKS5vbm1vdXNlZG93biA9IG1vdXNlRG93bkV2ZW50O1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY2FsZW5kYXJJbnN0YW5jZS5pZCArIFwiLWRheS1cIiArIGJsb2NrSWQpLm9udG91Y2hzdGFydCA9IG1vdXNlRG93bkV2ZW50O1xyXG59O1xyXG5cclxuT3JnYW5pemVyLnByb3RvdHlwZS5zZXRPbkxvbmdDbGlja0xpc3RlbmVyID0gZnVuY3Rpb24gKHRoZUNhc2UsIGJhY2tDYWxsYmFjaywgbmV4dENhbGxiYWNrKSB7XHJcbiAgICB2YXIgY2FsZW5kYXJJZCA9IHRoaXMuY2FsZW5kYXIuaWQ7XHJcbiAgICB2YXIgb3JnYW5pemVySWQgPSB0aGlzLmlkO1xyXG5cclxuICAgIGJhY2tDYWxsYmFjayA9IGJhY2tDYWxsYmFjayB8fCBmdW5jdGlvbiAoKSB7fTtcclxuICAgIG5leHRDYWxsYmFjayA9IG5leHRDYWxsYmFjayB8fCBmdW5jdGlvbiAoKSB7fTtcclxuXHJcbiAgICB2YXIgb3JnYW5pemVySW5zdGFuY2UgPSB0aGlzO1xyXG5cclxuICAgIHN3aXRjaCAodGhlQ2FzZSkge1xyXG4gICAgICAgIGNhc2UgXCJkYXlzLWJsb2Nrc1wiOlxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSA0MjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBvcmdhbml6ZXJJbnN0YW5jZS5zZXR1cExvbmdDbGlja0Jsb2NrKGksIG9yZ2FuaXplckluc3RhbmNlLCBiYWNrQ2FsbGJhY2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuZXhwb3J0IHtDYWxlbmRhciwgT3JnYW5pemVyfTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@helsingborg-stad/styleguide/source/js/calendar-javascript-lib.js\n");

/***/ }),

/***/ "./node_modules/@helsingborg-stad/styleguide/source/js/calendar.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@helsingborg-stad/styleguide/source/js/calendar.js ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _calendar_javascript_lib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./calendar-javascript-lib */ \"./node_modules/@helsingborg-stad/styleguide/source/js/calendar-javascript-lib.js\");\n\n\nclass EventCalendar{\n\n    constructor(){\n        this.timeslots = [];\n    }\n\n    initiateCalendar(){\n\n        const calendar = document.querySelector('.c-calendar');\n        if(calendar){\n            const eventsUrl = calendar.getAttribute('eventsUrl');\n            const bookingUrl = calendar.getAttribute('bookingUrl');\n            const size = calendar.getAttribute('size');\n            const weekStart = calendar.getAttribute('weekStart'); \n\n            this.getEvents(eventsUrl).then(data => this.setup(data, weekStart, size, calendar, bookingUrl));\n        }\n        \n    }\n\n    getEvents(eventsUrl){ \n        return fetch(eventsUrl)\n            .then(response => response.json())\n            .then(data => {\n                return data;\n            });\n    }\n\n    postEvents(bookingUrl){\n        fetch(bookingUrl, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(this.timeslots)\n        })\n    }\n\n    setButtonListener(calendarElement, bookingUrl){\n        const button = calendarElement.getElementsByClassName('postEventButton');\n        button[0].addEventListener('click',() =>{\n            this.postEvents(bookingUrl)\n        })\n    }\n\n    // TODO: modify lib to return timestamps directly instead of strings...\n    setTimeslotListener(checkbox, date, timeslot){\n        checkbox.addEventListener('change', (event) => {\n            const timeslotParts = timeslot.split(' - ')\n            const from = timeslotParts[0].split(':')[0];\n            const to = timeslotParts[1].split(':')[0];\n            const temp = {\n                from: date.setHours(parseInt(from), 0, 0, 0),\n                to: date.setHours(parseInt(to), 0, 0, 0)\n            }\n            \n            if(checkbox.checked){\n                this.timeslots.push(temp)\n            }else if(!checkbox.checked) {\n                //remove timestamp if checked and then unchecked\n                for(let i = 0; i < this.timeslots.length; i++){\n                    if(JSON.stringify(this.timeslots[i]) === JSON.stringify(temp)){\n                        this.timeslots.splice(i, 1)\n                    }\n                }\n            }\n        });\n    }\n\n    //TODO: Research the possibility to make the elment a bit less complex.\n    createListElement(events, date, availableEvents){\n        let listItem = document.createElement(\"LI\");\n        \n        for(let i = 0; i < events.length; i++){\n            const timeslot = events[i].startTime + ' - ' + events[i].endTime;\n            listItem.id = this.id + \"-list-item-\" + i;\n    \n            let division = document.createElement(\"DIV\");\n            \n            let checkbox = document.createElement('INPUT');\n            checkbox.setAttribute('type', 'checkbox');\n            this.setTimeslotListener(checkbox, date, timeslot);\n\n            let span = document.createElement(\"SPAN\");\n            span.id = this.id + \"-list-item-\" + i + \"-time\";\n            span.class = this.id + \" time\";\n            span.appendChild(document.createTextNode(events[i].startTime + ' - ' + events[i].endTime));\n\n            division.appendChild(span);\n    \n            let paragraph = document.createElement(\"P\");\n            paragraph.id = this.id + \"-list-item-\" + i + \"-text\";\n            paragraph.appendChild(document.createTextNode(events[i].text));\n            \n            if(availableEvents) paragraph.appendChild(checkbox);\n\n            listItem.appendChild(division);\n            listItem.appendChild(paragraph);\n        }\n        \n        return listItem\n\n    }\n\n    setup (data, weekStart, size, calendarElement, postUrl){\n        let calendar = new _calendar_javascript_lib__WEBPACK_IMPORTED_MODULE_0__[\"Calendar\"](\"calendarContainer\",\n\t\t\t\tsize,\n\t\t\t\t[\n\t\t\t\t\tweekStart,\n\t\t\t\t\t3\n                ], \n                [],\n\t\t\t\t{\n\t\t\t\t\tindicator: true,\n\t\t\t\t\tindicator_type: 1,\n\t\t\t\t\tindicator_pos: \"bottom\"\n\t\t\t\t}\n\t\t\t);\n\t\t\t\n\t\t\tlet organizer = new _calendar_javascript_lib__WEBPACK_IMPORTED_MODULE_0__[\"Organizer\"](\"organizerContainer\",\n\t\t\t\tcalendar,\n\t\t\t\tdata\n            );\n        \n            this.setButtonListener(calendarElement, postUrl);\n            organizer.setOnClickListener('days-blocks',\n                (clickEvent, eventsList, element, calendarInstance) => {\n                    const modalId = clickEvent.target.getAttribute('data-open'); \n\n                    let modal = document.getElementById(modalId)\n                    const isVisible = \"c-modal__bg--is-visible\";\n\n                    modal.classList.add(isVisible);\n                    const list = calendarElement.querySelector('.c-calendar__event-list');\n                    let bookedEvents = list.querySelector('.booked__list');\n                    let availableEvents = list.querySelector('.available__list');\n                    let listHeader = bookedEvents.closest('.c-modal').querySelector('header').querySelector('h2')\n\n                    listHeader.innerHTML = '';\n                    availableEvents.innerHTML = '';\n                    bookedEvents.innerHTML = '';\n\n                    listHeader.innerHTML = calendarInstance.date.getDate() + '/' + calendarInstance.date.getMonth() + 1 + '/' + calendarInstance.date.getFullYear();\n\n                    if(eventsList.booked)\n                        bookedEvents.appendChild(this.createListElement(eventsList.booked, calendarInstance.date, false));\n                    if(eventsList.available)\n                        availableEvents.appendChild(this.createListElement(eventsList.available, calendarInstance.date, true));\n\n\n                }\n            );\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (EventCalendar);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGhlbHNpbmdib3JnLXN0YWQvc3R5bGVndWlkZS9zb3VyY2UvanMvY2FsZW5kYXIuanM/YzU0ZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQThEOztBQUU5RDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUEseUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSw4QkFBOEIsMkJBQTJCO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBOztBQUVBLHNCQUFzQixtQkFBbUI7QUFDekM7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBLDJCQUEyQixpRUFBUTtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsdUJBQXVCLGtFQUFTO0FBQ2hDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxnRjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFZSw0RUFBYSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9AaGVsc2luZ2Jvcmctc3RhZC9zdHlsZWd1aWRlL3NvdXJjZS9qcy9jYWxlbmRhci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q2FsZW5kYXIsIE9yZ2FuaXplcn0gZnJvbSAnLi9jYWxlbmRhci1qYXZhc2NyaXB0LWxpYic7XG5cbmNsYXNzIEV2ZW50Q2FsZW5kYXJ7XG5cbiAgICBjb25zdHJ1Y3Rvcigpe1xuICAgICAgICB0aGlzLnRpbWVzbG90cyA9IFtdO1xuICAgIH1cblxuICAgIGluaXRpYXRlQ2FsZW5kYXIoKXtcblxuICAgICAgICBjb25zdCBjYWxlbmRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jLWNhbGVuZGFyJyk7XG4gICAgICAgIGlmKGNhbGVuZGFyKXtcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50c1VybCA9IGNhbGVuZGFyLmdldEF0dHJpYnV0ZSgnZXZlbnRzVXJsJyk7XG4gICAgICAgICAgICBjb25zdCBib29raW5nVXJsID0gY2FsZW5kYXIuZ2V0QXR0cmlidXRlKCdib29raW5nVXJsJyk7XG4gICAgICAgICAgICBjb25zdCBzaXplID0gY2FsZW5kYXIuZ2V0QXR0cmlidXRlKCdzaXplJyk7XG4gICAgICAgICAgICBjb25zdCB3ZWVrU3RhcnQgPSBjYWxlbmRhci5nZXRBdHRyaWJ1dGUoJ3dlZWtTdGFydCcpOyBcblxuICAgICAgICAgICAgdGhpcy5nZXRFdmVudHMoZXZlbnRzVXJsKS50aGVuKGRhdGEgPT4gdGhpcy5zZXR1cChkYXRhLCB3ZWVrU3RhcnQsIHNpemUsIGNhbGVuZGFyLCBib29raW5nVXJsKSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgfVxuXG4gICAgZ2V0RXZlbnRzKGV2ZW50c1VybCl7IFxuICAgICAgICByZXR1cm4gZmV0Y2goZXZlbnRzVXJsKVxuICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxuICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwb3N0RXZlbnRzKGJvb2tpbmdVcmwpe1xuICAgICAgICBmZXRjaChib29raW5nVXJsLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHRoaXMudGltZXNsb3RzKVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHNldEJ1dHRvbkxpc3RlbmVyKGNhbGVuZGFyRWxlbWVudCwgYm9va2luZ1VybCl7XG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IGNhbGVuZGFyRWxlbWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdwb3N0RXZlbnRCdXR0b24nKTtcbiAgICAgICAgYnV0dG9uWzBdLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywoKSA9PntcbiAgICAgICAgICAgIHRoaXMucG9zdEV2ZW50cyhib29raW5nVXJsKVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIC8vIFRPRE86IG1vZGlmeSBsaWIgdG8gcmV0dXJuIHRpbWVzdGFtcHMgZGlyZWN0bHkgaW5zdGVhZCBvZiBzdHJpbmdzLi4uXG4gICAgc2V0VGltZXNsb3RMaXN0ZW5lcihjaGVja2JveCwgZGF0ZSwgdGltZXNsb3Qpe1xuICAgICAgICBjaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRpbWVzbG90UGFydHMgPSB0aW1lc2xvdC5zcGxpdCgnIC0gJylcbiAgICAgICAgICAgIGNvbnN0IGZyb20gPSB0aW1lc2xvdFBhcnRzWzBdLnNwbGl0KCc6JylbMF07XG4gICAgICAgICAgICBjb25zdCB0byA9IHRpbWVzbG90UGFydHNbMV0uc3BsaXQoJzonKVswXTtcbiAgICAgICAgICAgIGNvbnN0IHRlbXAgPSB7XG4gICAgICAgICAgICAgICAgZnJvbTogZGF0ZS5zZXRIb3VycyhwYXJzZUludChmcm9tKSwgMCwgMCwgMCksXG4gICAgICAgICAgICAgICAgdG86IGRhdGUuc2V0SG91cnMocGFyc2VJbnQodG8pLCAwLCAwLCAwKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZihjaGVja2JveC5jaGVja2VkKXtcbiAgICAgICAgICAgICAgICB0aGlzLnRpbWVzbG90cy5wdXNoKHRlbXApXG4gICAgICAgICAgICB9ZWxzZSBpZighY2hlY2tib3guY2hlY2tlZCkge1xuICAgICAgICAgICAgICAgIC8vcmVtb3ZlIHRpbWVzdGFtcCBpZiBjaGVja2VkIGFuZCB0aGVuIHVuY2hlY2tlZFxuICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLnRpbWVzbG90cy5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICAgICAgICAgIGlmKEpTT04uc3RyaW5naWZ5KHRoaXMudGltZXNsb3RzW2ldKSA9PT0gSlNPTi5zdHJpbmdpZnkodGVtcCkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50aW1lc2xvdHMuc3BsaWNlKGksIDEpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vVE9ETzogUmVzZWFyY2ggdGhlIHBvc3NpYmlsaXR5IHRvIG1ha2UgdGhlIGVsbWVudCBhIGJpdCBsZXNzIGNvbXBsZXguXG4gICAgY3JlYXRlTGlzdEVsZW1lbnQoZXZlbnRzLCBkYXRlLCBhdmFpbGFibGVFdmVudHMpe1xuICAgICAgICBsZXQgbGlzdEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiTElcIik7XG4gICAgICAgIFxuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgZXZlbnRzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgIGNvbnN0IHRpbWVzbG90ID0gZXZlbnRzW2ldLnN0YXJ0VGltZSArICcgLSAnICsgZXZlbnRzW2ldLmVuZFRpbWU7XG4gICAgICAgICAgICBsaXN0SXRlbS5pZCA9IHRoaXMuaWQgKyBcIi1saXN0LWl0ZW0tXCIgKyBpO1xuICAgIFxuICAgICAgICAgICAgbGV0IGRpdmlzaW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIkRJVlwiKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbGV0IGNoZWNrYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnSU5QVVQnKTtcbiAgICAgICAgICAgIGNoZWNrYm94LnNldEF0dHJpYnV0ZSgndHlwZScsICdjaGVja2JveCcpO1xuICAgICAgICAgICAgdGhpcy5zZXRUaW1lc2xvdExpc3RlbmVyKGNoZWNrYm94LCBkYXRlLCB0aW1lc2xvdCk7XG5cbiAgICAgICAgICAgIGxldCBzcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIlNQQU5cIik7XG4gICAgICAgICAgICBzcGFuLmlkID0gdGhpcy5pZCArIFwiLWxpc3QtaXRlbS1cIiArIGkgKyBcIi10aW1lXCI7XG4gICAgICAgICAgICBzcGFuLmNsYXNzID0gdGhpcy5pZCArIFwiIHRpbWVcIjtcbiAgICAgICAgICAgIHNwYW4uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZXZlbnRzW2ldLnN0YXJ0VGltZSArICcgLSAnICsgZXZlbnRzW2ldLmVuZFRpbWUpKTtcblxuICAgICAgICAgICAgZGl2aXNpb24uYXBwZW5kQ2hpbGQoc3Bhbik7XG4gICAgXG4gICAgICAgICAgICBsZXQgcGFyYWdyYXBoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIlBcIik7XG4gICAgICAgICAgICBwYXJhZ3JhcGguaWQgPSB0aGlzLmlkICsgXCItbGlzdC1pdGVtLVwiICsgaSArIFwiLXRleHRcIjtcbiAgICAgICAgICAgIHBhcmFncmFwaC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShldmVudHNbaV0udGV4dCkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZihhdmFpbGFibGVFdmVudHMpIHBhcmFncmFwaC5hcHBlbmRDaGlsZChjaGVja2JveCk7XG5cbiAgICAgICAgICAgIGxpc3RJdGVtLmFwcGVuZENoaWxkKGRpdmlzaW9uKTtcbiAgICAgICAgICAgIGxpc3RJdGVtLmFwcGVuZENoaWxkKHBhcmFncmFwaCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiBsaXN0SXRlbVxuXG4gICAgfVxuXG4gICAgc2V0dXAgKGRhdGEsIHdlZWtTdGFydCwgc2l6ZSwgY2FsZW5kYXJFbGVtZW50LCBwb3N0VXJsKXtcbiAgICAgICAgbGV0IGNhbGVuZGFyID0gbmV3IENhbGVuZGFyKFwiY2FsZW5kYXJDb250YWluZXJcIixcblx0XHRcdFx0c2l6ZSxcblx0XHRcdFx0W1xuXHRcdFx0XHRcdHdlZWtTdGFydCxcblx0XHRcdFx0XHQzXG4gICAgICAgICAgICAgICAgXSwgXG4gICAgICAgICAgICAgICAgW10sXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRpbmRpY2F0b3I6IHRydWUsXG5cdFx0XHRcdFx0aW5kaWNhdG9yX3R5cGU6IDEsXG5cdFx0XHRcdFx0aW5kaWNhdG9yX3BvczogXCJib3R0b21cIlxuXHRcdFx0XHR9XG5cdFx0XHQpO1xuXHRcdFx0XG5cdFx0XHRsZXQgb3JnYW5pemVyID0gbmV3IE9yZ2FuaXplcihcIm9yZ2FuaXplckNvbnRhaW5lclwiLFxuXHRcdFx0XHRjYWxlbmRhcixcblx0XHRcdFx0ZGF0YVxuICAgICAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgICAgICB0aGlzLnNldEJ1dHRvbkxpc3RlbmVyKGNhbGVuZGFyRWxlbWVudCwgcG9zdFVybCk7XG4gICAgICAgICAgICBvcmdhbml6ZXIuc2V0T25DbGlja0xpc3RlbmVyKCdkYXlzLWJsb2NrcycsXG4gICAgICAgICAgICAgICAgKGNsaWNrRXZlbnQsIGV2ZW50c0xpc3QsIGVsZW1lbnQsIGNhbGVuZGFySW5zdGFuY2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9kYWxJZCA9IGNsaWNrRXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1vcGVuJyk7IFxuXG4gICAgICAgICAgICAgICAgICAgIGxldCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG1vZGFsSWQpXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzVmlzaWJsZSA9IFwiYy1tb2RhbF9fYmctLWlzLXZpc2libGVcIjtcblxuICAgICAgICAgICAgICAgICAgICBtb2RhbC5jbGFzc0xpc3QuYWRkKGlzVmlzaWJsZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpc3QgPSBjYWxlbmRhckVsZW1lbnQucXVlcnlTZWxlY3RvcignLmMtY2FsZW5kYXJfX2V2ZW50LWxpc3QnKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGJvb2tlZEV2ZW50cyA9IGxpc3QucXVlcnlTZWxlY3RvcignLmJvb2tlZF9fbGlzdCcpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgYXZhaWxhYmxlRXZlbnRzID0gbGlzdC5xdWVyeVNlbGVjdG9yKCcuYXZhaWxhYmxlX19saXN0Jyk7XG4gICAgICAgICAgICAgICAgICAgIGxldCBsaXN0SGVhZGVyID0gYm9va2VkRXZlbnRzLmNsb3Nlc3QoJy5jLW1vZGFsJykucXVlcnlTZWxlY3RvcignaGVhZGVyJykucXVlcnlTZWxlY3RvcignaDInKVxuXG4gICAgICAgICAgICAgICAgICAgIGxpc3RIZWFkZXIuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIGF2YWlsYWJsZUV2ZW50cy5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgYm9va2VkRXZlbnRzLmlubmVySFRNTCA9ICcnO1xuXG4gICAgICAgICAgICAgICAgICAgIGxpc3RIZWFkZXIuaW5uZXJIVE1MID0gY2FsZW5kYXJJbnN0YW5jZS5kYXRlLmdldERhdGUoKSArICcvJyArIGNhbGVuZGFySW5zdGFuY2UuZGF0ZS5nZXRNb250aCgpICsgMSArICcvJyArIGNhbGVuZGFySW5zdGFuY2UuZGF0ZS5nZXRGdWxsWWVhcigpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKGV2ZW50c0xpc3QuYm9va2VkKVxuICAgICAgICAgICAgICAgICAgICAgICAgYm9va2VkRXZlbnRzLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlTGlzdEVsZW1lbnQoZXZlbnRzTGlzdC5ib29rZWQsIGNhbGVuZGFySW5zdGFuY2UuZGF0ZSwgZmFsc2UpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYoZXZlbnRzTGlzdC5hdmFpbGFibGUpXG4gICAgICAgICAgICAgICAgICAgICAgICBhdmFpbGFibGVFdmVudHMuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVMaXN0RWxlbWVudChldmVudHNMaXN0LmF2YWlsYWJsZSwgY2FsZW5kYXJJbnN0YW5jZS5kYXRlLCB0cnVlKSk7XG5cblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBFdmVudENhbGVuZGFyOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@helsingborg-stad/styleguide/source/js/calendar.js\n");

/***/ }),

/***/ "./node_modules/@helsingborg-stad/styleguide/source/js/datepicker.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@helsingborg-stad/styleguide/source/js/datepicker.js ***!
  \***************************************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _the_datepicker__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./the-datepicker */ \"./node_modules/@helsingborg-stad/styleguide/source/js/the-datepicker.js\");\n\n\nconst addDatepickers = (target = document) => {\n    const datepickers = target.querySelectorAll('[js-datepicker=\"1\"]');\n\n    if (datepickers.length > 0) {\n        datepickers.forEach(element => {\n            const datepicker = new _the_datepicker__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Datepicker(element);\n\n            datepicker.options.setInputFormat('Y-m-d');\n            datepicker.options.setTitle(element.getAttribute('c-datepicker-title'));\n            datepicker.options.setDaysOutOfMonthVisible(\n                element.getAttribute('c-datepicker-showdaysoutofmonth')\n            );\n            datepicker.options.setShowResetButton(element.getAttribute('c-datepicker-showresetbutton'));\n            datepicker.options.setShowDeselectButton(\n                element.getAttribute('c-datepicker-showclearbutton')\n            );\n            datepicker.options.setHideOnBlur(element.getAttribute('c-datepicker-hideonblur'));\n            datepicker.options.setHideOnSelect(element.getAttribute('c-datepicker-hideonselect'));\n            datepicker.options.setMinDate(element.getAttribute('c-datepicker-min'));\n            datepicker.options.setMaxDate(element.getAttribute('c-datepicker-max'));\n\n            datepicker.render();\n        });\n    }\n}\n\n\n// Add new datepickers to JS\nconst observer = new MutationObserver((mutationsList, observer) => {\n    for(const mutation of mutationsList) {\n        if (mutation.type === 'childList') {\n            mutation.addedNodes.forEach((node) =>{\n                if(node.querySelectorAll('[js-datepicker]').length > 0) {\n                    addDatepickers(node)\n                }\n            })\n        }\n    }\n});\n\n// Start observing the target node for configured mutations\naddDatepickers();\n\nobserver.observe(document.querySelector('body'), {childList: true, subtree: true });\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGhlbHNpbmdib3JnLXN0YWQvc3R5bGVndWlkZS9zb3VyY2UvanMvZGF0ZXBpY2tlci5qcz8xNDY4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBNkM7O0FBRTdDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLG1DQUFtQyx1REFBYTs7QUFFaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBOztBQUVBLGtEQUFrRCxnQ0FBZ0MiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGhlbHNpbmdib3JnLXN0YWQvc3R5bGVndWlkZS9zb3VyY2UvanMvZGF0ZXBpY2tlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBUaGVEYXRlcGlja2VyIGZyb20gJy4vdGhlLWRhdGVwaWNrZXInO1xuXG5jb25zdCBhZGREYXRlcGlja2VycyA9ICh0YXJnZXQgPSBkb2N1bWVudCkgPT4ge1xuICAgIGNvbnN0IGRhdGVwaWNrZXJzID0gdGFyZ2V0LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tqcy1kYXRlcGlja2VyPVwiMVwiXScpO1xuXG4gICAgaWYgKGRhdGVwaWNrZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZGF0ZXBpY2tlcnMuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGVwaWNrZXIgPSBuZXcgVGhlRGF0ZXBpY2tlci5EYXRlcGlja2VyKGVsZW1lbnQpO1xuXG4gICAgICAgICAgICBkYXRlcGlja2VyLm9wdGlvbnMuc2V0SW5wdXRGb3JtYXQoJ1ktbS1kJyk7XG4gICAgICAgICAgICBkYXRlcGlja2VyLm9wdGlvbnMuc2V0VGl0bGUoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2MtZGF0ZXBpY2tlci10aXRsZScpKTtcbiAgICAgICAgICAgIGRhdGVwaWNrZXIub3B0aW9ucy5zZXREYXlzT3V0T2ZNb250aFZpc2libGUoXG4gICAgICAgICAgICAgICAgZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2MtZGF0ZXBpY2tlci1zaG93ZGF5c291dG9mbW9udGgnKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGRhdGVwaWNrZXIub3B0aW9ucy5zZXRTaG93UmVzZXRCdXR0b24oZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2MtZGF0ZXBpY2tlci1zaG93cmVzZXRidXR0b24nKSk7XG4gICAgICAgICAgICBkYXRlcGlja2VyLm9wdGlvbnMuc2V0U2hvd0Rlc2VsZWN0QnV0dG9uKFxuICAgICAgICAgICAgICAgIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdjLWRhdGVwaWNrZXItc2hvd2NsZWFyYnV0dG9uJylcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBkYXRlcGlja2VyLm9wdGlvbnMuc2V0SGlkZU9uQmx1cihlbGVtZW50LmdldEF0dHJpYnV0ZSgnYy1kYXRlcGlja2VyLWhpZGVvbmJsdXInKSk7XG4gICAgICAgICAgICBkYXRlcGlja2VyLm9wdGlvbnMuc2V0SGlkZU9uU2VsZWN0KGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdjLWRhdGVwaWNrZXItaGlkZW9uc2VsZWN0JykpO1xuICAgICAgICAgICAgZGF0ZXBpY2tlci5vcHRpb25zLnNldE1pbkRhdGUoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2MtZGF0ZXBpY2tlci1taW4nKSk7XG4gICAgICAgICAgICBkYXRlcGlja2VyLm9wdGlvbnMuc2V0TWF4RGF0ZShlbGVtZW50LmdldEF0dHJpYnV0ZSgnYy1kYXRlcGlja2VyLW1heCcpKTtcblxuICAgICAgICAgICAgZGF0ZXBpY2tlci5yZW5kZXIoKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5cbi8vIEFkZCBuZXcgZGF0ZXBpY2tlcnMgdG8gSlNcbmNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKG11dGF0aW9uc0xpc3QsIG9ic2VydmVyKSA9PiB7XG4gICAgZm9yKGNvbnN0IG11dGF0aW9uIG9mIG11dGF0aW9uc0xpc3QpIHtcbiAgICAgICAgaWYgKG11dGF0aW9uLnR5cGUgPT09ICdjaGlsZExpc3QnKSB7XG4gICAgICAgICAgICBtdXRhdGlvbi5hZGRlZE5vZGVzLmZvckVhY2goKG5vZGUpID0+e1xuICAgICAgICAgICAgICAgIGlmKG5vZGUucXVlcnlTZWxlY3RvckFsbCgnW2pzLWRhdGVwaWNrZXJdJykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBhZGREYXRlcGlja2Vycyhub2RlKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICB9XG59KTtcblxuLy8gU3RhcnQgb2JzZXJ2aW5nIHRoZSB0YXJnZXQgbm9kZSBmb3IgY29uZmlndXJlZCBtdXRhdGlvbnNcbmFkZERhdGVwaWNrZXJzKCk7XG5cbm9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpLCB7Y2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlIH0pO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@helsingborg-stad/styleguide/source/js/datepicker.js\n");

/***/ }),

/***/ "./node_modules/@helsingborg-stad/styleguide/source/js/dropdown.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@helsingborg-stad/styleguide/source/js/dropdown.js ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nclass Dropdown {\n    constructor() {\n        this.DROPDOWN_LIST_VISIBLE = 'c-dropdown__list--visible';\n        this.AUTO_POSITION_LEFT = 'c-dropdown__auto--position-left';\n        this.AUTO_POSITION_RIGHT = 'c-dropdown__auto--position-right';\n    }\n\n    /**\n     * Set Valid Targets and fire toogle\n     */\n    setValidTargets() {\n        const dropdowns = document.getElementsByClassName('c-dropdown--on-click');\n\n        for (let dropdown of dropdowns) {\n            let dropDownList = dropdown.getElementsByClassName('c-dropdown__list')[0]\n                ? dropdown.getElementsByClassName('c-dropdown__list')[0]\n                : '';\n\n            let dropdownButton = dropdown.getElementsByTagName('button')[0]\n                ? dropdown.getElementsByTagName('button')[0]\n                : '';\n\n            let buttonLabel = dropdownButton.getElementsByClassName('c-button__label-text')[0]\n                ? dropdownButton.getElementsByClassName('c-button__label-text')[0]\n                : '';\n\n            let buttonLabelReverse = dropdownButton.getElementsByClassName(\n                'c-button__label-text--reverse'\n            )[0]\n                ? dropdownButton.getElementsByClassName('c-button__label-text--reverse')[0]\n                : '';\n\n            let buttonIcon = dropdownButton.getElementsByTagName('i')[0]\n                ? dropdownButton.getElementsByTagName('i')[0]\n                : '';\n\n            let validTargets = [\n                dropDownList,\n                dropdownButton,\n                buttonLabel,\n                buttonIcon,\n                buttonLabelReverse,\n            ];\n\n            this.toggle(validTargets, dropDownList);\n        }\n    }\n\n    /**\n     * Toogle dropdown on and of\n     * @param validTargets\n     * @param dropDownList\n     */\n    toggle(validTargets, dropDownList) {\n        document.addEventListener('click', event => {\n            let target = event.target;\n            if (\n                validTargets.includes(target) &&\n                !dropDownList.classList.contains(this.DROPDOWN_LIST_VISIBLE)\n            ) {\n                dropDownList.classList.add(this.DROPDOWN_LIST_VISIBLE);\n                const boundingRect = dropDownList.getBoundingClientRect();\n\n                if (boundingRect.left < 0) {\n                    dropDownList.classList.remove('c-dropdown__list--left');\n                    dropDownList.classList.add('c-dropdown__list--right');\n                } else if (boundingRect.right < 0) {\n                    dropDownList.classList.remove('c-dropdown__list--right');\n                    dropDownList.classList.add('c-dropdown__list--left');\n                } else if (boundingRect.top < 0) {\n                    dropDownList.classList.remove('c-dropdown__list--top');\n                    dropDownList.classList.add('c-dropdown__list--bottom');\n                } else if (boundingRect.bottom < 0) {\n                    dropDownList.classList.remove('c-dropdown__list--bottom');\n                    dropDownList.classList.add('c-dropdown__list--top');\n                }\n            } else {\n                dropDownList.classList.remove(this.DROPDOWN_LIST_VISIBLE);\n            }\n        });\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Dropdown);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGhlbHNpbmdib3JnLXN0YWQvc3R5bGVndWlkZS9zb3VyY2UvanMvZHJvcGRvd24uanM/YmY2ZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVlLHVFQUFRLEVBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGhlbHNpbmdib3JnLXN0YWQvc3R5bGVndWlkZS9zb3VyY2UvanMvZHJvcGRvd24uanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBEcm9wZG93biB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuRFJPUERPV05fTElTVF9WSVNJQkxFID0gJ2MtZHJvcGRvd25fX2xpc3QtLXZpc2libGUnO1xuICAgICAgICB0aGlzLkFVVE9fUE9TSVRJT05fTEVGVCA9ICdjLWRyb3Bkb3duX19hdXRvLS1wb3NpdGlvbi1sZWZ0JztcbiAgICAgICAgdGhpcy5BVVRPX1BPU0lUSU9OX1JJR0hUID0gJ2MtZHJvcGRvd25fX2F1dG8tLXBvc2l0aW9uLXJpZ2h0JztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgVmFsaWQgVGFyZ2V0cyBhbmQgZmlyZSB0b29nbGVcbiAgICAgKi9cbiAgICBzZXRWYWxpZFRhcmdldHMoKSB7XG4gICAgICAgIGNvbnN0IGRyb3Bkb3ducyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2MtZHJvcGRvd24tLW9uLWNsaWNrJyk7XG5cbiAgICAgICAgZm9yIChsZXQgZHJvcGRvd24gb2YgZHJvcGRvd25zKSB7XG4gICAgICAgICAgICBsZXQgZHJvcERvd25MaXN0ID0gZHJvcGRvd24uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYy1kcm9wZG93bl9fbGlzdCcpWzBdXG4gICAgICAgICAgICAgICAgPyBkcm9wZG93bi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdjLWRyb3Bkb3duX19saXN0JylbMF1cbiAgICAgICAgICAgICAgICA6ICcnO1xuXG4gICAgICAgICAgICBsZXQgZHJvcGRvd25CdXR0b24gPSBkcm9wZG93bi5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYnV0dG9uJylbMF1cbiAgICAgICAgICAgICAgICA/IGRyb3Bkb3duLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdidXR0b24nKVswXVxuICAgICAgICAgICAgICAgIDogJyc7XG5cbiAgICAgICAgICAgIGxldCBidXR0b25MYWJlbCA9IGRyb3Bkb3duQnV0dG9uLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2MtYnV0dG9uX19sYWJlbC10ZXh0JylbMF1cbiAgICAgICAgICAgICAgICA/IGRyb3Bkb3duQnV0dG9uLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2MtYnV0dG9uX19sYWJlbC10ZXh0JylbMF1cbiAgICAgICAgICAgICAgICA6ICcnO1xuXG4gICAgICAgICAgICBsZXQgYnV0dG9uTGFiZWxSZXZlcnNlID0gZHJvcGRvd25CdXR0b24uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcbiAgICAgICAgICAgICAgICAnYy1idXR0b25fX2xhYmVsLXRleHQtLXJldmVyc2UnXG4gICAgICAgICAgICApWzBdXG4gICAgICAgICAgICAgICAgPyBkcm9wZG93bkJ1dHRvbi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdjLWJ1dHRvbl9fbGFiZWwtdGV4dC0tcmV2ZXJzZScpWzBdXG4gICAgICAgICAgICAgICAgOiAnJztcblxuICAgICAgICAgICAgbGV0IGJ1dHRvbkljb24gPSBkcm9wZG93bkJ1dHRvbi5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaScpWzBdXG4gICAgICAgICAgICAgICAgPyBkcm9wZG93bkJ1dHRvbi5nZXRFbGVtZW50c0J5VGFnTmFtZSgnaScpWzBdXG4gICAgICAgICAgICAgICAgOiAnJztcblxuICAgICAgICAgICAgbGV0IHZhbGlkVGFyZ2V0cyA9IFtcbiAgICAgICAgICAgICAgICBkcm9wRG93bkxpc3QsXG4gICAgICAgICAgICAgICAgZHJvcGRvd25CdXR0b24sXG4gICAgICAgICAgICAgICAgYnV0dG9uTGFiZWwsXG4gICAgICAgICAgICAgICAgYnV0dG9uSWNvbixcbiAgICAgICAgICAgICAgICBidXR0b25MYWJlbFJldmVyc2UsXG4gICAgICAgICAgICBdO1xuXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZSh2YWxpZFRhcmdldHMsIGRyb3BEb3duTGlzdCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUb29nbGUgZHJvcGRvd24gb24gYW5kIG9mXG4gICAgICogQHBhcmFtIHZhbGlkVGFyZ2V0c1xuICAgICAqIEBwYXJhbSBkcm9wRG93bkxpc3RcbiAgICAgKi9cbiAgICB0b2dnbGUodmFsaWRUYXJnZXRzLCBkcm9wRG93bkxpc3QpIHtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBldmVudCA9PiB7XG4gICAgICAgICAgICBsZXQgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHZhbGlkVGFyZ2V0cy5pbmNsdWRlcyh0YXJnZXQpICYmXG4gICAgICAgICAgICAgICAgIWRyb3BEb3duTGlzdC5jbGFzc0xpc3QuY29udGFpbnModGhpcy5EUk9QRE9XTl9MSVNUX1ZJU0lCTEUpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBkcm9wRG93bkxpc3QuY2xhc3NMaXN0LmFkZCh0aGlzLkRST1BET1dOX0xJU1RfVklTSUJMRSk7XG4gICAgICAgICAgICAgICAgY29uc3QgYm91bmRpbmdSZWN0ID0gZHJvcERvd25MaXN0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGJvdW5kaW5nUmVjdC5sZWZ0IDwgMCkge1xuICAgICAgICAgICAgICAgICAgICBkcm9wRG93bkxpc3QuY2xhc3NMaXN0LnJlbW92ZSgnYy1kcm9wZG93bl9fbGlzdC0tbGVmdCcpO1xuICAgICAgICAgICAgICAgICAgICBkcm9wRG93bkxpc3QuY2xhc3NMaXN0LmFkZCgnYy1kcm9wZG93bl9fbGlzdC0tcmlnaHQnKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGJvdW5kaW5nUmVjdC5yaWdodCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZHJvcERvd25MaXN0LmNsYXNzTGlzdC5yZW1vdmUoJ2MtZHJvcGRvd25fX2xpc3QtLXJpZ2h0Jyk7XG4gICAgICAgICAgICAgICAgICAgIGRyb3BEb3duTGlzdC5jbGFzc0xpc3QuYWRkKCdjLWRyb3Bkb3duX19saXN0LS1sZWZ0Jyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChib3VuZGluZ1JlY3QudG9wIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICBkcm9wRG93bkxpc3QuY2xhc3NMaXN0LnJlbW92ZSgnYy1kcm9wZG93bl9fbGlzdC0tdG9wJyk7XG4gICAgICAgICAgICAgICAgICAgIGRyb3BEb3duTGlzdC5jbGFzc0xpc3QuYWRkKCdjLWRyb3Bkb3duX19saXN0LS1ib3R0b20nKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGJvdW5kaW5nUmVjdC5ib3R0b20gPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGRyb3BEb3duTGlzdC5jbGFzc0xpc3QucmVtb3ZlKCdjLWRyb3Bkb3duX19saXN0LS1ib3R0b20nKTtcbiAgICAgICAgICAgICAgICAgICAgZHJvcERvd25MaXN0LmNsYXNzTGlzdC5hZGQoJ2MtZHJvcGRvd25fX2xpc3QtLXRvcCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZHJvcERvd25MaXN0LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5EUk9QRE9XTl9MSVNUX1ZJU0lCTEUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IERyb3Bkb3duO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@helsingborg-stad/styleguide/source/js/dropdown.js\n");

/***/ }),

/***/ "./node_modules/@helsingborg-stad/styleguide/source/js/dynamicSidebar.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@helsingborg-stad/styleguide/source/js/dynamicSidebar.js ***!
  \*******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return DynamicSidebar; });\nclass DynamicSidebar {\n    constructor() {\n        this.dynamicSidebars = document.querySelectorAll('.c-sidebar[endpoint-children]');\n\n        if(this.dynamicSidebars) {\n            this.endpoints = {};\n            this.pageId = document.getElementsByTagName('body')[0].getAttribute('js-page-id');\n        }\n    }\n\n    /**\n     * Finds all sidebars and applies appropriate classes and attributes on load\n     * @return {void}\n     */\n    applySidebar() {\n        if(this.dynamicSidebars) {\n            this.dynamicSidebars.forEach((sidebar) => {\n\n                this.endpoints.children = sidebar.getAttribute('endpoint-children');\n                this.addTriggers(sidebar.querySelectorAll('.c-sidebar__toggle'));  \n\n                sidebar.querySelectorAll('.c-sidebar__subcontainer').forEach((subContainer) => {\n                    if(subContainer.childElementCount === 0) {\n                        subContainer.parentElement.removeChild(subContainer);\n                    }\n                });\n            });\n        }\n    }\n\n    getChildren(parentId) { \n        return fetch(`${this.endpoints.children  }?pageId=${  parentId}`)\n        .then((response) => {\n            return response.json();\n        })\n        .then((data) => {\n            return data;\n        });\n    }\n    \n    appendChildren(parentID) {\n        return this.getChildren(parentID).then((children) => {\n        \n            const subContainer = document.createElement('div');\n            subContainer.setAttribute('subContainerID', parentID);\n            subContainer.classList.add('c-sidebar__subcontainer');\n            \n            children.forEach( (child) => {\n                const childItem = document.createElement('div');\n                childItem.classList.add('c-sidebar__item');\n                const link = document.createElement('a');\n                link.href = child.href;\n                link.classList.add('c-sidebar__link');\n                link.text = child.label;\n                link.setAttribute('item-active', 'false');\n                link.id = `${child.id}`;\n                \n                childItem.appendChild(link);\n\n                if(child.children) {\n                    \n                    const bar = document.createElement('div');\n                    bar.classList.add('bar');\n\n                    const toggle = document.createElement('div');\n                    toggle.classList.add('c-sidebar__toggle');\n                    toggle.appendChild(bar);\n                    toggle.appendChild(bar.cloneNode(true));\n                    toggle.setAttribute('aria-label', child.id);\n\n                    childItem.appendChild(toggle);  \n                }\n                \n                subContainer.appendChild(childItem);\n\n            });\n            \n            subContainer.classList.add('c-sidebar__item--is-expanded');\n            \n            return subContainer;\n        });\n    }\n    \n    /**\n     * Adds listeners to buttons\n     * @param {Object} sb The sidebar\n    */\n    addTriggers(toggleTriggers) {\n        toggleTriggers.forEach((trigger) => {\n            const parentId = trigger.getAttribute('aria-label');\n            const parent = trigger.parentElement;\n\n            trigger.addEventListener('click', () => {\n\n                const ariaPressed = (trigger.getAttribute('aria-pressed') === 'true') ? 'false' : 'true';\n                trigger.setAttribute('aria-pressed', ariaPressed);\n                \n                if (!trigger.getAttribute('aria-loaded')) {\n                    trigger.setAttribute('aria-loaded', 'true');\n                    this.appendChildren(parentId).then((child) => {\n                        parent.appendChild(child);\n                        \n                        const parentSubcontainer = parent.querySelector('.c-sidebar__subcontainer');\n\n                        this.addTriggers(parentSubcontainer.querySelectorAll('.c-sidebar__toggle'));\n                    });\n                }\n\n                const parentSubcontainer = parent.querySelector('.c-sidebar__subcontainer');\n\n                if(parentSubcontainer) {\n                    parentSubcontainer.classList.toggle('c-sidebar__item--is-expanded');\n                }\n\n            });\n            \n        });\n    }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGhlbHNpbmdib3JnLXN0YWQvc3R5bGVndWlkZS9zb3VyY2UvanMvZHluYW1pY1NpZGViYXIuanM/NjczOSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQWU7QUFDZjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGlGOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBOztBQUVBLDJCO0FBQ0Esd0JBQXdCLDBCQUEwQixVQUFVLFdBQVc7QUFDdkU7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsU0FBUzs7QUFFdEM7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGtEO0FBQ0E7O0FBRUE7O0FBRUEsYUFBYTs7QUFFYjs7QUFFQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLHFCQUFxQjtBQUNyQjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsYUFBYTs7QUFFYixTQUFTO0FBQ1Q7QUFDQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9AaGVsc2luZ2Jvcmctc3RhZC9zdHlsZWd1aWRlL3NvdXJjZS9qcy9keW5hbWljU2lkZWJhci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIER5bmFtaWNTaWRlYmFyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5keW5hbWljU2lkZWJhcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYy1zaWRlYmFyW2VuZHBvaW50LWNoaWxkcmVuXScpO1xuXG4gICAgICAgIGlmKHRoaXMuZHluYW1pY1NpZGViYXJzKSB7XG4gICAgICAgICAgICB0aGlzLmVuZHBvaW50cyA9IHt9O1xuICAgICAgICAgICAgdGhpcy5wYWdlSWQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpWzBdLmdldEF0dHJpYnV0ZSgnanMtcGFnZS1pZCcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmluZHMgYWxsIHNpZGViYXJzIGFuZCBhcHBsaWVzIGFwcHJvcHJpYXRlIGNsYXNzZXMgYW5kIGF0dHJpYnV0ZXMgb24gbG9hZFxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgYXBwbHlTaWRlYmFyKCkge1xuICAgICAgICBpZih0aGlzLmR5bmFtaWNTaWRlYmFycykge1xuICAgICAgICAgICAgdGhpcy5keW5hbWljU2lkZWJhcnMuZm9yRWFjaCgoc2lkZWJhcikgPT4ge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5lbmRwb2ludHMuY2hpbGRyZW4gPSBzaWRlYmFyLmdldEF0dHJpYnV0ZSgnZW5kcG9pbnQtY2hpbGRyZW4nKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFRyaWdnZXJzKHNpZGViYXIucXVlcnlTZWxlY3RvckFsbCgnLmMtc2lkZWJhcl9fdG9nZ2xlJykpOyAgXG5cbiAgICAgICAgICAgICAgICBzaWRlYmFyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jLXNpZGViYXJfX3N1YmNvbnRhaW5lcicpLmZvckVhY2goKHN1YkNvbnRhaW5lcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZihzdWJDb250YWluZXIuY2hpbGRFbGVtZW50Q291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YkNvbnRhaW5lci5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKHN1YkNvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0Q2hpbGRyZW4ocGFyZW50SWQpIHsgXG4gICAgICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmVuZHBvaW50cy5jaGlsZHJlbiAgfT9wYWdlSWQ9JHsgIHBhcmVudElkfWApXG4gICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgXG4gICAgYXBwZW5kQ2hpbGRyZW4ocGFyZW50SUQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2hpbGRyZW4ocGFyZW50SUQpLnRoZW4oKGNoaWxkcmVuKSA9PiB7XG4gICAgICAgIFxuICAgICAgICAgICAgY29uc3Qgc3ViQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBzdWJDb250YWluZXIuc2V0QXR0cmlidXRlKCdzdWJDb250YWluZXJJRCcsIHBhcmVudElEKTtcbiAgICAgICAgICAgIHN1YkNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdjLXNpZGViYXJfX3N1YmNvbnRhaW5lcicpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjaGlsZHJlbi5mb3JFYWNoKCAoY2hpbGQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICBjaGlsZEl0ZW0uY2xhc3NMaXN0LmFkZCgnYy1zaWRlYmFyX19pdGVtJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgICAgICAgICBsaW5rLmhyZWYgPSBjaGlsZC5ocmVmO1xuICAgICAgICAgICAgICAgIGxpbmsuY2xhc3NMaXN0LmFkZCgnYy1zaWRlYmFyX19saW5rJyk7XG4gICAgICAgICAgICAgICAgbGluay50ZXh0ID0gY2hpbGQubGFiZWw7XG4gICAgICAgICAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoJ2l0ZW0tYWN0aXZlJywgJ2ZhbHNlJyk7XG4gICAgICAgICAgICAgICAgbGluay5pZCA9IGAke2NoaWxkLmlkfWA7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY2hpbGRJdGVtLmFwcGVuZENoaWxkKGxpbmspO1xuXG4gICAgICAgICAgICAgICAgaWYoY2hpbGQuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgICAgICAgICBiYXIuY2xhc3NMaXN0LmFkZCgnYmFyJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9nZ2xlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICAgICAgICAgIHRvZ2dsZS5jbGFzc0xpc3QuYWRkKCdjLXNpZGViYXJfX3RvZ2dsZScpO1xuICAgICAgICAgICAgICAgICAgICB0b2dnbGUuYXBwZW5kQ2hpbGQoYmFyKTtcbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlLmFwcGVuZENoaWxkKGJhci5jbG9uZU5vZGUodHJ1ZSkpO1xuICAgICAgICAgICAgICAgICAgICB0b2dnbGUuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgY2hpbGQuaWQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkSXRlbS5hcHBlbmRDaGlsZCh0b2dnbGUpOyAgXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHN1YkNvbnRhaW5lci5hcHBlbmRDaGlsZChjaGlsZEl0ZW0pO1xuXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgc3ViQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2Mtc2lkZWJhcl9faXRlbS0taXMtZXhwYW5kZWQnKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIHN1YkNvbnRhaW5lcjtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIEFkZHMgbGlzdGVuZXJzIHRvIGJ1dHRvbnNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc2IgVGhlIHNpZGViYXJcbiAgICAqL1xuICAgIGFkZFRyaWdnZXJzKHRvZ2dsZVRyaWdnZXJzKSB7XG4gICAgICAgIHRvZ2dsZVRyaWdnZXJzLmZvckVhY2goKHRyaWdnZXIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudElkID0gdHJpZ2dlci5nZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnKTtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudCA9IHRyaWdnZXIucGFyZW50RWxlbWVudDtcblxuICAgICAgICAgICAgdHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGFyaWFQcmVzc2VkID0gKHRyaWdnZXIuZ2V0QXR0cmlidXRlKCdhcmlhLXByZXNzZWQnKSA9PT0gJ3RydWUnKSA/ICdmYWxzZScgOiAndHJ1ZSc7XG4gICAgICAgICAgICAgICAgdHJpZ2dlci5zZXRBdHRyaWJ1dGUoJ2FyaWEtcHJlc3NlZCcsIGFyaWFQcmVzc2VkKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAoIXRyaWdnZXIuZ2V0QXR0cmlidXRlKCdhcmlhLWxvYWRlZCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXIuc2V0QXR0cmlidXRlKCdhcmlhLWxvYWRlZCcsICd0cnVlJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kQ2hpbGRyZW4ocGFyZW50SWQpLnRoZW4oKGNoaWxkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQuYXBwZW5kQ2hpbGQoY2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYXJlbnRTdWJjb250YWluZXIgPSBwYXJlbnQucXVlcnlTZWxlY3RvcignLmMtc2lkZWJhcl9fc3ViY29udGFpbmVyJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkVHJpZ2dlcnMocGFyZW50U3ViY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5jLXNpZGViYXJfX3RvZ2dsZScpKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50U3ViY29udGFpbmVyID0gcGFyZW50LnF1ZXJ5U2VsZWN0b3IoJy5jLXNpZGViYXJfX3N1YmNvbnRhaW5lcicpO1xuXG4gICAgICAgICAgICAgICAgaWYocGFyZW50U3ViY29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudFN1YmNvbnRhaW5lci5jbGFzc0xpc3QudG9nZ2xlKCdjLXNpZGViYXJfX2l0ZW0tLWlzLWV4cGFuZGVkJyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICB9KTtcbiAgICB9XG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@helsingborg-stad/styleguide/source/js/dynamicSidebar.js\n");

/***/ }),

/***/ "./node_modules/@helsingborg-stad/styleguide/source/js/expand-section.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@helsingborg-stad/styleguide/source/js/expand-section.js ***!
  \*******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* Toggle expandable areas */\n\nconst CONTAINER = '[js-expand-container]';\nconst BUTTON = '[js-expand-button]';\nconst EXPANDED = 'aria-expanded';\nconst CONTROLS = 'aria-controls';\nconst HIDDEN = 'aria-hidden';\n\n/**\n * Adds toggle event listeners to expandable elements\n */\nconst expandSection = () => {\n    const buttons = document.querySelectorAll(BUTTON);\n\n    buttons.forEach((button) => {\n        button.addEventListener('click', function (e) {\n            e.preventDefault();\n\n            const expanded = button.getAttribute(EXPANDED) === 'true';\n            toggleButton(button, expanded);\n        });\n    });\n};\n\n/**\n * Toggles a button's and its siblings \"pressed\" state\n * @param {HTMLElement} button\n * @param {bool} expanded\n */\nconst toggleButton = (button, expanded) => {\n    const container = button.closest(CONTAINER);\n    let safeExpanded = expanded;\n\n    if (!container) {\n        throw new Error(`${BUTTON} is missing outer ${CONTAINER}`);\n    }\n\n    // Check if elemnt is a tab\n    const isTab = button.getAttribute('role') === 'tab';\n    // Bail if is tab and is already selected\n    if (expanded && isTab) {\n        return;\n    }\n\n    safeExpanded = toggle(button, !expanded);\n\n    if (safeExpanded) {\n        const containerButtons = container.querySelectorAll(BUTTON);\n\n        containerButtons.forEach((other) => {\n            if (other !== button) {\n                toggle(other, false);\n            }\n        });\n    }\n};\n\n/**\n * Toggle helper\n * @param {HTMLElement} button\n * @param {bool} expanded\n * @return {boolean} the resulting state\n */\nconst toggle = (button, expanded) => {\n    let safeExpanded = expanded;\n\n    if (typeof safeExpanded !== 'boolean') {\n        safeExpanded = button.getAttribute(EXPANDED) === 'false';\n    }\n\n    button.setAttribute(EXPANDED, safeExpanded);\n\n    const id = button.getAttribute(CONTROLS);\n    const controls = document.getElementById(id);\n\n    if (!controls) {\n        throw new Error(`No toggle target found with id: \"${id}\"`);\n    }\n\n    if (safeExpanded) {\n        controls.setAttribute(HIDDEN, 'false');\n    } else {\n        controls.setAttribute(HIDDEN, 'true');\n    }\n\n    return safeExpanded;\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (expandSection);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGhlbHNpbmdib3JnLXN0YWQvc3R5bGVndWlkZS9zb3VyY2UvanMvZXhwYW5kLXNlY3Rpb24uanM/ODMwNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBLFdBQVcsWUFBWTtBQUN2QixXQUFXLEtBQUs7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyQkFBMkIsT0FBTyxvQkFBb0IsVUFBVTtBQUNoRTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLFlBQVk7QUFDdkIsV0FBVyxLQUFLO0FBQ2hCLFlBQVksUUFBUTtBQUNwQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSw0REFBNEQsR0FBRztBQUMvRDs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTs7QUFFZSw0RUFBYSxFQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL0BoZWxzaW5nYm9yZy1zdGFkL3N0eWxlZ3VpZGUvc291cmNlL2pzL2V4cGFuZC1zZWN0aW9uLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogVG9nZ2xlIGV4cGFuZGFibGUgYXJlYXMgKi9cblxuY29uc3QgQ09OVEFJTkVSID0gJ1tqcy1leHBhbmQtY29udGFpbmVyXSc7XG5jb25zdCBCVVRUT04gPSAnW2pzLWV4cGFuZC1idXR0b25dJztcbmNvbnN0IEVYUEFOREVEID0gJ2FyaWEtZXhwYW5kZWQnO1xuY29uc3QgQ09OVFJPTFMgPSAnYXJpYS1jb250cm9scyc7XG5jb25zdCBISURERU4gPSAnYXJpYS1oaWRkZW4nO1xuXG4vKipcbiAqIEFkZHMgdG9nZ2xlIGV2ZW50IGxpc3RlbmVycyB0byBleHBhbmRhYmxlIGVsZW1lbnRzXG4gKi9cbmNvbnN0IGV4cGFuZFNlY3Rpb24gPSAoKSA9PiB7XG4gICAgY29uc3QgYnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoQlVUVE9OKTtcblxuICAgIGJ1dHRvbnMuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGV4cGFuZGVkID0gYnV0dG9uLmdldEF0dHJpYnV0ZShFWFBBTkRFRCkgPT09ICd0cnVlJztcbiAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbihidXR0b24sIGV4cGFuZGVkKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuXG4vKipcbiAqIFRvZ2dsZXMgYSBidXR0b24ncyBhbmQgaXRzIHNpYmxpbmdzIFwicHJlc3NlZFwiIHN0YXRlXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBidXR0b25cbiAqIEBwYXJhbSB7Ym9vbH0gZXhwYW5kZWRcbiAqL1xuY29uc3QgdG9nZ2xlQnV0dG9uID0gKGJ1dHRvbiwgZXhwYW5kZWQpID0+IHtcbiAgICBjb25zdCBjb250YWluZXIgPSBidXR0b24uY2xvc2VzdChDT05UQUlORVIpO1xuICAgIGxldCBzYWZlRXhwYW5kZWQgPSBleHBhbmRlZDtcblxuICAgIGlmICghY29udGFpbmVyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtCVVRUT059IGlzIG1pc3Npbmcgb3V0ZXIgJHtDT05UQUlORVJ9YCk7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgZWxlbW50IGlzIGEgdGFiXG4gICAgY29uc3QgaXNUYWIgPSBidXR0b24uZ2V0QXR0cmlidXRlKCdyb2xlJykgPT09ICd0YWInO1xuICAgIC8vIEJhaWwgaWYgaXMgdGFiIGFuZCBpcyBhbHJlYWR5IHNlbGVjdGVkXG4gICAgaWYgKGV4cGFuZGVkICYmIGlzVGFiKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBzYWZlRXhwYW5kZWQgPSB0b2dnbGUoYnV0dG9uLCAhZXhwYW5kZWQpO1xuXG4gICAgaWYgKHNhZmVFeHBhbmRlZCkge1xuICAgICAgICBjb25zdCBjb250YWluZXJCdXR0b25zID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoQlVUVE9OKTtcblxuICAgICAgICBjb250YWluZXJCdXR0b25zLmZvckVhY2goKG90aGVyKSA9PiB7XG4gICAgICAgICAgICBpZiAob3RoZXIgIT09IGJ1dHRvbikge1xuICAgICAgICAgICAgICAgIHRvZ2dsZShvdGhlciwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59O1xuXG4vKipcbiAqIFRvZ2dsZSBoZWxwZXJcbiAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGJ1dHRvblxuICogQHBhcmFtIHtib29sfSBleHBhbmRlZFxuICogQHJldHVybiB7Ym9vbGVhbn0gdGhlIHJlc3VsdGluZyBzdGF0ZVxuICovXG5jb25zdCB0b2dnbGUgPSAoYnV0dG9uLCBleHBhbmRlZCkgPT4ge1xuICAgIGxldCBzYWZlRXhwYW5kZWQgPSBleHBhbmRlZDtcblxuICAgIGlmICh0eXBlb2Ygc2FmZUV4cGFuZGVkICE9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgc2FmZUV4cGFuZGVkID0gYnV0dG9uLmdldEF0dHJpYnV0ZShFWFBBTkRFRCkgPT09ICdmYWxzZSc7XG4gICAgfVxuXG4gICAgYnV0dG9uLnNldEF0dHJpYnV0ZShFWFBBTkRFRCwgc2FmZUV4cGFuZGVkKTtcblxuICAgIGNvbnN0IGlkID0gYnV0dG9uLmdldEF0dHJpYnV0ZShDT05UUk9MUyk7XG4gICAgY29uc3QgY29udHJvbHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG5cbiAgICBpZiAoIWNvbnRyb2xzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gdG9nZ2xlIHRhcmdldCBmb3VuZCB3aXRoIGlkOiBcIiR7aWR9XCJgKTtcbiAgICB9XG5cbiAgICBpZiAoc2FmZUV4cGFuZGVkKSB7XG4gICAgICAgIGNvbnRyb2xzLnNldEF0dHJpYnV0ZShISURERU4sICdmYWxzZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRyb2xzLnNldEF0dHJpYnV0ZShISURERU4sICd0cnVlJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNhZmVFeHBhbmRlZDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGV4cGFuZFNlY3Rpb247XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@helsingborg-stad/styleguide/source/js/expand-section.js\n");

/***/ }),

/***/ "./node_modules/@helsingborg-stad/styleguide/source/js/fields.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@helsingborg-stad/styleguide/source/js/fields.js ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nclass Fields {\n    \n    constructor() {                \n        this.form = document.getElementsByTagName('form')[0];\n        this.formElement = null;\n        this.formElementType = null;\n        this.formElementPattern = null;\n        this.formElementRequired = null;\n        this.formElementDataInvalid = null;\n        this.formElementDataInvalid = null;\n        \n        this.formValidationEventListerners();\n        this.fileInputOnChange();\n    }\n\n    createHiddenInput(visibileInput, filesMax, numberOfInputs, form) {\n        const hiddenInput = visibileInput.cloneNode(true);\n        \n        hiddenInput.setAttribute('style', 'display:none');\n        hiddenInput.setAttribute('js-field-fileinput', '');\n        visibileInput.parentNode.insertBefore(hiddenInput, visibileInput.nextSibling);\n        visibileInput.value = '';                    \n\n        form.addEventListener('submit', (event) => {\n            visibileInput.remove();                \n        });\n\n        return hiddenInput;\n    }\n    \n    createNotice(type, text, icon) {\n                const notice = document.createElement('div');\n                notice.classList.add('c-notice');\n                notice.classList.add('c-notice--' + type);\n        \n                const noticeIcon = document.createElement('span');\n                noticeIcon.classList.add('c-notice__icon')\n        \n                const iconItem = document.createElement('i');\n                iconItem.classList.add('c-icon');\n                iconItem.classList.add('c-icon--size-md');\n                iconItem.classList.add('material-icons');\n                iconItem.innerText = icon;\n        \n                noticeIcon.appendChild(iconItem);\n                notice.appendChild(noticeIcon);\n        \n                notice.innerText = text;\n        \n                return notice;\n          }\n    \n    /**\n     * File input - List files to upload\n     */\n    fileInputOnChange() {\n        \n        const self = this;\n        const inputs = document.querySelectorAll('.c-fileinput__input');\n        const noticeText = formbuilder.files_max_exceeded ? formbuilder.files_max_exceeded : 'Max number of files exceeded';\n        const notice = this.createNotice('danger', noticeText, 'report');\n\n        //Removing multiple attribute as this JS will handle that for the browser\n        inputs.forEach(input => {\n            if(input.hasAttribute('multiple')) {\n                input.removeAttribute('multiple');\n            }\n        });\n        \n        for (const formInput of inputs) {\n            \n            formInput.addEventListener('change', function (e) {\n                if (e.target.files && e.target.files[0]) {\n                    const fileNameContainer = this.closest('div').querySelector('ul');\n                    const clone = e.target.cloneNode(false);\n                    const form = formInput.closest('form');\n                    const filesMax = form.querySelector('.c-fileinput--area').getAttribute('filesMax');\n                    const hiddenInput = self.createHiddenInput(formInput, filesMax, 0, form);\n                    const addedFiles = form.querySelectorAll('input[js-field-fileinput]').length;\n\n                    if (addedFiles == filesMax) {\n                        formInput.setAttribute('disabled', 'true')\n                    } else if (formInput.hasAttribute('disabled')) {\n                        formInput.removeAttribute('disabled')\n                    }\n\n                    for (let int = 0; int < filesMax; int++) {\n                        const createListElement = document.createElement('li');\n                        const listElement = fileNameContainer.appendChild(createListElement);\n                        const fileSize = self.returnFileSize(clone.files[int].size);\n                        listElement.innerHTML = '<i class=\"c-icon c-icon--size-sm material-icons\">' +\n                        'attach_file</i><span class=\"c-icon__label c-icon__label--size\"> '+fileSize +', </span> <span class=\"c-icon__label\"><b>' + clone.files[int].name + '</b></span> <i class=\"c-icon c-fileinput__remove-file c-icon--size-lg  material-icons\">delete</i>';\n\n                        listElement.querySelector('.c-fileinput__remove-file').addEventListener('click', () => {\n                            hiddenInput.remove();\n                            listElement.remove();\n\n                            if(addedFiles <= filesMax) {\n                                notice.remove()\n                                \n                                if (formInput.hasAttribute('disabled')) {\n                                    formInput.removeAttribute('disabled')\n                                }\n                            }\n                        })\n                    }\n                }\n            });\n        }\n    }\n    \n    /**\n     * FileSize\n     * @param number\n     * @returns {string}\n     */\n    returnFileSize(number) {\n        if(number < 1024) {\n            return number + ' bytes';\n        } else if(number >= 1024 && number < 1048576) {\n            return (number/1024).toFixed(1) + ' KB';\n        } else if(number >= 1048576) {\n            return (number/1048576).toFixed(1) + ' MB';\n        }\n    }\n    \n    /**\n     * A simple input validation matcing input value with value\n     * Listerners Click and change\n     */\n    formValidationEventListerners() {\n        \n        const self = this;\n        const inputs = document.querySelectorAll('input[required], textarea[required], select[required]');\n        \n        for (const formInput of inputs) {\n            let inputId = formInput.getAttribute('id');\n            // On Click event listener - Setting data\n            document.getElementById(inputId).addEventListener('click', function (e) {\n                self.formElement = this;\n                \n                self.formElementType = (self.formElement.getAttribute('type')) ?\n                    self.formElement.getAttribute('type') : null;\n                \n                self.formElementPattern = (self.formElement.getAttribute('pattern')) ?\n                    self.formElement.getAttribute('pattern') : null;\n                \n                self.formElementRequired = (self.formElement.getAttribute('data-required')) ?\n                    self.formElement.getAttribute('pattern') : null;\n                \n                self.formElementDataInvalidMessage = (self.formElement.getAttribute('data-invalid-message')) ?\n                    self.formElement.getAttribute('data-invalid-message') : '';\n            });\n            \n            // On Change event listener\n            document.getElementById(inputId).addEventListener('change', function (element) {\n                self.validateFormField(element);\n            });\n        }\n    }\n    \n    \n    /**\n     * Validate Form fields by pattern\n     * @param element\n     */\n    validateFormField(element) {\n        \n        if (!('remove' in Element.prototype)) {\n            Element.prototype.remove = function () {\n                if (this.parentNode) {\n                    this.parentNode.removeChild(this);\n                }\n            };\n        }\n        \n        this.formElement.classList.remove('invalid');\n        this.formElement.classList.remove('valid');\n        \n        // If Require is on\n        if (this.formElementRequired) {\n            \n            let valid = false;\n            if (this.formElementPattern) {\n                valid = (this.formElement.value.match(this.formElementPattern)) ? true : false;\n            } else {\n                valid = true;\n            }\n            \n            const id = this.formElement.getAttribute('id');\n            if (!valid && !this.formElement.checkValidity()) {\n                this.formElement.classList.add('invalid');\n                \n                if (this.formElementDataInvalidMessage) {\n                    const errorMessage = document.getElementById('error_' + id + '_message');\n                    errorMessage.classList.add('error');\n                    errorMessage.getElementsByClassName(\"errorText\")[0].innerHTML = this.formElementDataInvalidMessage;\n                }\n                \n            } else {\n                document.getElementById('error_' + id + '_message').classList.remove('error');\n                this.formElement.className = \"valid\";\n            }\n        }\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Fields);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGhlbHNpbmdib3JnLXN0YWQvc3R5bGVndWlkZS9zb3VyY2UvanMvZmllbGRzLmpzP2Q2OWYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTs7QUFFQSxtQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlDOztBQUVBO0FBQ0EsbUM7QUFDQSxTQUFTOztBQUVUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTs7QUFFQSxxQ0FBcUMsZ0JBQWdCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWUscUVBQU0iLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGhlbHNpbmdib3JnLXN0YWQvc3R5bGVndWlkZS9zb3VyY2UvanMvZmllbGRzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgRmllbGRzIHtcbiAgICBcbiAgICBjb25zdHJ1Y3RvcigpIHsgICAgICAgICAgICAgICAgXG4gICAgICAgIHRoaXMuZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdmb3JtJylbMF07XG4gICAgICAgIHRoaXMuZm9ybUVsZW1lbnQgPSBudWxsO1xuICAgICAgICB0aGlzLmZvcm1FbGVtZW50VHlwZSA9IG51bGw7XG4gICAgICAgIHRoaXMuZm9ybUVsZW1lbnRQYXR0ZXJuID0gbnVsbDtcbiAgICAgICAgdGhpcy5mb3JtRWxlbWVudFJlcXVpcmVkID0gbnVsbDtcbiAgICAgICAgdGhpcy5mb3JtRWxlbWVudERhdGFJbnZhbGlkID0gbnVsbDtcbiAgICAgICAgdGhpcy5mb3JtRWxlbWVudERhdGFJbnZhbGlkID0gbnVsbDtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuZm9ybVZhbGlkYXRpb25FdmVudExpc3Rlcm5lcnMoKTtcbiAgICAgICAgdGhpcy5maWxlSW5wdXRPbkNoYW5nZSgpO1xuICAgIH1cblxuICAgIGNyZWF0ZUhpZGRlbklucHV0KHZpc2liaWxlSW5wdXQsIGZpbGVzTWF4LCBudW1iZXJPZklucHV0cywgZm9ybSkge1xuICAgICAgICBjb25zdCBoaWRkZW5JbnB1dCA9IHZpc2liaWxlSW5wdXQuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgICBcbiAgICAgICAgaGlkZGVuSW5wdXQuc2V0QXR0cmlidXRlKCdzdHlsZScsICdkaXNwbGF5Om5vbmUnKTtcbiAgICAgICAgaGlkZGVuSW5wdXQuc2V0QXR0cmlidXRlKCdqcy1maWVsZC1maWxlaW5wdXQnLCAnJyk7XG4gICAgICAgIHZpc2liaWxlSW5wdXQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoaGlkZGVuSW5wdXQsIHZpc2liaWxlSW5wdXQubmV4dFNpYmxpbmcpO1xuICAgICAgICB2aXNpYmlsZUlucHV0LnZhbHVlID0gJyc7ICAgICAgICAgICAgICAgICAgICBcblxuICAgICAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgdmlzaWJpbGVJbnB1dC5yZW1vdmUoKTsgICAgICAgICAgICAgICAgXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBoaWRkZW5JbnB1dDtcbiAgICB9XG4gICAgXG4gICAgY3JlYXRlTm90aWNlKHR5cGUsIHRleHQsIGljb24pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBub3RpY2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgICAgICBub3RpY2UuY2xhc3NMaXN0LmFkZCgnYy1ub3RpY2UnKTtcbiAgICAgICAgICAgICAgICBub3RpY2UuY2xhc3NMaXN0LmFkZCgnYy1ub3RpY2UtLScgKyB0eXBlKTtcbiAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc3Qgbm90aWNlSWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgICAgICAgICBub3RpY2VJY29uLmNsYXNzTGlzdC5hZGQoJ2Mtbm90aWNlX19pY29uJylcbiAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uc3QgaWNvbkl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpJyk7XG4gICAgICAgICAgICAgICAgaWNvbkl0ZW0uY2xhc3NMaXN0LmFkZCgnYy1pY29uJyk7XG4gICAgICAgICAgICAgICAgaWNvbkl0ZW0uY2xhc3NMaXN0LmFkZCgnYy1pY29uLS1zaXplLW1kJyk7XG4gICAgICAgICAgICAgICAgaWNvbkl0ZW0uY2xhc3NMaXN0LmFkZCgnbWF0ZXJpYWwtaWNvbnMnKTtcbiAgICAgICAgICAgICAgICBpY29uSXRlbS5pbm5lclRleHQgPSBpY29uO1xuICAgICAgICBcbiAgICAgICAgICAgICAgICBub3RpY2VJY29uLmFwcGVuZENoaWxkKGljb25JdGVtKTtcbiAgICAgICAgICAgICAgICBub3RpY2UuYXBwZW5kQ2hpbGQobm90aWNlSWNvbik7XG4gICAgICAgIFxuICAgICAgICAgICAgICAgIG5vdGljZS5pbm5lclRleHQgPSB0ZXh0O1xuICAgICAgICBcbiAgICAgICAgICAgICAgICByZXR1cm4gbm90aWNlO1xuICAgICAgICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBGaWxlIGlucHV0IC0gTGlzdCBmaWxlcyB0byB1cGxvYWRcbiAgICAgKi9cbiAgICBmaWxlSW5wdXRPbkNoYW5nZSgpIHtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgICBjb25zdCBpbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYy1maWxlaW5wdXRfX2lucHV0Jyk7XG4gICAgICAgIGNvbnN0IG5vdGljZVRleHQgPSBmb3JtYnVpbGRlci5maWxlc19tYXhfZXhjZWVkZWQgPyBmb3JtYnVpbGRlci5maWxlc19tYXhfZXhjZWVkZWQgOiAnTWF4IG51bWJlciBvZiBmaWxlcyBleGNlZWRlZCc7XG4gICAgICAgIGNvbnN0IG5vdGljZSA9IHRoaXMuY3JlYXRlTm90aWNlKCdkYW5nZXInLCBub3RpY2VUZXh0LCAncmVwb3J0Jyk7XG5cbiAgICAgICAgLy9SZW1vdmluZyBtdWx0aXBsZSBhdHRyaWJ1dGUgYXMgdGhpcyBKUyB3aWxsIGhhbmRsZSB0aGF0IGZvciB0aGUgYnJvd3NlclxuICAgICAgICBpbnB1dHMuZm9yRWFjaChpbnB1dCA9PiB7XG4gICAgICAgICAgICBpZihpbnB1dC5oYXNBdHRyaWJ1dGUoJ211bHRpcGxlJykpIHtcbiAgICAgICAgICAgICAgICBpbnB1dC5yZW1vdmVBdHRyaWJ1dGUoJ211bHRpcGxlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgZm9yIChjb25zdCBmb3JtSW5wdXQgb2YgaW5wdXRzKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGZvcm1JbnB1dC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC5maWxlcyAmJiBlLnRhcmdldC5maWxlc1swXSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmaWxlTmFtZUNvbnRhaW5lciA9IHRoaXMuY2xvc2VzdCgnZGl2JykucXVlcnlTZWxlY3RvcigndWwnKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xvbmUgPSBlLnRhcmdldC5jbG9uZU5vZGUoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3JtID0gZm9ybUlucHV0LmNsb3Nlc3QoJ2Zvcm0nKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZXNNYXggPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoJy5jLWZpbGVpbnB1dC0tYXJlYScpLmdldEF0dHJpYnV0ZSgnZmlsZXNNYXgnKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGlkZGVuSW5wdXQgPSBzZWxmLmNyZWF0ZUhpZGRlbklucHV0KGZvcm1JbnB1dCwgZmlsZXNNYXgsIDAsIGZvcm0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGRlZEZpbGVzID0gZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFtqcy1maWVsZC1maWxlaW5wdXRdJykubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChhZGRlZEZpbGVzID09IGZpbGVzTWF4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtSW5wdXQuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICd0cnVlJylcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChmb3JtSW5wdXQuaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtSW5wdXQucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpbnQgPSAwOyBpbnQgPCBmaWxlc01heDsgaW50KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNyZWF0ZUxpc3RFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGxpc3RFbGVtZW50ID0gZmlsZU5hbWVDb250YWluZXIuYXBwZW5kQ2hpbGQoY3JlYXRlTGlzdEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlsZVNpemUgPSBzZWxmLnJldHVybkZpbGVTaXplKGNsb25lLmZpbGVzW2ludF0uc2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0RWxlbWVudC5pbm5lckhUTUwgPSAnPGkgY2xhc3M9XCJjLWljb24gYy1pY29uLS1zaXplLXNtIG1hdGVyaWFsLWljb25zXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAnYXR0YWNoX2ZpbGU8L2k+PHNwYW4gY2xhc3M9XCJjLWljb25fX2xhYmVsIGMtaWNvbl9fbGFiZWwtLXNpemVcIj4gJytmaWxlU2l6ZSArJywgPC9zcGFuPiA8c3BhbiBjbGFzcz1cImMtaWNvbl9fbGFiZWxcIj48Yj4nICsgY2xvbmUuZmlsZXNbaW50XS5uYW1lICsgJzwvYj48L3NwYW4+IDxpIGNsYXNzPVwiYy1pY29uIGMtZmlsZWlucHV0X19yZW1vdmUtZmlsZSBjLWljb24tLXNpemUtbGcgIG1hdGVyaWFsLWljb25zXCI+ZGVsZXRlPC9pPic7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jLWZpbGVpbnB1dF9fcmVtb3ZlLWZpbGUnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoaWRkZW5JbnB1dC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0RWxlbWVudC5yZW1vdmUoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGFkZGVkRmlsZXMgPD0gZmlsZXNNYXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90aWNlLnJlbW92ZSgpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm9ybUlucHV0Lmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybUlucHV0LnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIEZpbGVTaXplXG4gICAgICogQHBhcmFtIG51bWJlclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9XG4gICAgICovXG4gICAgcmV0dXJuRmlsZVNpemUobnVtYmVyKSB7XG4gICAgICAgIGlmKG51bWJlciA8IDEwMjQpIHtcbiAgICAgICAgICAgIHJldHVybiBudW1iZXIgKyAnIGJ5dGVzJztcbiAgICAgICAgfSBlbHNlIGlmKG51bWJlciA+PSAxMDI0ICYmIG51bWJlciA8IDEwNDg1NzYpIHtcbiAgICAgICAgICAgIHJldHVybiAobnVtYmVyLzEwMjQpLnRvRml4ZWQoMSkgKyAnIEtCJztcbiAgICAgICAgfSBlbHNlIGlmKG51bWJlciA+PSAxMDQ4NTc2KSB7XG4gICAgICAgICAgICByZXR1cm4gKG51bWJlci8xMDQ4NTc2KS50b0ZpeGVkKDEpICsgJyBNQic7XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLyoqXG4gICAgICogQSBzaW1wbGUgaW5wdXQgdmFsaWRhdGlvbiBtYXRjaW5nIGlucHV0IHZhbHVlIHdpdGggdmFsdWVcbiAgICAgKiBMaXN0ZXJuZXJzIENsaWNrIGFuZCBjaGFuZ2VcbiAgICAgKi9cbiAgICBmb3JtVmFsaWRhdGlvbkV2ZW50TGlzdGVybmVycygpIHtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgICBjb25zdCBpbnB1dHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFtyZXF1aXJlZF0sIHRleHRhcmVhW3JlcXVpcmVkXSwgc2VsZWN0W3JlcXVpcmVkXScpO1xuICAgICAgICBcbiAgICAgICAgZm9yIChjb25zdCBmb3JtSW5wdXQgb2YgaW5wdXRzKSB7XG4gICAgICAgICAgICBsZXQgaW5wdXRJZCA9IGZvcm1JbnB1dC5nZXRBdHRyaWJ1dGUoJ2lkJyk7XG4gICAgICAgICAgICAvLyBPbiBDbGljayBldmVudCBsaXN0ZW5lciAtIFNldHRpbmcgZGF0YVxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaW5wdXRJZCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIHNlbGYuZm9ybUVsZW1lbnQgPSB0aGlzO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHNlbGYuZm9ybUVsZW1lbnRUeXBlID0gKHNlbGYuZm9ybUVsZW1lbnQuZ2V0QXR0cmlidXRlKCd0eXBlJykpID9cbiAgICAgICAgICAgICAgICAgICAgc2VsZi5mb3JtRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3R5cGUnKSA6IG51bGw7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgc2VsZi5mb3JtRWxlbWVudFBhdHRlcm4gPSAoc2VsZi5mb3JtRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3BhdHRlcm4nKSkgP1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmZvcm1FbGVtZW50LmdldEF0dHJpYnV0ZSgncGF0dGVybicpIDogbnVsbDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBzZWxmLmZvcm1FbGVtZW50UmVxdWlyZWQgPSAoc2VsZi5mb3JtRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtcmVxdWlyZWQnKSkgP1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmZvcm1FbGVtZW50LmdldEF0dHJpYnV0ZSgncGF0dGVybicpIDogbnVsbDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBzZWxmLmZvcm1FbGVtZW50RGF0YUludmFsaWRNZXNzYWdlID0gKHNlbGYuZm9ybUVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWludmFsaWQtbWVzc2FnZScpKSA/XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuZm9ybUVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWludmFsaWQtbWVzc2FnZScpIDogJyc7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gT24gQ2hhbmdlIGV2ZW50IGxpc3RlbmVyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpbnB1dElkKS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHNlbGYudmFsaWRhdGVGb3JtRmllbGQoZWxlbWVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBcbiAgICAvKipcbiAgICAgKiBWYWxpZGF0ZSBGb3JtIGZpZWxkcyBieSBwYXR0ZXJuXG4gICAgICogQHBhcmFtIGVsZW1lbnRcbiAgICAgKi9cbiAgICB2YWxpZGF0ZUZvcm1GaWVsZChlbGVtZW50KSB7XG4gICAgICAgIFxuICAgICAgICBpZiAoISgncmVtb3ZlJyBpbiBFbGVtZW50LnByb3RvdHlwZSkpIHtcbiAgICAgICAgICAgIEVsZW1lbnQucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0aGlzLmZvcm1FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2ludmFsaWQnKTtcbiAgICAgICAgdGhpcy5mb3JtRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCd2YWxpZCcpO1xuICAgICAgICBcbiAgICAgICAgLy8gSWYgUmVxdWlyZSBpcyBvblxuICAgICAgICBpZiAodGhpcy5mb3JtRWxlbWVudFJlcXVpcmVkKSB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGxldCB2YWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHRoaXMuZm9ybUVsZW1lbnRQYXR0ZXJuKSB7XG4gICAgICAgICAgICAgICAgdmFsaWQgPSAodGhpcy5mb3JtRWxlbWVudC52YWx1ZS5tYXRjaCh0aGlzLmZvcm1FbGVtZW50UGF0dGVybikpID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YWxpZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IGlkID0gdGhpcy5mb3JtRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2lkJyk7XG4gICAgICAgICAgICBpZiAoIXZhbGlkICYmICF0aGlzLmZvcm1FbGVtZW50LmNoZWNrVmFsaWRpdHkoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZm9ybUVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaW52YWxpZCcpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZvcm1FbGVtZW50RGF0YUludmFsaWRNZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlcnJvcl8nICsgaWQgKyAnX21lc3NhZ2UnKTtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlLmNsYXNzTGlzdC5hZGQoJ2Vycm9yJyk7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiZXJyb3JUZXh0XCIpWzBdLmlubmVySFRNTCA9IHRoaXMuZm9ybUVsZW1lbnREYXRhSW52YWxpZE1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXJyb3JfJyArIGlkICsgJ19tZXNzYWdlJykuY2xhc3NMaXN0LnJlbW92ZSgnZXJyb3InKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZvcm1FbGVtZW50LmNsYXNzTmFtZSA9IFwidmFsaWRcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRmllbGRzOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@helsingborg-stad/styleguide/source/js/fields.js\n");

/***/ }),

/***/ "./node_modules/@helsingborg-stad/styleguide/source/js/filter.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@helsingborg-stad/styleguide/source/js/filter.js ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Filter; });\n/* Filter lists */\nconst   CONTAINER   = \"[js-filter-container]\",\n        ITEM        = \"[js-filter-item]\",\n        DATA        = \"[js-filter-data]\",\n        INPUT       = \"[js-filter-input]\";\n\nclass Filter {\n    constructor() {\n        this.list = [];\n\n        this.enableSearch();\n    }\n\n    enableSearch() {\n        let containers = document.querySelectorAll(CONTAINER);//Get filterable elements\n\n        containers.forEach((container) => {\n\n            //Get filterable items\n            container.querySelectorAll(ITEM).forEach((item) => {\n                let dataItems;\n                let dataString = '';\n\n                if(item.hasAttribute('js-filter-data')) {\n                    dataItems = [item, ...item.querySelectorAll(DATA)];\n                } else {\n                    dataItems = item.querySelectorAll(DATA);\n                }\n\n                //Build search string\n                dataItems.forEach((data) => {\n                    dataString = dataString.concat(data.innerHTML);\n                    dataString = dataString.replace(/(<([^>]+)>)/gi, \"\");\n                });\n\n                //Add to search array\n                this.list.push({\n                    searchId: container.getAttribute('js-filter-container'), //Get id\n                    element: item,\n                    parent: item.parentNode,\n                    data: dataString.toLowerCase()\n                });\n            });\n\n            //Get inputs\n            container.querySelectorAll(INPUT).forEach((input) => {\n                input.addEventListener('input', () => {\n                    let inputId = input.getAttribute('js-filter-input');\n\n                    this.list.forEach((item) => {\n                        if (item.searchId === inputId) {\n                            //Get search term and search in item\n                            let res = item.data.search(input.value.toLocaleLowerCase());\n\n                            if (res < 0) {\n                                item.element.remove(); //Remove unmatched\n                            } else {\n                                item.parent.append(item.element); //Readd match\n                            }\n                        }\n                    });\n                });\n            });\n        });\n    }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGhlbHNpbmdib3JnLXN0YWQvc3R5bGVndWlkZS9zb3VyY2UvanMvZmlsdGVyLmpzPzYyMGYiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWU7QUFDZjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSw4REFBOEQ7O0FBRTlEOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjs7QUFFakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxzREFBc0Q7QUFDdEQsNkJBQTZCO0FBQzdCLGlFQUFpRTtBQUNqRTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0EiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGhlbHNpbmdib3JnLXN0YWQvc3R5bGVndWlkZS9zb3VyY2UvanMvZmlsdGVyLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogRmlsdGVyIGxpc3RzICovXG5jb25zdCAgIENPTlRBSU5FUiAgID0gXCJbanMtZmlsdGVyLWNvbnRhaW5lcl1cIixcbiAgICAgICAgSVRFTSAgICAgICAgPSBcIltqcy1maWx0ZXItaXRlbV1cIixcbiAgICAgICAgREFUQSAgICAgICAgPSBcIltqcy1maWx0ZXItZGF0YV1cIixcbiAgICAgICAgSU5QVVQgICAgICAgPSBcIltqcy1maWx0ZXItaW5wdXRdXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZpbHRlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubGlzdCA9IFtdO1xuXG4gICAgICAgIHRoaXMuZW5hYmxlU2VhcmNoKCk7XG4gICAgfVxuXG4gICAgZW5hYmxlU2VhcmNoKCkge1xuICAgICAgICBsZXQgY29udGFpbmVycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoQ09OVEFJTkVSKTsvL0dldCBmaWx0ZXJhYmxlIGVsZW1lbnRzXG5cbiAgICAgICAgY29udGFpbmVycy5mb3JFYWNoKChjb250YWluZXIpID0+IHtcblxuICAgICAgICAgICAgLy9HZXQgZmlsdGVyYWJsZSBpdGVtc1xuICAgICAgICAgICAgY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoSVRFTSkuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBkYXRhSXRlbXM7XG4gICAgICAgICAgICAgICAgbGV0IGRhdGFTdHJpbmcgPSAnJztcblxuICAgICAgICAgICAgICAgIGlmKGl0ZW0uaGFzQXR0cmlidXRlKCdqcy1maWx0ZXItZGF0YScpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFJdGVtcyA9IFtpdGVtLCAuLi5pdGVtLnF1ZXJ5U2VsZWN0b3JBbGwoREFUQSldO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFJdGVtcyA9IGl0ZW0ucXVlcnlTZWxlY3RvckFsbChEQVRBKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvL0J1aWxkIHNlYXJjaCBzdHJpbmdcbiAgICAgICAgICAgICAgICBkYXRhSXRlbXMuZm9yRWFjaCgoZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBkYXRhU3RyaW5nID0gZGF0YVN0cmluZy5jb25jYXQoZGF0YS5pbm5lckhUTUwpO1xuICAgICAgICAgICAgICAgICAgICBkYXRhU3RyaW5nID0gZGF0YVN0cmluZy5yZXBsYWNlKC8oPChbXj5dKyk+KS9naSwgXCJcIik7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvL0FkZCB0byBzZWFyY2ggYXJyYXlcbiAgICAgICAgICAgICAgICB0aGlzLmxpc3QucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHNlYXJjaElkOiBjb250YWluZXIuZ2V0QXR0cmlidXRlKCdqcy1maWx0ZXItY29udGFpbmVyJyksIC8vR2V0IGlkXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6IGl0ZW0sXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogaXRlbS5wYXJlbnROb2RlLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiBkYXRhU3RyaW5nLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvL0dldCBpbnB1dHNcbiAgICAgICAgICAgIGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKElOUFVUKS5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgICAgICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgaW5wdXRJZCA9IGlucHV0LmdldEF0dHJpYnV0ZSgnanMtZmlsdGVyLWlucHV0Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5saXN0LmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpdGVtLnNlYXJjaElkID09PSBpbnB1dElkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9HZXQgc2VhcmNoIHRlcm0gYW5kIHNlYXJjaCBpbiBpdGVtXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlcyA9IGl0ZW0uZGF0YS5zZWFyY2goaW5wdXQudmFsdWUudG9Mb2NhbGVMb3dlckNhc2UoKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmVsZW1lbnQucmVtb3ZlKCk7IC8vUmVtb3ZlIHVubWF0Y2hlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0ucGFyZW50LmFwcGVuZChpdGVtLmVsZW1lbnQpOyAvL1JlYWRkIG1hdGNoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@helsingborg-stad/styleguide/source/js/filter.js\n");

/***/ }),

/***/ "./node_modules/@helsingborg-stad/styleguide/source/js/gallery.js":
/*!************************************************************************!*\
  !*** ./node_modules/@helsingborg-stad/styleguide/source/js/gallery.js ***!
  \************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _steppers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./steppers */ \"./node_modules/@helsingborg-stad/styleguide/source/js/steppers.js\");\n/* harmony import */ var _image__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./image */ \"./node_modules/@helsingborg-stad/styleguide/source/js/image.js\");\n/**\n * Component Gallery\n */\n\n\n\nclass Gallery {\n\n    constructor() {\n\n        this.imageDataSet = [];\n        this.imageData = {};\n        this.modalImg = '';\n        this.modalId = null;\n        this.container = null;\n        this.isVisible = \"c-modal__bg--is-visible\";\n        this.StepperInstance = {};\n\n        this.Image = new _image__WEBPACK_IMPORTED_MODULE_1__[\"default\"];\n        this.StepperInstance = new _steppers__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    }\n\n    /**\n     * Init Modal Image in Gallery\n     * @param modalId\n     * @param modalImage\n     */\n    initImage(modalId, modalImage) {\n\n        const self = this;\n        this.modalId = modalId;\n        this.modalImg = modalImage;\n\n        for (let img of document.querySelectorAll(\"[data-large-img]\")) {\n            this.imageDataSet.push({\n                image: img.getAttribute('data-large-img'),\n                imageStep: img.getAttribute('data-stepping'),\n                imageCaption: img.getAttribute('data-caption')\n            });\n\n            if (img.getAttribute('data-large-img') === this.modalImg) {\n                this.imageData.image = img.getAttribute('data-large-img');\n                this.imageData.imageStep = img.getAttribute('data-stepping');\n                this.imageData.imageCaption = img.getAttribute('data-caption');\n            }\n        }\n\n        this.container = document.getElementById(this.modalId);\n        this.container.querySelector('.c-image').innerHTML = '';\n        self.createImg(this.container, this.imageData);\n\n    }\n\n    /**\n     * Enable Gallery\n     * Next, Previous image by click or keys\n     */\n    enableGallery() {\n\n        const self = this;\n\n        const nextTrigger = document.querySelectorAll(\"[data-next]\");\n        const prevTrigger = document.querySelectorAll(\"[data-prev]\");\n\n        // Next Image\n        for (const nxt of nextTrigger) {\n            nxt.addEventListener(\"click\", function () {\n                self.imageData = self.cycleImage('next');\n            });\n        }\n\n        // Previous image\n        for (const prev of prevTrigger) {\n            prev.addEventListener(\"click\", function () {\n                self.imageData = self.cycleImage('prev');\n            });\n        }\n\n        // Pressing Right key to skip to next\n        for (const nxt of nextTrigger) {\n            document.addEventListener(\"keyup\", e => {\n                if (e.key === \"ArrowRight\" && document.querySelector(`.${self.isVisible}`)) {\n                    self.imageData = self.cycleImage('next');\n                }\n            });\n        }\n\n        // Pressing Left key to skip to previous\n        for (const nxt of nextTrigger) {\n            document.addEventListener(\"keyup\", e => {\n                if (e.key === \"ArrowLeft\" && document.querySelector(`.${self.isVisible}`)) {\n                    self.imageData = self.cycleImage('prev');\n                }\n            });\n        }\n    }\n\n    /**\n     * Next & previous Image\n     * @param nav\n     * @returns {*}\n     */\n    cycleImage(nav) {\n        const self = this;\n\n        let currentIndex = parseInt(this.imageData.imageStep);\n        let nextIndex = (nav === 'next') ?\n            (currentIndex + 1) % this.imageDataSet.length :\n            (currentIndex - 1) % this.imageDataSet.length;\n\n        nextIndex = (nextIndex < 0) ? this.imageDataSet.length - 1 : nextIndex;\n        (currentIndex > this.imageDataSet.length) ?\n            this.createImg(this.container, this.imageDataSet[0]) :\n            this.createImg(this.container, this.imageDataSet[nextIndex]);\n\n        return this.imageDataSet[nextIndex];\n    }\n\n    /**\n     * Create Image in modal\n     * @param containerId\n     * @param imgSrc\n     */\n    createImg(containerId, imgSrc) {\n\n        const container = containerId.querySelector('.c-image');\n        const containerModalContent = containerId.querySelector('.c-modal__content');\n        this.imageData = imgSrc;\n\n        if (!('remove' in Element.prototype)) {\n            Element.prototype.remove = function() {\n                if (this.parentNode) {\n                    this.parentNode.removeChild(this);\n                }\n            };\n        }\n\n        if (container.querySelectorAll('img').length === 0) {\n\n            container.innerHTML = '';\n            container.classList.remove('c-image--is-placeholder');\n\n            this.Image.initImage({\n                'elementContainer': container,\n                'attrList': {\n                    'src': imgSrc.image,\n                    'data-step': imgSrc.imageStep,\n                    'data-caption': imgSrc.imageCaption\n                },\n                'classList': ['c-image__image']\n            });\n\n            this.imageCaption(containerModalContent, imgSrc);\n            this.StepperInstance.enableStepper('dots', this.container, this.imageDataSet.length, true);\n\n        } else {\n            container.querySelector('.c-image__image').src = imgSrc.image;\n            container.querySelector('.c-image__image').setAttribute('data-step', imgSrc.imageStep);\n\n            this.imageCaption(containerModalContent, imgSrc);\n            this.StepperInstance.enableStepper('dots', this.container, this.imageDataSet.length, false);\n        }\n    }\n\n    /**\n     * Setting image caption\n     * @param containerModalContent\n     * @param imgSrc\n     */\n    imageCaption(containerModalContent, imgSrc) {\n        if (imgSrc.imageCaption) {\n            if (containerModalContent.querySelector('.c-image__caption') !== null) {\n                containerModalContent.querySelector('.c-image__caption').remove();\n            }\n            containerModalContent.insertAdjacentHTML(\"beforeend\",\n                '<figcaption class=\"c-image__caption\">' + imgSrc.imageCaption + '</figcaption>');\n        }\n    }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Gallery);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGhlbHNpbmdib3JnLXN0YWQvc3R5bGVndWlkZS9zb3VyY2UvanMvZ2FsbGVyeS5qcz81Y2YwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNrQztBQUNOOztBQUU1Qjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSx5QkFBeUIsOENBQUs7QUFDOUIsbUNBQW1DLGlEQUFRO0FBQzNDOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7O0FBRUE7QUFDQTtBQUNBO0FBQ0EseUVBQXlFLGVBQWU7QUFDeEY7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx3RUFBd0UsZUFBZTtBQUN2RjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxhQUFhOztBQUViO0FBQ0E7O0FBRUEsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFZSxzRUFBTyxFQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL0BoZWxzaW5nYm9yZy1zdGFkL3N0eWxlZ3VpZGUvc291cmNlL2pzL2dhbGxlcnkuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvbXBvbmVudCBHYWxsZXJ5XG4gKi9cbmltcG9ydCBTdGVwcGVycyBmcm9tIFwiLi9zdGVwcGVyc1wiO1xuaW1wb3J0IEltYWdlIGZyb20gXCIuL2ltYWdlXCI7XG5cbmNsYXNzIEdhbGxlcnkge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG5cbiAgICAgICAgdGhpcy5pbWFnZURhdGFTZXQgPSBbXTtcbiAgICAgICAgdGhpcy5pbWFnZURhdGEgPSB7fTtcbiAgICAgICAgdGhpcy5tb2RhbEltZyA9ICcnO1xuICAgICAgICB0aGlzLm1vZGFsSWQgPSBudWxsO1xuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IG51bGw7XG4gICAgICAgIHRoaXMuaXNWaXNpYmxlID0gXCJjLW1vZGFsX19iZy0taXMtdmlzaWJsZVwiO1xuICAgICAgICB0aGlzLlN0ZXBwZXJJbnN0YW5jZSA9IHt9O1xuXG4gICAgICAgIHRoaXMuSW1hZ2UgPSBuZXcgSW1hZ2U7XG4gICAgICAgIHRoaXMuU3RlcHBlckluc3RhbmNlID0gbmV3IFN0ZXBwZXJzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXQgTW9kYWwgSW1hZ2UgaW4gR2FsbGVyeVxuICAgICAqIEBwYXJhbSBtb2RhbElkXG4gICAgICogQHBhcmFtIG1vZGFsSW1hZ2VcbiAgICAgKi9cbiAgICBpbml0SW1hZ2UobW9kYWxJZCwgbW9kYWxJbWFnZSkge1xuXG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgICB0aGlzLm1vZGFsSWQgPSBtb2RhbElkO1xuICAgICAgICB0aGlzLm1vZGFsSW1nID0gbW9kYWxJbWFnZTtcblxuICAgICAgICBmb3IgKGxldCBpbWcgb2YgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLWxhcmdlLWltZ11cIikpIHtcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VEYXRhU2V0LnB1c2goe1xuICAgICAgICAgICAgICAgIGltYWdlOiBpbWcuZ2V0QXR0cmlidXRlKCdkYXRhLWxhcmdlLWltZycpLFxuICAgICAgICAgICAgICAgIGltYWdlU3RlcDogaW1nLmdldEF0dHJpYnV0ZSgnZGF0YS1zdGVwcGluZycpLFxuICAgICAgICAgICAgICAgIGltYWdlQ2FwdGlvbjogaW1nLmdldEF0dHJpYnV0ZSgnZGF0YS1jYXB0aW9uJylcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoaW1nLmdldEF0dHJpYnV0ZSgnZGF0YS1sYXJnZS1pbWcnKSA9PT0gdGhpcy5tb2RhbEltZykge1xuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VEYXRhLmltYWdlID0gaW1nLmdldEF0dHJpYnV0ZSgnZGF0YS1sYXJnZS1pbWcnKTtcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlRGF0YS5pbWFnZVN0ZXAgPSBpbWcuZ2V0QXR0cmlidXRlKCdkYXRhLXN0ZXBwaW5nJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZURhdGEuaW1hZ2VDYXB0aW9uID0gaW1nLmdldEF0dHJpYnV0ZSgnZGF0YS1jYXB0aW9uJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMubW9kYWxJZCk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoJy5jLWltYWdlJykuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIHNlbGYuY3JlYXRlSW1nKHRoaXMuY29udGFpbmVyLCB0aGlzLmltYWdlRGF0YSk7XG5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmFibGUgR2FsbGVyeVxuICAgICAqIE5leHQsIFByZXZpb3VzIGltYWdlIGJ5IGNsaWNrIG9yIGtleXNcbiAgICAgKi9cbiAgICBlbmFibGVHYWxsZXJ5KCkge1xuXG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIGNvbnN0IG5leHRUcmlnZ2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLW5leHRdXCIpO1xuICAgICAgICBjb25zdCBwcmV2VHJpZ2dlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbZGF0YS1wcmV2XVwiKTtcblxuICAgICAgICAvLyBOZXh0IEltYWdlXG4gICAgICAgIGZvciAoY29uc3Qgbnh0IG9mIG5leHRUcmlnZ2VyKSB7XG4gICAgICAgICAgICBueHQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmltYWdlRGF0YSA9IHNlbGYuY3ljbGVJbWFnZSgnbmV4dCcpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQcmV2aW91cyBpbWFnZVxuICAgICAgICBmb3IgKGNvbnN0IHByZXYgb2YgcHJldlRyaWdnZXIpIHtcbiAgICAgICAgICAgIHByZXYuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmltYWdlRGF0YSA9IHNlbGYuY3ljbGVJbWFnZSgncHJldicpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQcmVzc2luZyBSaWdodCBrZXkgdG8gc2tpcCB0byBuZXh0XG4gICAgICAgIGZvciAoY29uc3Qgbnh0IG9mIG5leHRUcmlnZ2VyKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgZSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGUua2V5ID09PSBcIkFycm93UmlnaHRcIiAmJiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtzZWxmLmlzVmlzaWJsZX1gKSkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmltYWdlRGF0YSA9IHNlbGYuY3ljbGVJbWFnZSgnbmV4dCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUHJlc3NpbmcgTGVmdCBrZXkgdG8gc2tpcCB0byBwcmV2aW91c1xuICAgICAgICBmb3IgKGNvbnN0IG54dCBvZiBuZXh0VHJpZ2dlcikge1xuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIGUgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlLmtleSA9PT0gXCJBcnJvd0xlZnRcIiAmJiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtzZWxmLmlzVmlzaWJsZX1gKSkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmltYWdlRGF0YSA9IHNlbGYuY3ljbGVJbWFnZSgncHJldicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTmV4dCAmIHByZXZpb3VzIEltYWdlXG4gICAgICogQHBhcmFtIG5hdlxuICAgICAqIEByZXR1cm5zIHsqfVxuICAgICAqL1xuICAgIGN5Y2xlSW1hZ2UobmF2KSB7XG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIGxldCBjdXJyZW50SW5kZXggPSBwYXJzZUludCh0aGlzLmltYWdlRGF0YS5pbWFnZVN0ZXApO1xuICAgICAgICBsZXQgbmV4dEluZGV4ID0gKG5hdiA9PT0gJ25leHQnKSA/XG4gICAgICAgICAgICAoY3VycmVudEluZGV4ICsgMSkgJSB0aGlzLmltYWdlRGF0YVNldC5sZW5ndGggOlxuICAgICAgICAgICAgKGN1cnJlbnRJbmRleCAtIDEpICUgdGhpcy5pbWFnZURhdGFTZXQubGVuZ3RoO1xuXG4gICAgICAgIG5leHRJbmRleCA9IChuZXh0SW5kZXggPCAwKSA/IHRoaXMuaW1hZ2VEYXRhU2V0Lmxlbmd0aCAtIDEgOiBuZXh0SW5kZXg7XG4gICAgICAgIChjdXJyZW50SW5kZXggPiB0aGlzLmltYWdlRGF0YVNldC5sZW5ndGgpID9cbiAgICAgICAgICAgIHRoaXMuY3JlYXRlSW1nKHRoaXMuY29udGFpbmVyLCB0aGlzLmltYWdlRGF0YVNldFswXSkgOlxuICAgICAgICAgICAgdGhpcy5jcmVhdGVJbWcodGhpcy5jb250YWluZXIsIHRoaXMuaW1hZ2VEYXRhU2V0W25leHRJbmRleF0pO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmltYWdlRGF0YVNldFtuZXh0SW5kZXhdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBJbWFnZSBpbiBtb2RhbFxuICAgICAqIEBwYXJhbSBjb250YWluZXJJZFxuICAgICAqIEBwYXJhbSBpbWdTcmNcbiAgICAgKi9cbiAgICBjcmVhdGVJbWcoY29udGFpbmVySWQsIGltZ1NyYykge1xuXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGNvbnRhaW5lcklkLnF1ZXJ5U2VsZWN0b3IoJy5jLWltYWdlJyk7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lck1vZGFsQ29udGVudCA9IGNvbnRhaW5lcklkLnF1ZXJ5U2VsZWN0b3IoJy5jLW1vZGFsX19jb250ZW50Jyk7XG4gICAgICAgIHRoaXMuaW1hZ2VEYXRhID0gaW1nU3JjO1xuXG4gICAgICAgIGlmICghKCdyZW1vdmUnIGluIEVsZW1lbnQucHJvdG90eXBlKSkge1xuICAgICAgICAgICAgRWxlbWVudC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnaW1nJykubGVuZ3RoID09PSAwKSB7XG5cbiAgICAgICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdjLWltYWdlLS1pcy1wbGFjZWhvbGRlcicpO1xuXG4gICAgICAgICAgICB0aGlzLkltYWdlLmluaXRJbWFnZSh7XG4gICAgICAgICAgICAgICAgJ2VsZW1lbnRDb250YWluZXInOiBjb250YWluZXIsXG4gICAgICAgICAgICAgICAgJ2F0dHJMaXN0Jzoge1xuICAgICAgICAgICAgICAgICAgICAnc3JjJzogaW1nU3JjLmltYWdlLFxuICAgICAgICAgICAgICAgICAgICAnZGF0YS1zdGVwJzogaW1nU3JjLmltYWdlU3RlcCxcbiAgICAgICAgICAgICAgICAgICAgJ2RhdGEtY2FwdGlvbic6IGltZ1NyYy5pbWFnZUNhcHRpb25cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICdjbGFzc0xpc3QnOiBbJ2MtaW1hZ2VfX2ltYWdlJ11cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLmltYWdlQ2FwdGlvbihjb250YWluZXJNb2RhbENvbnRlbnQsIGltZ1NyYyk7XG4gICAgICAgICAgICB0aGlzLlN0ZXBwZXJJbnN0YW5jZS5lbmFibGVTdGVwcGVyKCdkb3RzJywgdGhpcy5jb250YWluZXIsIHRoaXMuaW1hZ2VEYXRhU2V0Lmxlbmd0aCwgdHJ1ZSk7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuYy1pbWFnZV9faW1hZ2UnKS5zcmMgPSBpbWdTcmMuaW1hZ2U7XG4gICAgICAgICAgICBjb250YWluZXIucXVlcnlTZWxlY3RvcignLmMtaW1hZ2VfX2ltYWdlJykuc2V0QXR0cmlidXRlKCdkYXRhLXN0ZXAnLCBpbWdTcmMuaW1hZ2VTdGVwKTtcblxuICAgICAgICAgICAgdGhpcy5pbWFnZUNhcHRpb24oY29udGFpbmVyTW9kYWxDb250ZW50LCBpbWdTcmMpO1xuICAgICAgICAgICAgdGhpcy5TdGVwcGVySW5zdGFuY2UuZW5hYmxlU3RlcHBlcignZG90cycsIHRoaXMuY29udGFpbmVyLCB0aGlzLmltYWdlRGF0YVNldC5sZW5ndGgsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHRpbmcgaW1hZ2UgY2FwdGlvblxuICAgICAqIEBwYXJhbSBjb250YWluZXJNb2RhbENvbnRlbnRcbiAgICAgKiBAcGFyYW0gaW1nU3JjXG4gICAgICovXG4gICAgaW1hZ2VDYXB0aW9uKGNvbnRhaW5lck1vZGFsQ29udGVudCwgaW1nU3JjKSB7XG4gICAgICAgIGlmIChpbWdTcmMuaW1hZ2VDYXB0aW9uKSB7XG4gICAgICAgICAgICBpZiAoY29udGFpbmVyTW9kYWxDb250ZW50LnF1ZXJ5U2VsZWN0b3IoJy5jLWltYWdlX19jYXB0aW9uJykgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXJNb2RhbENvbnRlbnQucXVlcnlTZWxlY3RvcignLmMtaW1hZ2VfX2NhcHRpb24nKS5yZW1vdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRhaW5lck1vZGFsQ29udGVudC5pbnNlcnRBZGphY2VudEhUTUwoXCJiZWZvcmVlbmRcIixcbiAgICAgICAgICAgICAgICAnPGZpZ2NhcHRpb24gY2xhc3M9XCJjLWltYWdlX19jYXB0aW9uXCI+JyArIGltZ1NyYy5pbWFnZUNhcHRpb24gKyAnPC9maWdjYXB0aW9uPicpO1xuICAgICAgICB9XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IEdhbGxlcnk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@helsingborg-stad/styleguide/source/js/gallery.js\n");

/***/ }),

/***/ "./node_modules/@helsingborg-stad/styleguide/source/js/helpers/swipe.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@helsingborg-stad/styleguide/source/js/helpers/swipe.js ***!
  \******************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("document.addEventListener('touchstart', handleTouchStart, false);        \ndocument.addEventListener('touchmove', handleTouchMove, false);\n\nconst swipeUp = new CustomEvent('swipeUp', {\n    bubbles: true,\n});\n\nconst swipeDown = new CustomEvent('swipeDown', {\n    bubbles: true,\n});\n\nconst swipeRight = new CustomEvent('swipeRight', {\n    bubbles: true,\n});\n\nconst swipeLeft = new CustomEvent('swipeLeft', {\n    bubbles: true,\n});\n\nvar xDown = null;                                                        \nvar yDown = null;\n\nfunction getTouches(evt) {\n  return evt.touches ||             // browser API\n         evt.originalEvent.touches; // jQuery\n}                                                     \n\nfunction handleTouchStart(evt) {\n    const firstTouch = getTouches(evt)[0];                                      \n    xDown = firstTouch.clientX;                                      \n    yDown = firstTouch.clientY;                                      \n};                                                \n\nfunction handleTouchMove(evt) {\n    if ( ! xDown || ! yDown ) {\n        return;\n    }\n\n    var xUp = evt.touches[0].clientX;                                    \n    var yUp = evt.touches[0].clientY;\n\n    var xDiff = xDown - xUp;\n    var yDiff = yDown - yUp;\n\n    if ( Math.abs( xDiff ) > Math.abs( yDiff ) ) {/*most significant*/\n        if ( xDiff > 0 ) {\n            /* left swipe */ \n            evt.target.dispatchEvent(swipeLeft)\n        } else {\n            /* right swipe */\n            evt.target.dispatchEvent(swipeRight)\n        }                       \n    } else {\n        if ( yDiff > 0 ) {\n            /* up swipe */ \n            evt.target.dispatchEvent(swipeUp)\n        } else { \n            /* down swipe */\n            evt.target.dispatchEvent(swipeDown)\n        }\n    }\n    /* reset values */\n    xDown = null;\n    yDown = null;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGhlbHNpbmdib3JnLXN0YWQvc3R5bGVndWlkZS9zb3VyY2UvanMvaGVscGVycy9zd2lwZS5qcz81NTVkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGlFO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBLENBQUM7O0FBRUQsaUI7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DLEM7O0FBRUE7QUFDQSwwQztBQUNBLCtCO0FBQ0EsK0I7QUFDQSxFOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHFDO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxrREFBa0Q7QUFDbEQ7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVMsTztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGhlbHNpbmdib3JnLXN0YWQvc3R5bGVndWlkZS9zb3VyY2UvanMvaGVscGVycy9zd2lwZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBoYW5kbGVUb3VjaFN0YXJ0LCBmYWxzZSk7ICAgICAgICBcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIGhhbmRsZVRvdWNoTW92ZSwgZmFsc2UpO1xuXG5jb25zdCBzd2lwZVVwID0gbmV3IEN1c3RvbUV2ZW50KCdzd2lwZVVwJywge1xuICAgIGJ1YmJsZXM6IHRydWUsXG59KTtcblxuY29uc3Qgc3dpcGVEb3duID0gbmV3IEN1c3RvbUV2ZW50KCdzd2lwZURvd24nLCB7XG4gICAgYnViYmxlczogdHJ1ZSxcbn0pO1xuXG5jb25zdCBzd2lwZVJpZ2h0ID0gbmV3IEN1c3RvbUV2ZW50KCdzd2lwZVJpZ2h0Jywge1xuICAgIGJ1YmJsZXM6IHRydWUsXG59KTtcblxuY29uc3Qgc3dpcGVMZWZ0ID0gbmV3IEN1c3RvbUV2ZW50KCdzd2lwZUxlZnQnLCB7XG4gICAgYnViYmxlczogdHJ1ZSxcbn0pO1xuXG52YXIgeERvd24gPSBudWxsOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG52YXIgeURvd24gPSBudWxsO1xuXG5mdW5jdGlvbiBnZXRUb3VjaGVzKGV2dCkge1xuICByZXR1cm4gZXZ0LnRvdWNoZXMgfHwgICAgICAgICAgICAgLy8gYnJvd3NlciBBUElcbiAgICAgICAgIGV2dC5vcmlnaW5hbEV2ZW50LnRvdWNoZXM7IC8vIGpRdWVyeVxufSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cbmZ1bmN0aW9uIGhhbmRsZVRvdWNoU3RhcnQoZXZ0KSB7XG4gICAgY29uc3QgZmlyc3RUb3VjaCA9IGdldFRvdWNoZXMoZXZ0KVswXTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgIHhEb3duID0gZmlyc3RUb3VjaC5jbGllbnRYOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgeURvd24gPSBmaXJzdFRvdWNoLmNsaWVudFk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbn07ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG5cbmZ1bmN0aW9uIGhhbmRsZVRvdWNoTW92ZShldnQpIHtcbiAgICBpZiAoICEgeERvd24gfHwgISB5RG93biApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB4VXAgPSBldnQudG91Y2hlc1swXS5jbGllbnRYOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgIHZhciB5VXAgPSBldnQudG91Y2hlc1swXS5jbGllbnRZO1xuXG4gICAgdmFyIHhEaWZmID0geERvd24gLSB4VXA7XG4gICAgdmFyIHlEaWZmID0geURvd24gLSB5VXA7XG5cbiAgICBpZiAoIE1hdGguYWJzKCB4RGlmZiApID4gTWF0aC5hYnMoIHlEaWZmICkgKSB7Lyptb3N0IHNpZ25pZmljYW50Ki9cbiAgICAgICAgaWYgKCB4RGlmZiA+IDAgKSB7XG4gICAgICAgICAgICAvKiBsZWZ0IHN3aXBlICovIFxuICAgICAgICAgICAgZXZ0LnRhcmdldC5kaXNwYXRjaEV2ZW50KHN3aXBlTGVmdClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8qIHJpZ2h0IHN3aXBlICovXG4gICAgICAgICAgICBldnQudGFyZ2V0LmRpc3BhdGNoRXZlbnQoc3dpcGVSaWdodClcbiAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCB5RGlmZiA+IDAgKSB7XG4gICAgICAgICAgICAvKiB1cCBzd2lwZSAqLyBcbiAgICAgICAgICAgIGV2dC50YXJnZXQuZGlzcGF0Y2hFdmVudChzd2lwZVVwKVxuICAgICAgICB9IGVsc2UgeyBcbiAgICAgICAgICAgIC8qIGRvd24gc3dpcGUgKi9cbiAgICAgICAgICAgIGV2dC50YXJnZXQuZGlzcGF0Y2hFdmVudChzd2lwZURvd24pXG4gICAgICAgIH1cbiAgICB9XG4gICAgLyogcmVzZXQgdmFsdWVzICovXG4gICAgeERvd24gPSBudWxsO1xuICAgIHlEb3duID0gbnVsbDtcbn07XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@helsingborg-stad/styleguide/source/js/helpers/swipe.js\n");

/***/ }),

/***/ "./node_modules/@helsingborg-stad/styleguide/source/js/helpers/video.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@helsingborg-stad/styleguide/source/js/helpers/video.js ***!
  \******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return VideoControls; });\nclass VideoControls {\n    constructor(videoElement) {\n        this.PLAYER = videoElement;\n\n        this.videoInteractions();\n    }\n\n    videoInteractions() {\n        const btn = this.PLAYER.querySelector('[js-video-control]');\n        if(btn) {\n            btn.addEventListener('click', () => {\n                if (this.getVideoState() === 'playing' || !this.getVideoState()) {\n                    this.pauseVideo();\n                } else {\n                    this.playVideo();\n                }\n            })\n        }\n    }\n\n    getVideoState() {\n        return this.PLAYER.getAttribute('js-video-control');\n    }\n\n    pauseVideo() {\n        this.PLAYER.setAttribute('js-video-control', 'paused');\n        this.PLAYER.querySelector('video').pause();\n    }\n\n    playVideo() {\n        this.PLAYER.setAttribute('js-video-control', 'playing');\n        this.PLAYER.querySelector('video').play();\n    }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGhlbHNpbmdib3JnLXN0YWQvc3R5bGVndWlkZS9zb3VyY2UvanMvaGVscGVycy92aWRlby5qcz8yNmQ4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBZTtBQUNmO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL0BoZWxzaW5nYm9yZy1zdGFkL3N0eWxlZ3VpZGUvc291cmNlL2pzL2hlbHBlcnMvdmlkZW8uanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBWaWRlb0NvbnRyb2xzIHtcbiAgICBjb25zdHJ1Y3Rvcih2aWRlb0VsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5QTEFZRVIgPSB2aWRlb0VsZW1lbnQ7XG5cbiAgICAgICAgdGhpcy52aWRlb0ludGVyYWN0aW9ucygpO1xuICAgIH1cblxuICAgIHZpZGVvSW50ZXJhY3Rpb25zKCkge1xuICAgICAgICBjb25zdCBidG4gPSB0aGlzLlBMQVlFUi5xdWVyeVNlbGVjdG9yKCdbanMtdmlkZW8tY29udHJvbF0nKTtcbiAgICAgICAgaWYoYnRuKSB7XG4gICAgICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZ2V0VmlkZW9TdGF0ZSgpID09PSAncGxheWluZycgfHwgIXRoaXMuZ2V0VmlkZW9TdGF0ZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGF1c2VWaWRlbygpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxheVZpZGVvKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldFZpZGVvU3RhdGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLlBMQVlFUi5nZXRBdHRyaWJ1dGUoJ2pzLXZpZGVvLWNvbnRyb2wnKTtcbiAgICB9XG5cbiAgICBwYXVzZVZpZGVvKCkge1xuICAgICAgICB0aGlzLlBMQVlFUi5zZXRBdHRyaWJ1dGUoJ2pzLXZpZGVvLWNvbnRyb2wnLCAncGF1c2VkJyk7XG4gICAgICAgIHRoaXMuUExBWUVSLnF1ZXJ5U2VsZWN0b3IoJ3ZpZGVvJykucGF1c2UoKTtcbiAgICB9XG5cbiAgICBwbGF5VmlkZW8oKSB7XG4gICAgICAgIHRoaXMuUExBWUVSLnNldEF0dHJpYnV0ZSgnanMtdmlkZW8tY29udHJvbCcsICdwbGF5aW5nJyk7XG4gICAgICAgIHRoaXMuUExBWUVSLnF1ZXJ5U2VsZWN0b3IoJ3ZpZGVvJykucGxheSgpO1xuICAgIH1cbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@helsingborg-stad/styleguide/source/js/helpers/video.js\n");

/***/ }),

/***/ "./node_modules/@helsingborg-stad/styleguide/source/js/image.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@helsingborg-stad/styleguide/source/js/image.js ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/**\n * Component Image\n */\nclass Image {\n\n    constructor() {\n\n        this.image = null;\n        this.container = null;\n        this.imgAttr = null;\n        this.imgCss = null;\n    }\n\n    /**\n     * Init\n     * @return void\n     */\n    initImage(imageData) {\n\n        this.container = imageData.elementContainer;\n        this.imgAttr = imageData.attrList;\n        this.imgCss = imageData.classList;\n        this.image = document.createElement(\"img\");\n\n        this.appendImage();\n    }\n\n    /**\n     * Setting Image Attributes\n     * @return void\n     */\n    setAttr(){\n\n        if (this.imgAttr.src) {\n            for (let [key, value] of Object.entries(this.imgAttr)) {\n                this.image.setAttribute(`${key}`, value);\n            }\n        }\n    }\n\n    /**\n     * Adding CSS classes\n     * @return void\n     */\n    setCSSClasses(){\n\n        if (this.imgCss.length > 0) {\n            for (const cssClass of this.imgCss) {\n                this.image.classList.add(cssClass);\n            }\n        }\n    }\n\n    /**\n     * Append image to container\n     * @param img\n     */\n    appendImage() {\n\n        this.setAttr();\n        this.container.appendChild(this.image);\n        this.setCSSClasses();\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Image);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGhlbHNpbmdib3JnLXN0YWQvc3R5bGVndWlkZS9zb3VyY2UvanMvaW1hZ2UuanM/YmQ0NCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDJDQUEyQyxJQUFJO0FBQy9DO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRWUsb0VBQUsiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGhlbHNpbmdib3JnLXN0YWQvc3R5bGVndWlkZS9zb3VyY2UvanMvaW1hZ2UuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvbXBvbmVudCBJbWFnZVxuICovXG5jbGFzcyBJbWFnZSB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcblxuICAgICAgICB0aGlzLmltYWdlID0gbnVsbDtcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBudWxsO1xuICAgICAgICB0aGlzLmltZ0F0dHIgPSBudWxsO1xuICAgICAgICB0aGlzLmltZ0NzcyA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdFxuICAgICAqIEByZXR1cm4gdm9pZFxuICAgICAqL1xuICAgIGluaXRJbWFnZShpbWFnZURhdGEpIHtcblxuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGltYWdlRGF0YS5lbGVtZW50Q29udGFpbmVyO1xuICAgICAgICB0aGlzLmltZ0F0dHIgPSBpbWFnZURhdGEuYXR0ckxpc3Q7XG4gICAgICAgIHRoaXMuaW1nQ3NzID0gaW1hZ2VEYXRhLmNsYXNzTGlzdDtcbiAgICAgICAgdGhpcy5pbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG5cbiAgICAgICAgdGhpcy5hcHBlbmRJbWFnZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHRpbmcgSW1hZ2UgQXR0cmlidXRlc1xuICAgICAqIEByZXR1cm4gdm9pZFxuICAgICAqL1xuICAgIHNldEF0dHIoKXtcblxuICAgICAgICBpZiAodGhpcy5pbWdBdHRyLnNyYykge1xuICAgICAgICAgICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMuaW1nQXR0cikpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLnNldEF0dHJpYnV0ZShgJHtrZXl9YCwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkaW5nIENTUyBjbGFzc2VzXG4gICAgICogQHJldHVybiB2b2lkXG4gICAgICovXG4gICAgc2V0Q1NTQ2xhc3Nlcygpe1xuXG4gICAgICAgIGlmICh0aGlzLmltZ0Nzcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNzc0NsYXNzIG9mIHRoaXMuaW1nQ3NzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5jbGFzc0xpc3QuYWRkKGNzc0NsYXNzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGVuZCBpbWFnZSB0byBjb250YWluZXJcbiAgICAgKiBAcGFyYW0gaW1nXG4gICAgICovXG4gICAgYXBwZW5kSW1hZ2UoKSB7XG5cbiAgICAgICAgdGhpcy5zZXRBdHRyKCk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuaW1hZ2UpO1xuICAgICAgICB0aGlzLnNldENTU0NsYXNzZXMoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEltYWdlOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@helsingborg-stad/styleguide/source/js/image.js\n");

/***/ }),

/***/ "./node_modules/@helsingborg-stad/styleguide/source/js/keepInViewPort.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@helsingborg-stad/styleguide/source/js/keepInViewPort.js ***!
  \*******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return KeepInViewPort; });\nclass KeepInViewPort {\n  constructor() {\n    this.VIEWPORTRESIZE = 'js-keep-in-viewport-after-resize';\n    this.VIEWPORT = 'js-keep-in-viewport';\n\n    // Get containers.\n    const ViewPortResizeContainer = document.querySelectorAll(`[${this.VIEWPORTRESIZE}]`);\n      \n    if(ViewPortResizeContainer) {\n      ViewPortResizeContainer.forEach(item => {\n        item.addEventListener('resizeByChildren', KeepInViewPort.resizeEvent);\n      });\n    }\n\n    // Get containers.\n    const ViewPortContainer = document.querySelectorAll(`[${this.VIEWPORT}]`);\n\n    if(ViewPortContainer) {\n      ViewPortContainer.forEach(item => {\n        KeepInViewPort.moveInsideViewPort(item, 8);\n      });\n    }\n  }\n\n  /**\n   * Keep the actual viewport function cleaned from event objects.\n   * @param {object} event \n   * @return void\n   */\n  static resizeEvent(event) {\n    KeepInViewPort.moveInsideViewPort(event.target, 8);\n  }\n\n  /**\n   * Move element inside viewport.\n   * @param {object} element \n   * @param {integer} margin\n   * @return void\n   */\n  static moveInsideViewPort(element, margin) {\n    // Enable calculations.\n    element.classList.add('u-display--block');\n\n    // Compare window width with right most position.\n    const viewPortRightDistance = window.innerWidth - element.getBoundingClientRect().right;\n    if (viewPortRightDistance < 0) {\n        element.setAttribute('style', `${element.getAttribute('style')} left: ${viewPortRightDistance - margin}px;`);\n    }\n\n    // Disable calculations.\n    element.classList.remove('u-display--block'); \n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGhlbHNpbmdib3JnLXN0YWQvc3R5bGVndWlkZS9zb3VyY2UvanMva2VlcEluVmlld1BvcnQuanM/ZDY1OSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQWU7QUFDZjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxrRUFBa0Usb0JBQW9COztBQUV0RjtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQSw0REFBNEQsY0FBYzs7QUFFMUU7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLDhCQUE4QixTQUFTLCtCQUErQixHQUFHO0FBQ2xIOztBQUVBO0FBQ0EsaUQ7QUFDQTtBQUNBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL0BoZWxzaW5nYm9yZy1zdGFkL3N0eWxlZ3VpZGUvc291cmNlL2pzL2tlZXBJblZpZXdQb3J0LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgS2VlcEluVmlld1BvcnQge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLlZJRVdQT1JUUkVTSVpFID0gJ2pzLWtlZXAtaW4tdmlld3BvcnQtYWZ0ZXItcmVzaXplJztcbiAgICB0aGlzLlZJRVdQT1JUID0gJ2pzLWtlZXAtaW4tdmlld3BvcnQnO1xuXG4gICAgLy8gR2V0IGNvbnRhaW5lcnMuXG4gICAgY29uc3QgVmlld1BvcnRSZXNpemVDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGBbJHt0aGlzLlZJRVdQT1JUUkVTSVpFfV1gKTtcbiAgICAgIFxuICAgIGlmKFZpZXdQb3J0UmVzaXplQ29udGFpbmVyKSB7XG4gICAgICBWaWV3UG9ydFJlc2l6ZUNvbnRhaW5lci5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICBpdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZUJ5Q2hpbGRyZW4nLCBLZWVwSW5WaWV3UG9ydC5yZXNpemVFdmVudCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBHZXQgY29udGFpbmVycy5cbiAgICBjb25zdCBWaWV3UG9ydENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYFske3RoaXMuVklFV1BPUlR9XWApO1xuXG4gICAgaWYoVmlld1BvcnRDb250YWluZXIpIHtcbiAgICAgIFZpZXdQb3J0Q29udGFpbmVyLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgIEtlZXBJblZpZXdQb3J0Lm1vdmVJbnNpZGVWaWV3UG9ydChpdGVtLCA4KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBLZWVwIHRoZSBhY3R1YWwgdmlld3BvcnQgZnVuY3Rpb24gY2xlYW5lZCBmcm9tIGV2ZW50IG9iamVjdHMuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBldmVudCBcbiAgICogQHJldHVybiB2b2lkXG4gICAqL1xuICBzdGF0aWMgcmVzaXplRXZlbnQoZXZlbnQpIHtcbiAgICBLZWVwSW5WaWV3UG9ydC5tb3ZlSW5zaWRlVmlld1BvcnQoZXZlbnQudGFyZ2V0LCA4KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNb3ZlIGVsZW1lbnQgaW5zaWRlIHZpZXdwb3J0LlxuICAgKiBAcGFyYW0ge29iamVjdH0gZWxlbWVudCBcbiAgICogQHBhcmFtIHtpbnRlZ2VyfSBtYXJnaW5cbiAgICogQHJldHVybiB2b2lkXG4gICAqL1xuICBzdGF0aWMgbW92ZUluc2lkZVZpZXdQb3J0KGVsZW1lbnQsIG1hcmdpbikge1xuICAgIC8vIEVuYWJsZSBjYWxjdWxhdGlvbnMuXG4gICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKCd1LWRpc3BsYXktLWJsb2NrJyk7XG5cbiAgICAvLyBDb21wYXJlIHdpbmRvdyB3aWR0aCB3aXRoIHJpZ2h0IG1vc3QgcG9zaXRpb24uXG4gICAgY29uc3Qgdmlld1BvcnRSaWdodERpc3RhbmNlID0gd2luZG93LmlubmVyV2lkdGggLSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnJpZ2h0O1xuICAgIGlmICh2aWV3UG9ydFJpZ2h0RGlzdGFuY2UgPCAwKSB7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdzdHlsZScsIGAke2VsZW1lbnQuZ2V0QXR0cmlidXRlKCdzdHlsZScpfSBsZWZ0OiAke3ZpZXdQb3J0UmlnaHREaXN0YW5jZSAtIG1hcmdpbn1weDtgKTtcbiAgICB9XG5cbiAgICAvLyBEaXNhYmxlIGNhbGN1bGF0aW9ucy5cbiAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3UtZGlzcGxheS0tYmxvY2snKTsgXG4gIH1cbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@helsingborg-stad/styleguide/source/js/keepInViewPort.js\n");

/***/ }),

/***/ "./node_modules/@helsingborg-stad/styleguide/source/js/mediaQuery.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@helsingborg-stad/styleguide/source/js/mediaQuery.js ***!
  \***************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* eslint-disable no-restricted-globals */\n/* eslint-disable class-methods-use-this */\n/**\n * Component Image\n */\nclass ContainerMediaQuery {\n  constructor() {\n\n    // Class vars\n    const prefixName = \"--size-\"; \n      \n    // Init only if browser supports ResizeObserver\n    if ('ResizeObserver' in self) {\n      this.resizeObserver = new ResizeObserver((entries) => {\n        \n        const defaultBreakpoints = {xs: 384, sm: 576, md: 768, lg: 960};\n\n        entries.forEach((entry) => {\n          \n          // If breakpoints are defined on the observed element,\n          const breakpoints = entry.target.dataset.breakpoints ?\n          JSON.parse(entry.target.dataset.breakpoints) :\n          defaultBreakpoints;\n\n          // Update the matching breakpoints on the observed element.\n          Object.keys(breakpoints).forEach((breakpoint) => {\n\n            const minWidth = breakpoints[breakpoint];\n\n            if (entry.contentRect.width >= minWidth) {\n              entry.target.classList.add(entry.target.classList[0] + prefixName + breakpoint);\n            } else {\n              entry.target.classList.remove(entry.target.classList[0] + prefixName + breakpoint);\n            }\n\n          });\n        });  \n      }); \n\n      this.initMediaQueryElements(); \n    }\n  }\n\n  /**\n   * Init\n   * @return void\n   */\n  initMediaQueryElements() {\n\n    // Get elements\n    const targetElemets = this.getTargetElements(); \n\n    // Init observer on all target elements\n    if(targetElemets.length) {\n      targetElemets.forEach((element) => {\n        this.resizeObserver.observe(element);\n      }); \n    }\n  }\n\n  /**\n   * Makes query to dom, for observe data attr. \n   */\n  getTargetElements() {\n    return document.querySelectorAll('[data-observe-resizes]');\n  }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ContainerMediaQuery);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGhlbHNpbmdib3JnLXN0YWQvc3R5bGVndWlkZS9zb3VyY2UvanMvbWVkaWFRdWVyeS5qcz9iNTY2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxpQzs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsb0NBQW9DOztBQUVwQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTs7QUFFQSxXQUFXO0FBQ1gsU0FBUyxFO0FBQ1QsT0FBTyxFOztBQUVQLG9DO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsbUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLEU7QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVlLGtGQUFtQiIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9AaGVsc2luZ2Jvcmctc3RhZC9zdHlsZWd1aWRlL3NvdXJjZS9qcy9tZWRpYVF1ZXJ5LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzICovXG4vKiBlc2xpbnQtZGlzYWJsZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzICovXG4vKipcbiAqIENvbXBvbmVudCBJbWFnZVxuICovXG5jbGFzcyBDb250YWluZXJNZWRpYVF1ZXJ5IHtcbiAgY29uc3RydWN0b3IoKSB7XG5cbiAgICAvLyBDbGFzcyB2YXJzXG4gICAgY29uc3QgcHJlZml4TmFtZSA9IFwiLS1zaXplLVwiOyBcbiAgICAgIFxuICAgIC8vIEluaXQgb25seSBpZiBicm93c2VyIHN1cHBvcnRzIFJlc2l6ZU9ic2VydmVyXG4gICAgaWYgKCdSZXNpemVPYnNlcnZlcicgaW4gc2VsZikge1xuICAgICAgdGhpcy5yZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcigoZW50cmllcykgPT4ge1xuICAgICAgICBcbiAgICAgICAgY29uc3QgZGVmYXVsdEJyZWFrcG9pbnRzID0ge3hzOiAzODQsIHNtOiA1NzYsIG1kOiA3NjgsIGxnOiA5NjB9O1xuXG4gICAgICAgIGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBJZiBicmVha3BvaW50cyBhcmUgZGVmaW5lZCBvbiB0aGUgb2JzZXJ2ZWQgZWxlbWVudCxcbiAgICAgICAgICBjb25zdCBicmVha3BvaW50cyA9IGVudHJ5LnRhcmdldC5kYXRhc2V0LmJyZWFrcG9pbnRzID9cbiAgICAgICAgICBKU09OLnBhcnNlKGVudHJ5LnRhcmdldC5kYXRhc2V0LmJyZWFrcG9pbnRzKSA6XG4gICAgICAgICAgZGVmYXVsdEJyZWFrcG9pbnRzO1xuXG4gICAgICAgICAgLy8gVXBkYXRlIHRoZSBtYXRjaGluZyBicmVha3BvaW50cyBvbiB0aGUgb2JzZXJ2ZWQgZWxlbWVudC5cbiAgICAgICAgICBPYmplY3Qua2V5cyhicmVha3BvaW50cykuZm9yRWFjaCgoYnJlYWtwb2ludCkgPT4ge1xuXG4gICAgICAgICAgICBjb25zdCBtaW5XaWR0aCA9IGJyZWFrcG9pbnRzW2JyZWFrcG9pbnRdO1xuXG4gICAgICAgICAgICBpZiAoZW50cnkuY29udGVudFJlY3Qud2lkdGggPj0gbWluV2lkdGgpIHtcbiAgICAgICAgICAgICAgZW50cnkudGFyZ2V0LmNsYXNzTGlzdC5hZGQoZW50cnkudGFyZ2V0LmNsYXNzTGlzdFswXSArIHByZWZpeE5hbWUgKyBicmVha3BvaW50KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGVudHJ5LnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKGVudHJ5LnRhcmdldC5jbGFzc0xpc3RbMF0gKyBwcmVmaXhOYW1lICsgYnJlYWtwb2ludCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7ICBcbiAgICAgIH0pOyBcblxuICAgICAgdGhpcy5pbml0TWVkaWFRdWVyeUVsZW1lbnRzKCk7IFxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0XG4gICAqIEByZXR1cm4gdm9pZFxuICAgKi9cbiAgaW5pdE1lZGlhUXVlcnlFbGVtZW50cygpIHtcblxuICAgIC8vIEdldCBlbGVtZW50c1xuICAgIGNvbnN0IHRhcmdldEVsZW1ldHMgPSB0aGlzLmdldFRhcmdldEVsZW1lbnRzKCk7IFxuXG4gICAgLy8gSW5pdCBvYnNlcnZlciBvbiBhbGwgdGFyZ2V0IGVsZW1lbnRzXG4gICAgaWYodGFyZ2V0RWxlbWV0cy5sZW5ndGgpIHtcbiAgICAgIHRhcmdldEVsZW1ldHMuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICAgICB0aGlzLnJlc2l6ZU9ic2VydmVyLm9ic2VydmUoZWxlbWVudCk7XG4gICAgICB9KTsgXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE1ha2VzIHF1ZXJ5IHRvIGRvbSwgZm9yIG9ic2VydmUgZGF0YSBhdHRyLiBcbiAgICovXG4gIGdldFRhcmdldEVsZW1lbnRzKCkge1xuICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1vYnNlcnZlLXJlc2l6ZXNdJyk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ29udGFpbmVyTWVkaWFRdWVyeTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@helsingborg-stad/styleguide/source/js/mediaQuery.js\n");

/***/ }),

/***/ "./node_modules/@helsingborg-stad/styleguide/source/js/menu.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@helsingborg-stad/styleguide/source/js/menu.js ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Menu; });\nclass Menu {\n    constructor() {\n        this.TRIGGER = 'js-menu-trigger';\n        this.DART = 'js-menu-dart';\n        this.TARGET = 'js-menu-target';\n        this.EXPANDID = 'data-load-submenu';\n\n        this.elm = '';\n\n        this.getSubitem();\n        this.getNavbar();\n    }\n\n    /**\n     * Finds each navbar in the document.\n     * \n     * Finds each navbar in the document and then sends it for further handling\n     */\n    getNavbar() {\n        const navbar = document.querySelectorAll(\".c-navbar\");\n\n        navbar.forEach((element) => {\n            this.addTriggers(element)\n        })\n    }\n\n    /**\n     * Adds event listeners to the link items.\n     * \n     * @param {*} element   The navbar element to add triggers to\n     */\n    addTriggers(element) {\n        const triggers = element.querySelectorAll(`[${this.TRIGGER}]`);\n\n        triggers.forEach((trigger) => {\n            const toggleClass = trigger.getAttribute(this.TRIGGER);\n            const targetId = trigger.getAttribute(this.DART);\n\n            trigger.addEventListener('click', (event) => {\n                const targets = document.querySelectorAll(`[${this.TARGET}=\"${targetId}\"]`);\n\n                targets.forEach((target) => {\n                    target.classList.toggle(toggleClass);\n                })\n            });\n        });\n    }\n\n    /**\n     * Looks if a nav items has children.\n     * \n     * First looks if nav items has children, if it does then it add and event listener to the toggle button\n     * \n     * @param {*} root  The container to look inside, cna be a single nav item or the root navbar\n     */\n    getSubitem(root) {\n        const IDS = root ? root.querySelectorAll(`[${this.EXPANDID}]`) : document.querySelectorAll(`[${this.EXPANDID}]`)\n\n        IDS.forEach((id) => {\n            id.addEventListener('click', (event) => {\n                event.preventDefault();\n                id.toggleAttribute(\"is-open\");\n\n                if (!id.hasAttribute(\"data-isAppended-subitem\")) {\n                    id.setAttribute('data-isAppended-subitem', '');\n                    this.findItems([], id.getAttribute(this.EXPANDID))\n                }\n            });\n        });\n    }\n\n    /**\n     * Fetches JSON data\n     * \n     * @param {*} path  Path to json file\n     * @param {*} find  What id to look for\n     */\n     fetchJSONFile(path, find) {\n        const httpRequest = new XMLHttpRequest();\n        httpRequest.onreadystatechange = () => {\n            if (httpRequest.readyState === 4 || httpRequest.readyState === 0) {\n                if (httpRequest.status === 200) {\n                    const data = JSON.parse(httpRequest.responseText);\n\n                    this.findItems(data, find)\n                    return data;\n                }\n            }\n\n            return 0;\n        };\n        httpRequest.open('GET', path, true);\n        httpRequest.send(); \n    }\n    \n    /**\n     * Looks for a specific nav item\n     * @param {*} data Data to search through\n     * @param {*} find What id to look for\n     */\n    findItems(data, find) {\n        if (data.length > 0) {\n            return Object.keys(data).some((k) => {\n                if (data[k].id === find) {\n                    this.appendItems(data[k].list, data[k].id);\n    \n                    return 0; // return on direct found\n                }\n    \n                if (Array.isArray(data[k].list)) {\n                    return this.findItems(data[k].list, find); // return result of nested search\n                }\n\n                return 0;\n\n            });\n        }\n\n        // Data is empty. fetch from JSON file\n        this.fetchJSONFile('/assets/data/nav.json', find);\n        \n        return 0;\n    }\n\n    /**\n     * Appends each child item to the parent item.\n     * \n     * @param {*} list  List of items to be appended\n     * @param {*} id    Identifier for which element to append to.\n     */\n    appendItems(list, id) {\n        const target = document.querySelector(`[data-append-submenu=\"${id}\"]`);\n\n        list.forEach((item) => {\n            this.buildDOM(item)\n            target.appendChild(this.elm)\n            this.getSubitem(this.elm);\n            this.addTriggers(this.elm)\n        });\n    }\n\n    /**\n     * Builds a nav item dom object \n     * \n     * @param {*} item The item data to build the element based on\n     */\n    buildDOM(item) {\n        const uniqID = Math.random().toString(36).substr(2, 9);\n\n        const newLink = document.createElement(\"a\");\n        newLink.href = item.href\n\n        const newEl = document.createElement(\"div\");\n        newEl.className = \"c-navbar__item\";\n\n        // Build link element\n        const newSpan = document.createElement(\"span\");\n        newSpan.appendChild(document.createTextNode(item.name))\n        \n        newEl.appendChild(newSpan);\n\n        if (item.list) {\n            // Item has children\n            // Build toggle elements\n            const newTgl = document.createElement(\"div\");\n            newTgl.className = \"c-navbar__toggle\";\n\n            const newBtn = document.createElement(\"button\");\n            newBtn.className = \"c-button c-button__icon\";\n\n            newBtn.setAttribute('js-menu-trigger', 'c-navbar__subitem--expanded');\n            newBtn.setAttribute('js-menu-dart', uniqID);\n            newBtn.setAttribute('data-load-submenu', item.id);\n\n            const newLbl = document.createElement(\"span\");\n            newLbl.className = \"c-btn__label\";\n\n            const newIcon = document.createElement(\"i\");\n            newIcon.className = \"c-icon c-icon--color-primary c-icon--size-md material-icons\";\n            newIcon.appendChild(document.createTextNode(\"expand_more\"))\n\n            // Append Icon elemetns\n            newLbl.appendChild(newIcon);\n            newBtn.appendChild(newLbl);\n            newTgl.appendChild(newBtn);\n\n            // Append element\n            newEl.appendChild(newTgl);\n\n            const newSubItem = document.createElement(\"div\");\n            newSubItem.className = \"c-navbar__subitem\"\n            newSubItem.setAttribute('js-menu-target', uniqID);\n            newSubItem.setAttribute('data-append-submenu', item.id);\n\n            newEl.appendChild(newSubItem);\n        }\n\n        newLink.appendChild(newEl)\n\n        this.elm = newLink;\n    }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGhlbHNpbmdib3JnLXN0YWQvc3R5bGVndWlkZS9zb3VyY2UvanMvbWVudS5qcz9jMGM2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZSxFQUFFO0FBQ2pCO0FBQ0E7QUFDQSxzREFBc0QsYUFBYTs7QUFFbkU7QUFDQTtBQUNBOztBQUVBO0FBQ0EsOERBQThELFlBQVksSUFBSSxTQUFTOztBQUV2RjtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsRUFBRTtBQUNqQjtBQUNBO0FBQ0EscURBQXFELGNBQWMsb0NBQW9DLGNBQWM7O0FBRXJIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLEVBQUU7QUFDakIsZUFBZSxFQUFFO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDJCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGVBQWUsRUFBRTtBQUNqQixlQUFlLEVBQUU7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDZCQUE2QjtBQUM3Qjs7QUFFQTtBQUNBLDhEQUE4RDtBQUM5RDs7QUFFQTs7QUFFQSxhQUFhO0FBQ2I7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsRUFBRTtBQUNqQixlQUFlLEVBQUU7QUFDakI7QUFDQTtBQUNBLHVFQUF1RSxHQUFHOztBQUUxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsRUFBRTtBQUNqQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGhlbHNpbmdib3JnLXN0YWQvc3R5bGVndWlkZS9zb3VyY2UvanMvbWVudS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIE1lbnUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLlRSSUdHRVIgPSAnanMtbWVudS10cmlnZ2VyJztcbiAgICAgICAgdGhpcy5EQVJUID0gJ2pzLW1lbnUtZGFydCc7XG4gICAgICAgIHRoaXMuVEFSR0VUID0gJ2pzLW1lbnUtdGFyZ2V0JztcbiAgICAgICAgdGhpcy5FWFBBTkRJRCA9ICdkYXRhLWxvYWQtc3VibWVudSc7XG5cbiAgICAgICAgdGhpcy5lbG0gPSAnJztcblxuICAgICAgICB0aGlzLmdldFN1Yml0ZW0oKTtcbiAgICAgICAgdGhpcy5nZXROYXZiYXIoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaW5kcyBlYWNoIG5hdmJhciBpbiB0aGUgZG9jdW1lbnQuXG4gICAgICogXG4gICAgICogRmluZHMgZWFjaCBuYXZiYXIgaW4gdGhlIGRvY3VtZW50IGFuZCB0aGVuIHNlbmRzIGl0IGZvciBmdXJ0aGVyIGhhbmRsaW5nXG4gICAgICovXG4gICAgZ2V0TmF2YmFyKCkge1xuICAgICAgICBjb25zdCBuYXZiYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmMtbmF2YmFyXCIpO1xuXG4gICAgICAgIG5hdmJhci5mb3JFYWNoKChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmFkZFRyaWdnZXJzKGVsZW1lbnQpXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBldmVudCBsaXN0ZW5lcnMgdG8gdGhlIGxpbmsgaXRlbXMuXG4gICAgICogXG4gICAgICogQHBhcmFtIHsqfSBlbGVtZW50ICAgVGhlIG5hdmJhciBlbGVtZW50IHRvIGFkZCB0cmlnZ2VycyB0b1xuICAgICAqL1xuICAgIGFkZFRyaWdnZXJzKGVsZW1lbnQpIHtcbiAgICAgICAgY29uc3QgdHJpZ2dlcnMgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYFske3RoaXMuVFJJR0dFUn1dYCk7XG5cbiAgICAgICAgdHJpZ2dlcnMuZm9yRWFjaCgodHJpZ2dlcikgPT4ge1xuICAgICAgICAgICAgY29uc3QgdG9nZ2xlQ2xhc3MgPSB0cmlnZ2VyLmdldEF0dHJpYnV0ZSh0aGlzLlRSSUdHRVIpO1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0SWQgPSB0cmlnZ2VyLmdldEF0dHJpYnV0ZSh0aGlzLkRBUlQpO1xuXG4gICAgICAgICAgICB0cmlnZ2VyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFyZ2V0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYFske3RoaXMuVEFSR0VUfT1cIiR7dGFyZ2V0SWR9XCJdYCk7XG5cbiAgICAgICAgICAgICAgICB0YXJnZXRzLmZvckVhY2goKHRhcmdldCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZSh0b2dnbGVDbGFzcyk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb29rcyBpZiBhIG5hdiBpdGVtcyBoYXMgY2hpbGRyZW4uXG4gICAgICogXG4gICAgICogRmlyc3QgbG9va3MgaWYgbmF2IGl0ZW1zIGhhcyBjaGlsZHJlbiwgaWYgaXQgZG9lcyB0aGVuIGl0IGFkZCBhbmQgZXZlbnQgbGlzdGVuZXIgdG8gdGhlIHRvZ2dsZSBidXR0b25cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0geyp9IHJvb3QgIFRoZSBjb250YWluZXIgdG8gbG9vayBpbnNpZGUsIGNuYSBiZSBhIHNpbmdsZSBuYXYgaXRlbSBvciB0aGUgcm9vdCBuYXZiYXJcbiAgICAgKi9cbiAgICBnZXRTdWJpdGVtKHJvb3QpIHtcbiAgICAgICAgY29uc3QgSURTID0gcm9vdCA/IHJvb3QucXVlcnlTZWxlY3RvckFsbChgWyR7dGhpcy5FWFBBTkRJRH1dYCkgOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGBbJHt0aGlzLkVYUEFORElEfV1gKVxuXG4gICAgICAgIElEUy5mb3JFYWNoKChpZCkgPT4ge1xuICAgICAgICAgICAgaWQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGlkLnRvZ2dsZUF0dHJpYnV0ZShcImlzLW9wZW5cIik7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWlkLmhhc0F0dHJpYnV0ZShcImRhdGEtaXNBcHBlbmRlZC1zdWJpdGVtXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlkLnNldEF0dHJpYnV0ZSgnZGF0YS1pc0FwcGVuZGVkLXN1Yml0ZW0nLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmluZEl0ZW1zKFtdLCBpZC5nZXRBdHRyaWJ1dGUodGhpcy5FWFBBTkRJRCkpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZldGNoZXMgSlNPTiBkYXRhXG4gICAgICogXG4gICAgICogQHBhcmFtIHsqfSBwYXRoICBQYXRoIHRvIGpzb24gZmlsZVxuICAgICAqIEBwYXJhbSB7Kn0gZmluZCAgV2hhdCBpZCB0byBsb29rIGZvclxuICAgICAqL1xuICAgICBmZXRjaEpTT05GaWxlKHBhdGgsIGZpbmQpIHtcbiAgICAgICAgY29uc3QgaHR0cFJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgaHR0cFJlcXVlc3Qub25yZWFkeXN0YXRlY2hhbmdlID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGh0dHBSZXF1ZXN0LnJlYWR5U3RhdGUgPT09IDQgfHwgaHR0cFJlcXVlc3QucmVhZHlTdGF0ZSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGlmIChodHRwUmVxdWVzdC5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShodHRwUmVxdWVzdC5yZXNwb25zZVRleHQpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmluZEl0ZW1zKGRhdGEsIGZpbmQpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH07XG4gICAgICAgIGh0dHBSZXF1ZXN0Lm9wZW4oJ0dFVCcsIHBhdGgsIHRydWUpO1xuICAgICAgICBodHRwUmVxdWVzdC5zZW5kKCk7IFxuICAgIH1cbiAgICBcbiAgICAvKipcbiAgICAgKiBMb29rcyBmb3IgYSBzcGVjaWZpYyBuYXYgaXRlbVxuICAgICAqIEBwYXJhbSB7Kn0gZGF0YSBEYXRhIHRvIHNlYXJjaCB0aHJvdWdoXG4gICAgICogQHBhcmFtIHsqfSBmaW5kIFdoYXQgaWQgdG8gbG9vayBmb3JcbiAgICAgKi9cbiAgICBmaW5kSXRlbXMoZGF0YSwgZmluZCkge1xuICAgICAgICBpZiAoZGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoZGF0YSkuc29tZSgoaykgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChkYXRhW2tdLmlkID09PSBmaW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kSXRlbXMoZGF0YVtrXS5saXN0LCBkYXRhW2tdLmlkKTtcbiAgICBcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7IC8vIHJldHVybiBvbiBkaXJlY3QgZm91bmRcbiAgICAgICAgICAgICAgICB9XG4gICAgXG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YVtrXS5saXN0KSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5maW5kSXRlbXMoZGF0YVtrXS5saXN0LCBmaW5kKTsgLy8gcmV0dXJuIHJlc3VsdCBvZiBuZXN0ZWQgc2VhcmNoXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG5cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGF0YSBpcyBlbXB0eS4gZmV0Y2ggZnJvbSBKU09OIGZpbGVcbiAgICAgICAgdGhpcy5mZXRjaEpTT05GaWxlKCcvYXNzZXRzL2RhdGEvbmF2Lmpzb24nLCBmaW5kKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGVuZHMgZWFjaCBjaGlsZCBpdGVtIHRvIHRoZSBwYXJlbnQgaXRlbS5cbiAgICAgKiBcbiAgICAgKiBAcGFyYW0geyp9IGxpc3QgIExpc3Qgb2YgaXRlbXMgdG8gYmUgYXBwZW5kZWRcbiAgICAgKiBAcGFyYW0geyp9IGlkICAgIElkZW50aWZpZXIgZm9yIHdoaWNoIGVsZW1lbnQgdG8gYXBwZW5kIHRvLlxuICAgICAqL1xuICAgIGFwcGVuZEl0ZW1zKGxpc3QsIGlkKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtkYXRhLWFwcGVuZC1zdWJtZW51PVwiJHtpZH1cIl1gKTtcblxuICAgICAgICBsaXN0LmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgICAgIHRoaXMuYnVpbGRET00oaXRlbSlcbiAgICAgICAgICAgIHRhcmdldC5hcHBlbmRDaGlsZCh0aGlzLmVsbSlcbiAgICAgICAgICAgIHRoaXMuZ2V0U3ViaXRlbSh0aGlzLmVsbSk7XG4gICAgICAgICAgICB0aGlzLmFkZFRyaWdnZXJzKHRoaXMuZWxtKVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCdWlsZHMgYSBuYXYgaXRlbSBkb20gb2JqZWN0IFxuICAgICAqIFxuICAgICAqIEBwYXJhbSB7Kn0gaXRlbSBUaGUgaXRlbSBkYXRhIHRvIGJ1aWxkIHRoZSBlbGVtZW50IGJhc2VkIG9uXG4gICAgICovXG4gICAgYnVpbGRET00oaXRlbSkge1xuICAgICAgICBjb25zdCB1bmlxSUQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSk7XG5cbiAgICAgICAgY29uc3QgbmV3TGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuICAgICAgICBuZXdMaW5rLmhyZWYgPSBpdGVtLmhyZWZcblxuICAgICAgICBjb25zdCBuZXdFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIG5ld0VsLmNsYXNzTmFtZSA9IFwiYy1uYXZiYXJfX2l0ZW1cIjtcblxuICAgICAgICAvLyBCdWlsZCBsaW5rIGVsZW1lbnRcbiAgICAgICAgY29uc3QgbmV3U3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICBuZXdTcGFuLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGl0ZW0ubmFtZSkpXG4gICAgICAgIFxuICAgICAgICBuZXdFbC5hcHBlbmRDaGlsZChuZXdTcGFuKTtcblxuICAgICAgICBpZiAoaXRlbS5saXN0KSB7XG4gICAgICAgICAgICAvLyBJdGVtIGhhcyBjaGlsZHJlblxuICAgICAgICAgICAgLy8gQnVpbGQgdG9nZ2xlIGVsZW1lbnRzXG4gICAgICAgICAgICBjb25zdCBuZXdUZ2wgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgbmV3VGdsLmNsYXNzTmFtZSA9IFwiYy1uYXZiYXJfX3RvZ2dsZVwiO1xuXG4gICAgICAgICAgICBjb25zdCBuZXdCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO1xuICAgICAgICAgICAgbmV3QnRuLmNsYXNzTmFtZSA9IFwiYy1idXR0b24gYy1idXR0b25fX2ljb25cIjtcblxuICAgICAgICAgICAgbmV3QnRuLnNldEF0dHJpYnV0ZSgnanMtbWVudS10cmlnZ2VyJywgJ2MtbmF2YmFyX19zdWJpdGVtLS1leHBhbmRlZCcpO1xuICAgICAgICAgICAgbmV3QnRuLnNldEF0dHJpYnV0ZSgnanMtbWVudS1kYXJ0JywgdW5pcUlEKTtcbiAgICAgICAgICAgIG5ld0J0bi5zZXRBdHRyaWJ1dGUoJ2RhdGEtbG9hZC1zdWJtZW51JywgaXRlbS5pZCk7XG5cbiAgICAgICAgICAgIGNvbnN0IG5ld0xibCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICAgICAgbmV3TGJsLmNsYXNzTmFtZSA9IFwiYy1idG5fX2xhYmVsXCI7XG5cbiAgICAgICAgICAgIGNvbnN0IG5ld0ljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaVwiKTtcbiAgICAgICAgICAgIG5ld0ljb24uY2xhc3NOYW1lID0gXCJjLWljb24gYy1pY29uLS1jb2xvci1wcmltYXJ5IGMtaWNvbi0tc2l6ZS1tZCBtYXRlcmlhbC1pY29uc1wiO1xuICAgICAgICAgICAgbmV3SWNvbi5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcImV4cGFuZF9tb3JlXCIpKVxuXG4gICAgICAgICAgICAvLyBBcHBlbmQgSWNvbiBlbGVtZXRuc1xuICAgICAgICAgICAgbmV3TGJsLmFwcGVuZENoaWxkKG5ld0ljb24pO1xuICAgICAgICAgICAgbmV3QnRuLmFwcGVuZENoaWxkKG5ld0xibCk7XG4gICAgICAgICAgICBuZXdUZ2wuYXBwZW5kQ2hpbGQobmV3QnRuKTtcblxuICAgICAgICAgICAgLy8gQXBwZW5kIGVsZW1lbnRcbiAgICAgICAgICAgIG5ld0VsLmFwcGVuZENoaWxkKG5ld1RnbCk7XG5cbiAgICAgICAgICAgIGNvbnN0IG5ld1N1Ykl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgbmV3U3ViSXRlbS5jbGFzc05hbWUgPSBcImMtbmF2YmFyX19zdWJpdGVtXCJcbiAgICAgICAgICAgIG5ld1N1Ykl0ZW0uc2V0QXR0cmlidXRlKCdqcy1tZW51LXRhcmdldCcsIHVuaXFJRCk7XG4gICAgICAgICAgICBuZXdTdWJJdGVtLnNldEF0dHJpYnV0ZSgnZGF0YS1hcHBlbmQtc3VibWVudScsIGl0ZW0uaWQpO1xuXG4gICAgICAgICAgICBuZXdFbC5hcHBlbmRDaGlsZChuZXdTdWJJdGVtKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG5ld0xpbmsuYXBwZW5kQ2hpbGQobmV3RWwpXG5cbiAgICAgICAgdGhpcy5lbG0gPSBuZXdMaW5rO1xuICAgIH1cbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@helsingborg-stad/styleguide/source/js/menu.js\n");

/***/ }),

/***/ "./node_modules/@helsingborg-stad/styleguide/source/js/modal.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@helsingborg-stad/styleguide/source/js/modal.js ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _gallery__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./gallery */ \"./node_modules/@helsingborg-stad/styleguide/source/js/gallery.js\");\n\n\nclass Modal {\n\n    constructor() {\n\n        this.modalId = null;\n        this.openTrigger = document.querySelectorAll(\"[data-open]\");\n        this.closeTrigger = document.querySelectorAll(\"[data-close]\");\n        this.isVisible = \"c-modal__bg--is-visible\";\n    }\n\n    /**\n     * Enable Modal\n     */\n    enableModals() {\n\n        const self = this;\n        // Gallery\n        let GalleryInstance = new _gallery__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n        GalleryInstance.enableGallery(this.modalId);\n\n        for(const trigger of this.openTrigger) {\n            trigger.addEventListener(\"click\", function() {\n                this.modalId = this.getAttribute('data-open'); //this.dataset.open;\n                document.getElementById(this.modalId).classList.add(self.isVisible);\n\n                if(this.getAttribute('data-large-img')) {\n                    GalleryInstance.initImage(this.modalId, this.getAttribute('data-large-img'));\n                }\n\n                self.lockScroll();\n            });\n        }\n\n        // Close\n        for (const trigger of this.closeTrigger) {\n            trigger.addEventListener(\"click\", function() {\n                document.querySelector(`.${self.isVisible}`).classList.remove(self.isVisible);\n                self.unlockScroll();\n            });\n        }\n\n        // Click outside modal\n        document.addEventListener(\"click\", e => {\n            if (e.target === document.querySelector(`.${self.isVisible}`)) {\n                document.querySelector(`.${self.isVisible}`).classList.remove(self.isVisible);\n                self.unlockScroll();\n            }\n        });\n\n        // Pressing Esc key to close modal\n        document.addEventListener(\"keyup\", e => {\n            if (e.key === \"Escape\" && document.querySelector(`.${self.isVisible}`)) {\n                document.querySelector(`.${self.isVisible}`).classList.remove(self.isVisible);\n                self.unlockScroll();\n            }\n        });\n    }\n\n    /**\n     * Lock scroll\n     * @returns {*}\n     */\n    lockScroll() {\n        const overflowHidden = \"u-overflow--hidden\";\n        document.querySelector(`body`).classList.add(overflowHidden);\n    }\n\n    /**\n     * Unlock scroll\n     * @returns {*}\n     */\n    unlockScroll() {\n        const overflowHidden = \"u-overflow--hidden\";\n        document.querySelector(`body`).classList.remove(overflowHidden);\n    }\n\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Modal);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGhlbHNpbmdib3JnLXN0YWQvc3R5bGVndWlkZS9zb3VyY2UvanMvbW9kYWwuanM/OGZjYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQWdDOztBQUVoQzs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrQ0FBa0MsZ0RBQU87QUFDekM7O0FBRUE7QUFDQTtBQUNBLDhEQUE4RDtBQUM5RDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxhQUFhO0FBQ2I7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLGVBQWU7QUFDMUQ7QUFDQSxhQUFhO0FBQ2I7O0FBRUE7QUFDQTtBQUNBLHdEQUF3RCxlQUFlO0FBQ3ZFLDJDQUEyQyxlQUFlO0FBQzFEO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7QUFDQSxpRUFBaUUsZUFBZTtBQUNoRiwyQ0FBMkMsZUFBZTtBQUMxRDtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVlLG9FQUFLIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL0BoZWxzaW5nYm9yZy1zdGFkL3N0eWxlZ3VpZGUvc291cmNlL2pzL21vZGFsLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEdhbGxlcnkgZnJvbSBcIi4vZ2FsbGVyeVwiO1xuXG5jbGFzcyBNb2RhbCB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcblxuICAgICAgICB0aGlzLm1vZGFsSWQgPSBudWxsO1xuICAgICAgICB0aGlzLm9wZW5UcmlnZ2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIltkYXRhLW9wZW5dXCIpO1xuICAgICAgICB0aGlzLmNsb3NlVHJpZ2dlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbZGF0YS1jbG9zZV1cIik7XG4gICAgICAgIHRoaXMuaXNWaXNpYmxlID0gXCJjLW1vZGFsX19iZy0taXMtdmlzaWJsZVwiO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZSBNb2RhbFxuICAgICAqL1xuICAgIGVuYWJsZU1vZGFscygpIHtcblxuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgICAgLy8gR2FsbGVyeVxuICAgICAgICBsZXQgR2FsbGVyeUluc3RhbmNlID0gbmV3IEdhbGxlcnk7XG4gICAgICAgIEdhbGxlcnlJbnN0YW5jZS5lbmFibGVHYWxsZXJ5KHRoaXMubW9kYWxJZCk7XG5cbiAgICAgICAgZm9yKGNvbnN0IHRyaWdnZXIgb2YgdGhpcy5vcGVuVHJpZ2dlcikge1xuICAgICAgICAgICAgdHJpZ2dlci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tb2RhbElkID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtb3BlbicpOyAvL3RoaXMuZGF0YXNldC5vcGVuO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMubW9kYWxJZCkuY2xhc3NMaXN0LmFkZChzZWxmLmlzVmlzaWJsZSk7XG5cbiAgICAgICAgICAgICAgICBpZih0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1sYXJnZS1pbWcnKSkge1xuICAgICAgICAgICAgICAgICAgICBHYWxsZXJ5SW5zdGFuY2UuaW5pdEltYWdlKHRoaXMubW9kYWxJZCwgdGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtbGFyZ2UtaW1nJykpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNlbGYubG9ja1Njcm9sbCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDbG9zZVxuICAgICAgICBmb3IgKGNvbnN0IHRyaWdnZXIgb2YgdGhpcy5jbG9zZVRyaWdnZXIpIHtcbiAgICAgICAgICAgIHRyaWdnZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke3NlbGYuaXNWaXNpYmxlfWApLmNsYXNzTGlzdC5yZW1vdmUoc2VsZi5pc1Zpc2libGUpO1xuICAgICAgICAgICAgICAgIHNlbGYudW5sb2NrU2Nyb2xsKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENsaWNrIG91dHNpZGUgbW9kYWxcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGUgPT4ge1xuICAgICAgICAgICAgaWYgKGUudGFyZ2V0ID09PSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtzZWxmLmlzVmlzaWJsZX1gKSkge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke3NlbGYuaXNWaXNpYmxlfWApLmNsYXNzTGlzdC5yZW1vdmUoc2VsZi5pc1Zpc2libGUpO1xuICAgICAgICAgICAgICAgIHNlbGYudW5sb2NrU2Nyb2xsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFByZXNzaW5nIEVzYyBrZXkgdG8gY2xvc2UgbW9kYWxcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIGUgPT4ge1xuICAgICAgICAgICAgaWYgKGUua2V5ID09PSBcIkVzY2FwZVwiICYmIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke3NlbGYuaXNWaXNpYmxlfWApKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7c2VsZi5pc1Zpc2libGV9YCkuY2xhc3NMaXN0LnJlbW92ZShzZWxmLmlzVmlzaWJsZSk7XG4gICAgICAgICAgICAgICAgc2VsZi51bmxvY2tTY3JvbGwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9jayBzY3JvbGxcbiAgICAgKiBAcmV0dXJucyB7Kn1cbiAgICAgKi9cbiAgICBsb2NrU2Nyb2xsKCkge1xuICAgICAgICBjb25zdCBvdmVyZmxvd0hpZGRlbiA9IFwidS1vdmVyZmxvdy0taGlkZGVuXCI7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYGJvZHlgKS5jbGFzc0xpc3QuYWRkKG92ZXJmbG93SGlkZGVuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVbmxvY2sgc2Nyb2xsXG4gICAgICogQHJldHVybnMgeyp9XG4gICAgICovXG4gICAgdW5sb2NrU2Nyb2xsKCkge1xuICAgICAgICBjb25zdCBvdmVyZmxvd0hpZGRlbiA9IFwidS1vdmVyZmxvdy0taGlkZGVuXCI7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYGJvZHlgKS5jbGFzc0xpc3QucmVtb3ZlKG92ZXJmbG93SGlkZGVuKTtcbiAgICB9XG5cblxufVxuXG5leHBvcnQgZGVmYXVsdCBNb2RhbDsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@helsingborg-stad/styleguide/source/js/modal.js\n");

/***/ }),

/***/ "./node_modules/@helsingborg-stad/styleguide/source/js/navbar.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@helsingborg-stad/styleguide/source/js/navbar.js ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Navbar; });\nclass Navbar{\n    constructor() {\n    \n        this.dynamicNavBar = document.querySelector('.c-navbar[js-is-dynamic]');\n\n        if(this.dynamicNavBar){\n            this.pageID = this.dynamicNavBar.getAttribute('data-page-id');\n            this.pageParentID = this.dynamicNavBar.getAttribute('data-page-parent-id');\n        \n            this.navbarExpandedGrid = this.dynamicNavBar.querySelector('.c-navbar__expanded_grid');\n            this.navBarGridItems = this.navbarExpandedGrid.querySelectorAll('a');\n            this.navbarExpandedMain = this.dynamicNavBar.querySelector('.c-navbar__expanded_main');\n            this.childItemsUrl = this.dynamicNavBar.getAttribute('js-child-items-url');\n    \n            this.cleanUpNavBarContent();\n            this.populateNavBarContent();\n            this.setupPrevButton();\n        }\n        \n    }\n\n    cleanUpNavBarContent() {\n        this.navbarExpandedGrid.innerHTML = ' ';\n    }\n\n    getPageData(id) {\n\n        return fetch(`${this.childItemsUrl}?pageID=${id}`)\n        .then((response) => {\n            return response.json();\n        })\n        .then((data) => {\n            return data;\n        });\n    }\n\n    populateNavBarContent() {\n        this.getPageData(this.pageID).then((currentPageItems) => {\n            \n            currentPageItems.items.forEach((item) => {\n                const anchorElement = this.constructor.createAnchorElement(item);\n\n                this.navbarExpandedGrid.innerHTML += anchorElement;\n                this.navbarExpandedMain.querySelector('h2').innerText = currentPageItems.title;\n            });\n        });\n    \n    }\n\n    setupPrevButton() {\n        this.getPageData(this.pageParentID).then((previousPage) => {\n            const previousButton = this.navbarExpandedMain.querySelector('a');\n\n            previousButton.href = previousPage.href;\n            previousButton.querySelector('.c-button__label-text--reverse').innerText = previousPage.title;\n        });\n    }\n\n    static createAnchorElement(item) {\n        return `\n            <a class=\"c-grid u-margin__y--4 c-grid__container__gap__col--0 c-grid__container__gap__row--0\" href=\"${item.href}\" pageid=\"${item.id}\">\n                \n                <h2 class=\"c-typography c-navbar__title c-typography__variant--h2\">\n                    ${item.label}\n                </h2>\n        \n                <p class=\"c-typography c-typography__variant--body\">\n                    ${item.preview ? item.preview : 'No Preview Available'}\n                </p>\n            </a>\n        `;\n    }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGhlbHNpbmdib3JnLXN0YWQvc3R5bGVndWlkZS9zb3VyY2UvanMvbmF2YmFyLmpzP2YwMmUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFlO0FBQ2Y7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSx3QkFBd0IsbUJBQW1CLFVBQVUsR0FBRztBQUN4RDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUzs7QUFFVDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0EsbUhBQW1ILFVBQVUsWUFBWSxRQUFROztBQUVqSjtBQUNBLHNCQUFzQjtBQUN0Qjs7QUFFQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL0BoZWxzaW5nYm9yZy1zdGFkL3N0eWxlZ3VpZGUvc291cmNlL2pzL25hdmJhci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIE5hdmJhcntcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICBcbiAgICAgICAgdGhpcy5keW5hbWljTmF2QmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmMtbmF2YmFyW2pzLWlzLWR5bmFtaWNdJyk7XG5cbiAgICAgICAgaWYodGhpcy5keW5hbWljTmF2QmFyKXtcbiAgICAgICAgICAgIHRoaXMucGFnZUlEID0gdGhpcy5keW5hbWljTmF2QmFyLmdldEF0dHJpYnV0ZSgnZGF0YS1wYWdlLWlkJyk7XG4gICAgICAgICAgICB0aGlzLnBhZ2VQYXJlbnRJRCA9IHRoaXMuZHluYW1pY05hdkJhci5nZXRBdHRyaWJ1dGUoJ2RhdGEtcGFnZS1wYXJlbnQtaWQnKTtcbiAgICAgICAgXG4gICAgICAgICAgICB0aGlzLm5hdmJhckV4cGFuZGVkR3JpZCA9IHRoaXMuZHluYW1pY05hdkJhci5xdWVyeVNlbGVjdG9yKCcuYy1uYXZiYXJfX2V4cGFuZGVkX2dyaWQnKTtcbiAgICAgICAgICAgIHRoaXMubmF2QmFyR3JpZEl0ZW1zID0gdGhpcy5uYXZiYXJFeHBhbmRlZEdyaWQucXVlcnlTZWxlY3RvckFsbCgnYScpO1xuICAgICAgICAgICAgdGhpcy5uYXZiYXJFeHBhbmRlZE1haW4gPSB0aGlzLmR5bmFtaWNOYXZCYXIucXVlcnlTZWxlY3RvcignLmMtbmF2YmFyX19leHBhbmRlZF9tYWluJyk7XG4gICAgICAgICAgICB0aGlzLmNoaWxkSXRlbXNVcmwgPSB0aGlzLmR5bmFtaWNOYXZCYXIuZ2V0QXR0cmlidXRlKCdqcy1jaGlsZC1pdGVtcy11cmwnKTtcbiAgICBcbiAgICAgICAgICAgIHRoaXMuY2xlYW5VcE5hdkJhckNvbnRlbnQoKTtcbiAgICAgICAgICAgIHRoaXMucG9wdWxhdGVOYXZCYXJDb250ZW50KCk7XG4gICAgICAgICAgICB0aGlzLnNldHVwUHJldkJ1dHRvbigpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgIH1cblxuICAgIGNsZWFuVXBOYXZCYXJDb250ZW50KCkge1xuICAgICAgICB0aGlzLm5hdmJhckV4cGFuZGVkR3JpZC5pbm5lckhUTUwgPSAnICc7XG4gICAgfVxuXG4gICAgZ2V0UGFnZURhdGEoaWQpIHtcblxuICAgICAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5jaGlsZEl0ZW1zVXJsfT9wYWdlSUQ9JHtpZH1gKVxuICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcG9wdWxhdGVOYXZCYXJDb250ZW50KCkge1xuICAgICAgICB0aGlzLmdldFBhZ2VEYXRhKHRoaXMucGFnZUlEKS50aGVuKChjdXJyZW50UGFnZUl0ZW1zKSA9PiB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlSXRlbXMuaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFuY2hvckVsZW1lbnQgPSB0aGlzLmNvbnN0cnVjdG9yLmNyZWF0ZUFuY2hvckVsZW1lbnQoaXRlbSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm5hdmJhckV4cGFuZGVkR3JpZC5pbm5lckhUTUwgKz0gYW5jaG9yRWxlbWVudDtcbiAgICAgICAgICAgICAgICB0aGlzLm5hdmJhckV4cGFuZGVkTWFpbi5xdWVyeVNlbGVjdG9yKCdoMicpLmlubmVyVGV4dCA9IGN1cnJlbnRQYWdlSXRlbXMudGl0bGU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgXG4gICAgfVxuXG4gICAgc2V0dXBQcmV2QnV0dG9uKCkge1xuICAgICAgICB0aGlzLmdldFBhZ2VEYXRhKHRoaXMucGFnZVBhcmVudElEKS50aGVuKChwcmV2aW91c1BhZ2UpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzQnV0dG9uID0gdGhpcy5uYXZiYXJFeHBhbmRlZE1haW4ucXVlcnlTZWxlY3RvcignYScpO1xuXG4gICAgICAgICAgICBwcmV2aW91c0J1dHRvbi5ocmVmID0gcHJldmlvdXNQYWdlLmhyZWY7XG4gICAgICAgICAgICBwcmV2aW91c0J1dHRvbi5xdWVyeVNlbGVjdG9yKCcuYy1idXR0b25fX2xhYmVsLXRleHQtLXJldmVyc2UnKS5pbm5lclRleHQgPSBwcmV2aW91c1BhZ2UudGl0bGU7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBjcmVhdGVBbmNob3JFbGVtZW50KGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGBcbiAgICAgICAgICAgIDxhIGNsYXNzPVwiYy1ncmlkIHUtbWFyZ2luX195LS00IGMtZ3JpZF9fY29udGFpbmVyX19nYXBfX2NvbC0tMCBjLWdyaWRfX2NvbnRhaW5lcl9fZ2FwX19yb3ctLTBcIiBocmVmPVwiJHtpdGVtLmhyZWZ9XCIgcGFnZWlkPVwiJHtpdGVtLmlkfVwiPlxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIDxoMiBjbGFzcz1cImMtdHlwb2dyYXBoeSBjLW5hdmJhcl9fdGl0bGUgYy10eXBvZ3JhcGh5X192YXJpYW50LS1oMlwiPlxuICAgICAgICAgICAgICAgICAgICAke2l0ZW0ubGFiZWx9XG4gICAgICAgICAgICAgICAgPC9oMj5cbiAgICAgICAgXG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJjLXR5cG9ncmFwaHkgYy10eXBvZ3JhcGh5X192YXJpYW50LS1ib2R5XCI+XG4gICAgICAgICAgICAgICAgICAgICR7aXRlbS5wcmV2aWV3ID8gaXRlbS5wcmV2aWV3IDogJ05vIFByZXZpZXcgQXZhaWxhYmxlJ31cbiAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8L2E+XG4gICAgICAgIGA7XG4gICAgfVxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@helsingborg-stad/styleguide/source/js/navbar.js\n");

/***/ }),

/***/ "./node_modules/@helsingborg-stad/styleguide/source/js/notification.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@helsingborg-stad/styleguide/source/js/notification.js ***!
  \*****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nclass Notification{\n    setup(){\n        const containers = document.getElementsByClassName('c-notification__container');\n\n        if(containers && containers.length > 0){\n            containers.forEach(container => {\n                const direction = container.getAttribute('direction');\n                const directionClass = `c-notification__container--${  direction}`;\n                container.classList.add(directionClass);\n                this.setOnClickClose(container);\n            });\n        }\n        \n    }\n\n    removeFirst(target){\n        const notifications = target.querySelectorAll('.c-notification');\n        const maxAmount = target.getAttribute('maxamount');\n        if(notifications.length > maxAmount){\n            notifications[0].outerHTML = '';\n        } \n    }\n\n    setOnClickClose(targetNode){\n        let count = 0;\n        const observerOptions = {\n        childList: true\n        }\n        const observer = new MutationObserver((event)=>{\n            count++;\n            this.removeFirst(targetNode);\n            event.forEach((record)=>{\n                record.addedNodes.forEach((node) =>{\n                    if(node.classList.contains('c-notification')){\n                        this.setAutoHideDuration(node);\n                        node.addEventListener('click', ()=>{\n                            node.classList.add(`c-notification--dying--${ count}`)\n                            node.outerHTML = '';\n                        })\n                    }\n                })\n            })\n            \n        });\n        observer.observe(targetNode, observerOptions);\n    }\n\n    setAutoHideDuration(notification){\n        const autoHideDuration = notification.getAttribute('autoHideDuration');\n        setTimeout(function(){ notification.outerHTML = \"\"; }, autoHideDuration);\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Notification);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGhlbHNpbmdib3JnLXN0YWQvc3R5bGVndWlkZS9zb3VyY2UvanMvbm90aWZpY2F0aW9uLmpzP2ZjZDQiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EscUVBQXFFLFlBQVk7QUFDakY7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUVBQXlFLE9BQU87QUFDaEY7QUFDQSx5QkFBeUI7QUFDekI7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTs7QUFFYixTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsOEJBQThCLDZCQUE2QixFQUFFO0FBQzdEO0FBQ0E7O0FBRWUsMkVBQVkiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGhlbHNpbmdib3JnLXN0YWQvc3R5bGVndWlkZS9zb3VyY2UvanMvbm90aWZpY2F0aW9uLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgTm90aWZpY2F0aW9ue1xuICAgIHNldHVwKCl7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lcnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdjLW5vdGlmaWNhdGlvbl9fY29udGFpbmVyJyk7XG5cbiAgICAgICAgaWYoY29udGFpbmVycyAmJiBjb250YWluZXJzLmxlbmd0aCA+IDApe1xuICAgICAgICAgICAgY29udGFpbmVycy5mb3JFYWNoKGNvbnRhaW5lciA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGlyZWN0aW9uID0gY29udGFpbmVyLmdldEF0dHJpYnV0ZSgnZGlyZWN0aW9uJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgZGlyZWN0aW9uQ2xhc3MgPSBgYy1ub3RpZmljYXRpb25fX2NvbnRhaW5lci0tJHsgIGRpcmVjdGlvbn1gO1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKGRpcmVjdGlvbkNsYXNzKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldE9uQ2xpY2tDbG9zZShjb250YWluZXIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgfVxuXG4gICAgcmVtb3ZlRmlyc3QodGFyZ2V0KXtcbiAgICAgICAgY29uc3Qgbm90aWZpY2F0aW9ucyA9IHRhcmdldC5xdWVyeVNlbGVjdG9yQWxsKCcuYy1ub3RpZmljYXRpb24nKTtcbiAgICAgICAgY29uc3QgbWF4QW1vdW50ID0gdGFyZ2V0LmdldEF0dHJpYnV0ZSgnbWF4YW1vdW50Jyk7XG4gICAgICAgIGlmKG5vdGlmaWNhdGlvbnMubGVuZ3RoID4gbWF4QW1vdW50KXtcbiAgICAgICAgICAgIG5vdGlmaWNhdGlvbnNbMF0ub3V0ZXJIVE1MID0gJyc7XG4gICAgICAgIH0gXG4gICAgfVxuXG4gICAgc2V0T25DbGlja0Nsb3NlKHRhcmdldE5vZGUpe1xuICAgICAgICBsZXQgY291bnQgPSAwO1xuICAgICAgICBjb25zdCBvYnNlcnZlck9wdGlvbnMgPSB7XG4gICAgICAgIGNoaWxkTGlzdDogdHJ1ZVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoKGV2ZW50KT0+e1xuICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlRmlyc3QodGFyZ2V0Tm9kZSk7XG4gICAgICAgICAgICBldmVudC5mb3JFYWNoKChyZWNvcmQpPT57XG4gICAgICAgICAgICAgICAgcmVjb3JkLmFkZGVkTm9kZXMuZm9yRWFjaCgobm9kZSkgPT57XG4gICAgICAgICAgICAgICAgICAgIGlmKG5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCdjLW5vdGlmaWNhdGlvbicpKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0QXV0b0hpZGVEdXJhdGlvbihub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuY2xhc3NMaXN0LmFkZChgYy1ub3RpZmljYXRpb24tLWR5aW5nLS0keyBjb3VudH1gKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUub3V0ZXJIVE1MID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBcbiAgICAgICAgfSk7XG4gICAgICAgIG9ic2VydmVyLm9ic2VydmUodGFyZ2V0Tm9kZSwgb2JzZXJ2ZXJPcHRpb25zKTtcbiAgICB9XG5cbiAgICBzZXRBdXRvSGlkZUR1cmF0aW9uKG5vdGlmaWNhdGlvbil7XG4gICAgICAgIGNvbnN0IGF1dG9IaWRlRHVyYXRpb24gPSBub3RpZmljYXRpb24uZ2V0QXR0cmlidXRlKCdhdXRvSGlkZUR1cmF0aW9uJyk7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsgbm90aWZpY2F0aW9uLm91dGVySFRNTCA9IFwiXCI7IH0sIGF1dG9IaWRlRHVyYXRpb24pO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgTm90aWZpY2F0aW9uOyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@helsingborg-stad/styleguide/source/js/notification.js\n");

/***/ }),

/***/ "./node_modules/@helsingborg-stad/styleguide/source/js/notificationDoc.js":
/*!********************************************************************************!*\
  !*** ./node_modules/@helsingborg-stad/styleguide/source/js/notificationDoc.js ***!
  \********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nclass NotificationDoc{\n    addListener(){\n         \n        const notificationButton = document.getElementsByClassName(\"notification__button\")[0];\n        const notification = document.getElementsByClassName(\"c-notification\")[0];\n\n        if(notification)\n        {\n            const direction = notification.getAttribute('direction');\n            let container = document.createElement('DIV');\n            container.classList.add('c-notification__container');\n            container.classList.add('c-notification__container--' + direction);\n            container.setAttribute('maxAmount', 3)\n            document.body.appendChild(container);\n\n            notificationButton.addEventListener('click', ()=>{\n                let notificationCopy = notification.cloneNode(true);\n                notificationCopy.classList.remove('u-display--none');\n                \n                container.appendChild(notificationCopy);\n            })\n        }\n        \n            \n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (NotificationDoc);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGhlbHNpbmdib3JnLXN0YWQvc3R5bGVndWlkZS9zb3VyY2UvanMvbm90aWZpY2F0aW9uRG9jLmpzPzAwNTEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxhQUFhO0FBQ2I7OztBQUdBO0FBQ0E7O0FBRWUsOEVBQWUiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGhlbHNpbmdib3JnLXN0YWQvc3R5bGVndWlkZS9zb3VyY2UvanMvbm90aWZpY2F0aW9uRG9jLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgTm90aWZpY2F0aW9uRG9je1xuICAgIGFkZExpc3RlbmVyKCl7XG4gICAgICAgICBcbiAgICAgICAgY29uc3Qgbm90aWZpY2F0aW9uQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIm5vdGlmaWNhdGlvbl9fYnV0dG9uXCIpWzBdO1xuICAgICAgICBjb25zdCBub3RpZmljYXRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiYy1ub3RpZmljYXRpb25cIilbMF07XG5cbiAgICAgICAgaWYobm90aWZpY2F0aW9uKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBkaXJlY3Rpb24gPSBub3RpZmljYXRpb24uZ2V0QXR0cmlidXRlKCdkaXJlY3Rpb24nKTtcbiAgICAgICAgICAgIGxldCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdESVYnKTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdjLW5vdGlmaWNhdGlvbl9fY29udGFpbmVyJyk7XG4gICAgICAgICAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZCgnYy1ub3RpZmljYXRpb25fX2NvbnRhaW5lci0tJyArIGRpcmVjdGlvbik7XG4gICAgICAgICAgICBjb250YWluZXIuc2V0QXR0cmlidXRlKCdtYXhBbW91bnQnLCAzKVxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuXG4gICAgICAgICAgICBub3RpZmljYXRpb25CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e1xuICAgICAgICAgICAgICAgIGxldCBub3RpZmljYXRpb25Db3B5ID0gbm90aWZpY2F0aW9uLmNsb25lTm9kZSh0cnVlKTtcbiAgICAgICAgICAgICAgICBub3RpZmljYXRpb25Db3B5LmNsYXNzTGlzdC5yZW1vdmUoJ3UtZGlzcGxheS0tbm9uZScpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChub3RpZmljYXRpb25Db3B5KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgICAgICBcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IE5vdGlmaWNhdGlvbkRvYzsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@helsingborg-stad/styleguide/source/js/notificationDoc.js\n");

/***/ }),

/***/ "./node_modules/@helsingborg-stad/styleguide/source/js/pagination.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@helsingborg-stad/styleguide/source/js/pagination.js ***!
  \***************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Pagination; });\nclass Pagination {\n    constructor(\n        container\n    ){\n        this.container = container\n        this.link = null\n        this.list = this.container.querySelectorAll(`[js-pagination-item]`);\n\n        //Targeting attributes\n        this.indexLinks = 'js-pagination-index';\n        this.paginationContainer = this.container.querySelector(`[js-pagination]`);\n        this.listContainer = this.container.querySelector(`[js-pagination-container]`);\n        this.prevBtn = 'js-pagination-prev'\n        this.nextBtn = 'js-pagination-next'\n\n        this.perPage = parseInt(this.paginationContainer.getAttribute('js-pagination-per-page'))\n        this.maxPages = this.paginationContainer.getAttribute('js-pagination-max-pages')\n\n        this.container.setAttribute('js-table-pagination--current', 1);\n\n        this.tableRefresh();\n        this.paginationButtons()\n    }\n\n    tableRefresh() {\n        // eslint-disable-next-line prefer-destructuring\n        let list = this.paginateList(this.list)\n\n        this.renderTable(list);\n        this.paginatePages();\n        this.paginationLinks();\n        this.paginateLinkListeners();\n    }\n\n    renderTable(list = null) {\n        const body = this.listContainer;\n        body.innerHTML = \"\";\n\n        list.forEach(element => {\n            body.appendChild(element)\n        });\n    }\n\n    paginatePages() {\n        const numberOfPages = Math.ceil(this.list.length / this.perPage);\n\n        if(this.maxPages && (numberOfPages > this.maxPages)) {\n            return this.maxPages;\n        }\n\n        return numberOfPages;\n    }\n\n    paginationLinks() {\n        if(!this.link) {\n            this.link = this.container.querySelector(`[${this.indexLinks}]`);\n            this.link.classList.remove(\"c-pagination__item--is-active\");\n        }\n        \n        const body = this.container.querySelector(`[js-table-pagination--links]`);\n        this.paginationContainer.classList.remove('u-display--none')\n        body.innerHTML = \"\";\n\n        if(this.paginatePages() > 1) {\n            // eslint-disable-next-line no-plusplus\n            for (let index = 0; index < this.paginatePages(); index++) {\n                const elm = this.link.cloneNode(true);\n                // elm.innerHTML = index +1;\n                elm.classList.remove('c-button__filled--primary');\n                elm.setAttribute(this.indexLinks, index +1);\n                elm.querySelector('.c-pagination__label').innerHTML = index +1;\n\n                if((index +1) === this.paginationCurrent() ){\n                    elm.classList.add('c-button__filled--primary');\n                }\n\n                body.appendChild(elm);\n            }\n        } else {\n            this.paginationContainer.classList.add('u-display--none')\n        }\n    }\n\n    paginateLinkListeners() {\n        const btns = this.container.querySelectorAll(`[${this.indexLinks}]`)\n\n        btns.forEach(btn => {\n            btn.addEventListener('click', (e) => {\n                e.preventDefault();\n                let next = e.target.closest(`[${this.indexLinks}]`).getAttribute(this.indexLinks);\n                this.paginateSetCurrent(next);\n                this.tableRefresh();\n            })\n        });\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    paginateList(list) {\n        const first = (this.paginationCurrent() - 1) * this.perPage;\n        const last = this.paginationCurrent() * this.perPage;\n\n        return Array.from(list).slice(first, last);\n    }\n\n    paginationButtons() {\n        this.paginateSetCurrent();\n\n        this.container.querySelector(`[${this.nextBtn}]`).addEventListener('click', (e) => {\n            e.preventDefault();\n\n            if ((this.paginationCurrent()) != this.paginatePages()) {\n                this.paginateSetCurrent(this.paginationCurrent() +1);\n            }\n\n            this.tableRefresh();\n        })\n\n        this.container.querySelector(`[${this.prevBtn}]`).addEventListener('click', (e) => {\n            e.preventDefault();\n            this.paginateSetCurrent(this.paginationCurrent() -1);\n            this.tableRefresh();\n        })\n    }\n\n    paginateSetCurrent(current = 1) {\n        current = parseInt(current)\n        this.container.setAttribute('js-table-pagination--current', current);\n        this.container.querySelector(`[${this.nextBtn}]`).removeAttribute('disabled');\n        this.container.querySelector(`[${this.prevBtn}]`).removeAttribute('disabled');\n\n        if (current === this.paginatePages()) {\n            this.container.querySelector(`[${this.nextBtn}]`).setAttribute('disabled', true);\n\n        } else if (current === 1) {\n            this.container.querySelector(`[${this.prevBtn}]`).setAttribute('disabled', true);\n\n        }\n    }\n\n    paginationCurrent() {\n        return parseInt(this.container.getAttribute('js-table-pagination--current'), 10)\n    }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGhlbHNpbmdib3JnLXN0YWQvc3R5bGVndWlkZS9zb3VyY2UvanMvcGFnaW5hdGlvbi5qcz9lNjk2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EseURBQXlELGdCQUFnQjtBQUN6RTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsK0JBQStCLDhCQUE4QjtBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHlEQUF5RCxnQkFBZ0I7O0FBRXpFO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxnQkFBZ0I7QUFDaEU7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBLHlDQUF5QyxhQUFhO0FBQ3REOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVM7O0FBRVQseUNBQXlDLGFBQWE7QUFDdEQ7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxhQUFhO0FBQ3RELHlDQUF5QyxhQUFhOztBQUV0RDtBQUNBLDZDQUE2QyxhQUFhOztBQUUxRCxTQUFTO0FBQ1QsNkNBQTZDLGFBQWE7O0FBRTFEO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGhlbHNpbmdib3JnLXN0YWQvc3R5bGVndWlkZS9zb3VyY2UvanMvcGFnaW5hdGlvbi5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhZ2luYXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBjb250YWluZXJcbiAgICApe1xuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lclxuICAgICAgICB0aGlzLmxpbmsgPSBudWxsXG4gICAgICAgIHRoaXMubGlzdCA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoYFtqcy1wYWdpbmF0aW9uLWl0ZW1dYCk7XG5cbiAgICAgICAgLy9UYXJnZXRpbmcgYXR0cmlidXRlc1xuICAgICAgICB0aGlzLmluZGV4TGlua3MgPSAnanMtcGFnaW5hdGlvbi1pbmRleCc7XG4gICAgICAgIHRoaXMucGFnaW5hdGlvbkNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoYFtqcy1wYWdpbmF0aW9uXWApO1xuICAgICAgICB0aGlzLmxpc3RDb250YWluZXIgPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKGBbanMtcGFnaW5hdGlvbi1jb250YWluZXJdYCk7XG4gICAgICAgIHRoaXMucHJldkJ0biA9ICdqcy1wYWdpbmF0aW9uLXByZXYnXG4gICAgICAgIHRoaXMubmV4dEJ0biA9ICdqcy1wYWdpbmF0aW9uLW5leHQnXG5cbiAgICAgICAgdGhpcy5wZXJQYWdlID0gcGFyc2VJbnQodGhpcy5wYWdpbmF0aW9uQ29udGFpbmVyLmdldEF0dHJpYnV0ZSgnanMtcGFnaW5hdGlvbi1wZXItcGFnZScpKVxuICAgICAgICB0aGlzLm1heFBhZ2VzID0gdGhpcy5wYWdpbmF0aW9uQ29udGFpbmVyLmdldEF0dHJpYnV0ZSgnanMtcGFnaW5hdGlvbi1tYXgtcGFnZXMnKVxuXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnNldEF0dHJpYnV0ZSgnanMtdGFibGUtcGFnaW5hdGlvbi0tY3VycmVudCcsIDEpO1xuXG4gICAgICAgIHRoaXMudGFibGVSZWZyZXNoKCk7XG4gICAgICAgIHRoaXMucGFnaW5hdGlvbkJ1dHRvbnMoKVxuICAgIH1cblxuICAgIHRhYmxlUmVmcmVzaCgpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG4gICAgICAgIGxldCBsaXN0ID0gdGhpcy5wYWdpbmF0ZUxpc3QodGhpcy5saXN0KVxuXG4gICAgICAgIHRoaXMucmVuZGVyVGFibGUobGlzdCk7XG4gICAgICAgIHRoaXMucGFnaW5hdGVQYWdlcygpO1xuICAgICAgICB0aGlzLnBhZ2luYXRpb25MaW5rcygpO1xuICAgICAgICB0aGlzLnBhZ2luYXRlTGlua0xpc3RlbmVycygpO1xuICAgIH1cblxuICAgIHJlbmRlclRhYmxlKGxpc3QgPSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGJvZHkgPSB0aGlzLmxpc3RDb250YWluZXI7XG4gICAgICAgIGJvZHkuaW5uZXJIVE1MID0gXCJcIjtcblxuICAgICAgICBsaXN0LmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBib2R5LmFwcGVuZENoaWxkKGVsZW1lbnQpXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHBhZ2luYXRlUGFnZXMoKSB7XG4gICAgICAgIGNvbnN0IG51bWJlck9mUGFnZXMgPSBNYXRoLmNlaWwodGhpcy5saXN0Lmxlbmd0aCAvIHRoaXMucGVyUGFnZSk7XG5cbiAgICAgICAgaWYodGhpcy5tYXhQYWdlcyAmJiAobnVtYmVyT2ZQYWdlcyA+IHRoaXMubWF4UGFnZXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tYXhQYWdlcztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBudW1iZXJPZlBhZ2VzO1xuICAgIH1cblxuICAgIHBhZ2luYXRpb25MaW5rcygpIHtcbiAgICAgICAgaWYoIXRoaXMubGluaykge1xuICAgICAgICAgICAgdGhpcy5saW5rID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihgWyR7dGhpcy5pbmRleExpbmtzfV1gKTtcbiAgICAgICAgICAgIHRoaXMubGluay5jbGFzc0xpc3QucmVtb3ZlKFwiYy1wYWdpbmF0aW9uX19pdGVtLS1pcy1hY3RpdmVcIik7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGJvZHkgPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKGBbanMtdGFibGUtcGFnaW5hdGlvbi0tbGlua3NdYCk7XG4gICAgICAgIHRoaXMucGFnaW5hdGlvbkNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCd1LWRpc3BsYXktLW5vbmUnKVxuICAgICAgICBib2R5LmlubmVySFRNTCA9IFwiXCI7XG5cbiAgICAgICAgaWYodGhpcy5wYWdpbmF0ZVBhZ2VzKCkgPiAxKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGx1c3BsdXNcbiAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLnBhZ2luYXRlUGFnZXMoKTsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVsbSA9IHRoaXMubGluay5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgLy8gZWxtLmlubmVySFRNTCA9IGluZGV4ICsxO1xuICAgICAgICAgICAgICAgIGVsbS5jbGFzc0xpc3QucmVtb3ZlKCdjLWJ1dHRvbl9fZmlsbGVkLS1wcmltYXJ5Jyk7XG4gICAgICAgICAgICAgICAgZWxtLnNldEF0dHJpYnV0ZSh0aGlzLmluZGV4TGlua3MsIGluZGV4ICsxKTtcbiAgICAgICAgICAgICAgICBlbG0ucXVlcnlTZWxlY3RvcignLmMtcGFnaW5hdGlvbl9fbGFiZWwnKS5pbm5lckhUTUwgPSBpbmRleCArMTtcblxuICAgICAgICAgICAgICAgIGlmKChpbmRleCArMSkgPT09IHRoaXMucGFnaW5hdGlvbkN1cnJlbnQoKSApe1xuICAgICAgICAgICAgICAgICAgICBlbG0uY2xhc3NMaXN0LmFkZCgnYy1idXR0b25fX2ZpbGxlZC0tcHJpbWFyeScpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGJvZHkuYXBwZW5kQ2hpbGQoZWxtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucGFnaW5hdGlvbkNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCd1LWRpc3BsYXktLW5vbmUnKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcGFnaW5hdGVMaW5rTGlzdGVuZXJzKCkge1xuICAgICAgICBjb25zdCBidG5zID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvckFsbChgWyR7dGhpcy5pbmRleExpbmtzfV1gKVxuXG4gICAgICAgIGJ0bnMuZm9yRWFjaChidG4gPT4ge1xuICAgICAgICAgICAgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgbGV0IG5leHQgPSBlLnRhcmdldC5jbG9zZXN0KGBbJHt0aGlzLmluZGV4TGlua3N9XWApLmdldEF0dHJpYnV0ZSh0aGlzLmluZGV4TGlua3MpO1xuICAgICAgICAgICAgICAgIHRoaXMucGFnaW5hdGVTZXRDdXJyZW50KG5leHQpO1xuICAgICAgICAgICAgICAgIHRoaXMudGFibGVSZWZyZXNoKCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY2xhc3MtbWV0aG9kcy11c2UtdGhpc1xuICAgIHBhZ2luYXRlTGlzdChsaXN0KSB7XG4gICAgICAgIGNvbnN0IGZpcnN0ID0gKHRoaXMucGFnaW5hdGlvbkN1cnJlbnQoKSAtIDEpICogdGhpcy5wZXJQYWdlO1xuICAgICAgICBjb25zdCBsYXN0ID0gdGhpcy5wYWdpbmF0aW9uQ3VycmVudCgpICogdGhpcy5wZXJQYWdlO1xuXG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKGxpc3QpLnNsaWNlKGZpcnN0LCBsYXN0KTtcbiAgICB9XG5cbiAgICBwYWdpbmF0aW9uQnV0dG9ucygpIHtcbiAgICAgICAgdGhpcy5wYWdpbmF0ZVNldEN1cnJlbnQoKTtcblxuICAgICAgICB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKGBbJHt0aGlzLm5leHRCdG59XWApLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgaWYgKCh0aGlzLnBhZ2luYXRpb25DdXJyZW50KCkpICE9IHRoaXMucGFnaW5hdGVQYWdlcygpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYWdpbmF0ZVNldEN1cnJlbnQodGhpcy5wYWdpbmF0aW9uQ3VycmVudCgpICsxKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy50YWJsZVJlZnJlc2goKTtcbiAgICAgICAgfSlcblxuICAgICAgICB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKGBbJHt0aGlzLnByZXZCdG59XWApLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHRoaXMucGFnaW5hdGVTZXRDdXJyZW50KHRoaXMucGFnaW5hdGlvbkN1cnJlbnQoKSAtMSk7XG4gICAgICAgICAgICB0aGlzLnRhYmxlUmVmcmVzaCgpO1xuICAgICAgICB9KVxuICAgIH1cblxuICAgIHBhZ2luYXRlU2V0Q3VycmVudChjdXJyZW50ID0gMSkge1xuICAgICAgICBjdXJyZW50ID0gcGFyc2VJbnQoY3VycmVudClcbiAgICAgICAgdGhpcy5jb250YWluZXIuc2V0QXR0cmlidXRlKCdqcy10YWJsZS1wYWdpbmF0aW9uLS1jdXJyZW50JywgY3VycmVudCk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoYFske3RoaXMubmV4dEJ0bn1dYCkucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKGBbJHt0aGlzLnByZXZCdG59XWApLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcblxuICAgICAgICBpZiAoY3VycmVudCA9PT0gdGhpcy5wYWdpbmF0ZVBhZ2VzKCkpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3IoYFske3RoaXMubmV4dEJ0bn1dYCkuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsIHRydWUpO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoY3VycmVudCA9PT0gMSkge1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcihgWyR7dGhpcy5wcmV2QnRufV1gKS5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgdHJ1ZSk7XG5cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBhZ2luYXRpb25DdXJyZW50KCkge1xuICAgICAgICByZXR1cm4gcGFyc2VJbnQodGhpcy5jb250YWluZXIuZ2V0QXR0cmlidXRlKCdqcy10YWJsZS1wYWdpbmF0aW9uLS1jdXJyZW50JyksIDEwKVxuICAgIH1cbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@helsingborg-stad/styleguide/source/js/pagination.js\n");

/***/ }),

/***/ "./node_modules/@helsingborg-stad/styleguide/source/js/resizeByChildren.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@helsingborg-stad/styleguide/source/js/resizeByChildren.js ***!
  \*********************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ResizeByChildren; });\nclass ResizeByChildren {\n  constructor() {\n    this.RESIZE = 'js-resize-by-children';\n    // Get containers\n    const resizeContainer = document.querySelectorAll(`[${this.RESIZE}]`);\n    \n    if(resizeContainer) {\n\n      resizeContainer.forEach(item => {\n\n        // Enable calculations\n        item.classList.add('u-display--block'); \n        // Declare\n        const currentChilds = item.querySelectorAll('li > a'); \n        const widthStack = []; \n        \n        // Get all widts as array\n        currentChilds.forEach(child => {\n          widthStack.push(child.getBoundingClientRect().width);\n        }); \n        \n\n        // Get largest\n        const maxSize = Math.round(Math.max.apply(null, widthStack)); \n\n        if(item.getBoundingClientRect().width > maxSize) {\n          item.setAttribute('style', 'width:' + maxSize + 'px !important;');\n          item.dispatchEvent(new Event('resizeByChildren'));\n        }\n\n        // Disable calculations\n        item.classList.remove('u-display--block'); \n      \n        // Add class as calc\n        item.classList.add(item.classList[0] + '--calculated'); \n\n      });\n    }\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGhlbHNpbmdib3JnLXN0YWQvc3R5bGVndWlkZS9zb3VyY2UvanMvcmVzaXplQnlDaGlsZHJlbi5qcz81M2NiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCxZQUFZOztBQUV0RTs7QUFFQTs7QUFFQTtBQUNBLCtDO0FBQ0E7QUFDQSw4RDtBQUNBLDhCOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsRTs7O0FBR1Q7QUFDQSxxRTs7QUFFQTtBQUNBLHlFQUF5RTtBQUN6RTtBQUNBOztBQUVBO0FBQ0Esa0Q7O0FBRUE7QUFDQSwrRDs7QUFFQSxPQUFPO0FBQ1A7QUFDQTtBQUNBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL0BoZWxzaW5nYm9yZy1zdGFkL3N0eWxlZ3VpZGUvc291cmNlL2pzL3Jlc2l6ZUJ5Q2hpbGRyZW4uanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBSZXNpemVCeUNoaWxkcmVuIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5SRVNJWkUgPSAnanMtcmVzaXplLWJ5LWNoaWxkcmVuJztcbiAgICAvLyBHZXQgY29udGFpbmVyc1xuICAgIGNvbnN0IHJlc2l6ZUNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYFske3RoaXMuUkVTSVpFfV1gKTtcbiAgICBcbiAgICBpZihyZXNpemVDb250YWluZXIpIHtcblxuICAgICAgcmVzaXplQ29udGFpbmVyLmZvckVhY2goaXRlbSA9PiB7XG5cbiAgICAgICAgLy8gRW5hYmxlIGNhbGN1bGF0aW9uc1xuICAgICAgICBpdGVtLmNsYXNzTGlzdC5hZGQoJ3UtZGlzcGxheS0tYmxvY2snKTsgXG4gICAgICAgIC8vIERlY2xhcmVcbiAgICAgICAgY29uc3QgY3VycmVudENoaWxkcyA9IGl0ZW0ucXVlcnlTZWxlY3RvckFsbCgnbGkgPiBhJyk7IFxuICAgICAgICBjb25zdCB3aWR0aFN0YWNrID0gW107IFxuICAgICAgICBcbiAgICAgICAgLy8gR2V0IGFsbCB3aWR0cyBhcyBhcnJheVxuICAgICAgICBjdXJyZW50Q2hpbGRzLmZvckVhY2goY2hpbGQgPT4ge1xuICAgICAgICAgIHdpZHRoU3RhY2sucHVzaChjaGlsZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCk7XG4gICAgICAgIH0pOyBcbiAgICAgICAgXG5cbiAgICAgICAgLy8gR2V0IGxhcmdlc3RcbiAgICAgICAgY29uc3QgbWF4U2l6ZSA9IE1hdGgucm91bmQoTWF0aC5tYXguYXBwbHkobnVsbCwgd2lkdGhTdGFjaykpOyBcblxuICAgICAgICBpZihpdGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoID4gbWF4U2l6ZSkge1xuICAgICAgICAgIGl0ZW0uc2V0QXR0cmlidXRlKCdzdHlsZScsICd3aWR0aDonICsgbWF4U2l6ZSArICdweCAhaW1wb3J0YW50OycpO1xuICAgICAgICAgIGl0ZW0uZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ3Jlc2l6ZUJ5Q2hpbGRyZW4nKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEaXNhYmxlIGNhbGN1bGF0aW9uc1xuICAgICAgICBpdGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3UtZGlzcGxheS0tYmxvY2snKTsgXG4gICAgICBcbiAgICAgICAgLy8gQWRkIGNsYXNzIGFzIGNhbGNcbiAgICAgICAgaXRlbS5jbGFzc0xpc3QuYWRkKGl0ZW0uY2xhc3NMaXN0WzBdICsgJy0tY2FsY3VsYXRlZCcpOyBcblxuICAgICAgfSk7XG4gICAgfVxuICB9XG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@helsingborg-stad/styleguide/source/js/resizeByChildren.js\n");

/***/ }),

/***/ "./node_modules/@helsingborg-stad/styleguide/source/js/segment.js":
/*!************************************************************************!*\
  !*** ./node_modules/@helsingborg-stad/styleguide/source/js/segment.js ***!
  \************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var chalk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! chalk */ \"./node_modules/chalk/index.js\");\n/* harmony import */ var chalk__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(chalk__WEBPACK_IMPORTED_MODULE_0__);\n\n\nclass Segment {\n    constructor(segment) {\n        this.SEGMENT = segment;\n\n        this.videoInteractions();\n    }\n\n    videoInteractions() {\n        const btn = this.SEGMENT.querySelector('[js-segment__video--plaus]');\n        if(btn) {\n            btn.addEventListener('click', () => {\n                if (this.getVideoState() === 'playing' || !this.getVideoState()) {\n                    this.pauseVideo();\n                } else {\n                    this.playVideo();\n                }\n            })\n        }\n    }\n\n    getVideoState() {\n        return this.SEGMENT.getAttribute('js-segment__video--plaus');\n    }\n\n    pauseVideo() {\n        this.SEGMENT.setAttribute('js-segment__video--plaus', 'paused');\n        this.SEGMENT.querySelector('video').pause();\n    }\n\n    playVideo() {\n        this.SEGMENT.setAttribute('js-segment__video--plaus', 'playing');\n        this.SEGMENT.querySelector('video').play();\n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Segment);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGhlbHNpbmdib3JnLXN0YWQvc3R5bGVndWlkZS9zb3VyY2UvanMvc2VnbWVudC5qcz9lNTM5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUF3Qzs7QUFFeEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFZSxzRSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9AaGVsc2luZ2Jvcmctc3RhZC9zdHlsZWd1aWRlL3NvdXJjZS9qcy9zZWdtZW50LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYmdNYWdlbnRhQnJpZ2h0IH0gZnJvbSBcImNoYWxrXCI7XG5cbmNsYXNzIFNlZ21lbnQge1xuICAgIGNvbnN0cnVjdG9yKHNlZ21lbnQpIHtcbiAgICAgICAgdGhpcy5TRUdNRU5UID0gc2VnbWVudDtcblxuICAgICAgICB0aGlzLnZpZGVvSW50ZXJhY3Rpb25zKCk7XG4gICAgfVxuXG4gICAgdmlkZW9JbnRlcmFjdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IGJ0biA9IHRoaXMuU0VHTUVOVC5xdWVyeVNlbGVjdG9yKCdbanMtc2VnbWVudF9fdmlkZW8tLXBsYXVzXScpO1xuICAgICAgICBpZihidG4pIHtcbiAgICAgICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXRWaWRlb1N0YXRlKCkgPT09ICdwbGF5aW5nJyB8fCAhdGhpcy5nZXRWaWRlb1N0YXRlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXVzZVZpZGVvKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbGF5VmlkZW8oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0VmlkZW9TdGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuU0VHTUVOVC5nZXRBdHRyaWJ1dGUoJ2pzLXNlZ21lbnRfX3ZpZGVvLS1wbGF1cycpO1xuICAgIH1cblxuICAgIHBhdXNlVmlkZW8oKSB7XG4gICAgICAgIHRoaXMuU0VHTUVOVC5zZXRBdHRyaWJ1dGUoJ2pzLXNlZ21lbnRfX3ZpZGVvLS1wbGF1cycsICdwYXVzZWQnKTtcbiAgICAgICAgdGhpcy5TRUdNRU5ULnF1ZXJ5U2VsZWN0b3IoJ3ZpZGVvJykucGF1c2UoKTtcbiAgICB9XG5cbiAgICBwbGF5VmlkZW8oKSB7XG4gICAgICAgIHRoaXMuU0VHTUVOVC5zZXRBdHRyaWJ1dGUoJ2pzLXNlZ21lbnRfX3ZpZGVvLS1wbGF1cycsICdwbGF5aW5nJyk7XG4gICAgICAgIHRoaXMuU0VHTUVOVC5xdWVyeVNlbGVjdG9yKCd2aWRlbycpLnBsYXkoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNlZ21lbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@helsingborg-stad/styleguide/source/js/segment.js\n");

/***/ }),

/***/ "./node_modules/@helsingborg-stad/styleguide/source/js/sidebar.js":
/*!************************************************************************!*\
  !*** ./node_modules/@helsingborg-stad/styleguide/source/js/sidebar.js ***!
  \************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Sidebar; });\n__webpack_require__(/*! regenerator-runtime */ \"./node_modules/regenerator-runtime/runtime.js\");\n\nclass Sidebar {\n    constructor() {\n        this.ATTR = \"js-sidebar\";\n        this.EXPAND = \"c-sidebar__item--is-expanded\";\n        this.EXPANDABLE = \"c-sidebar__subcontainer\";\n        this.ACTIVE = \"item-active\";\n        this.TRIGGER = \"js-sidebar-trigger\";\n        this.SUBCONTAINER = \"c-sidebar__subcontainer\";\n        this.TOGGLE = \"c-sidebar__toggle\";\n        this.TOGGLE_TRIGGER = \"js-toggle-trigger\";\n        this.TOGGLE_ITEM = \"js-toggle-item\";\n        this.ITEM = \"c-sidebar__item\";\n        this.COLLAPSED = \"c-sidebar--collapsed\"\n    }\n\n    /**\n     * Finds all sidebars and applies appropriate classes and attributes on load\n     * @return {void}\n     */\n    applySidebar() {\n        const sb = document.querySelector(`[${this.ATTR}]`);\n\n        if (sb) {\n            const activeItems = sb.querySelectorAll(`[${this.ACTIVE}=\"true\"]`);\n\n            if (activeItems.length > 0) {\n                activeItems.forEach(item => {\n                    this.expandItem(item, sb);\n                });\n            }\n\n            this.addTriggers(sb);\n        }\n    }\n\n    /**\n     * Adds listeners to buttons\n     * @param {Object} sb The sidebar\n    */\n   addTriggers(sb) {\n        const sbTriggers = document.querySelectorAll(`[${this.TRIGGER}]`);\n\n        sbTriggers.forEach(btn => {\n            btn.addEventListener('click', e => {\n                sb.classList.toggle(`${this.COLLAPSED}`);\n            });\n        });\n    }\n\n    /**\n     * Expand current item\n     * @param {Object} item The current item to expand\n     */\n    expandItem(item, sb) {\n        if (item.closest(`.${this.SUBCONTAINER}`)) {\n            const id = this.getToggleId(item)\n                \n            const toggle = sb.querySelector(`[${this.TOGGLE_TRIGGER}=\"${id}\"]`)\n\n            toggle.setAttribute('aria-pressed', true);\n\n            this.addExpandClass(item);\n            this.expandItem(toggle, sb)\n        }\n    }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGhlbHNpbmdib3JnLXN0YWQvc3R5bGVndWlkZS9zb3VyY2UvanMvc2lkZWJhci5qcz9hNzM1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQSxtQkFBTyxDQUFDLDBFQUFxQjs7QUFFZDtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBLDhDQUE4QyxVQUFVOztBQUV4RDtBQUNBLHdEQUF3RCxZQUFZOztBQUVwRTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBLHlEQUF5RCxhQUFhOztBQUV0RTtBQUNBO0FBQ0EsdUNBQXVDLGVBQWU7QUFDdEQsYUFBYTtBQUNiLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0EsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQSw2QkFBNkIsa0JBQWtCO0FBQy9DOztBQUVBLGdEQUFnRCxvQkFBb0IsSUFBSSxHQUFHOztBQUUzRTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL0BoZWxzaW5nYm9yZy1zdGFkL3N0eWxlZ3VpZGUvc291cmNlL2pzL3NpZGViYXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKFwicmVnZW5lcmF0b3ItcnVudGltZVwiKTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2lkZWJhciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuQVRUUiA9IFwianMtc2lkZWJhclwiO1xuICAgICAgICB0aGlzLkVYUEFORCA9IFwiYy1zaWRlYmFyX19pdGVtLS1pcy1leHBhbmRlZFwiO1xuICAgICAgICB0aGlzLkVYUEFOREFCTEUgPSBcImMtc2lkZWJhcl9fc3ViY29udGFpbmVyXCI7XG4gICAgICAgIHRoaXMuQUNUSVZFID0gXCJpdGVtLWFjdGl2ZVwiO1xuICAgICAgICB0aGlzLlRSSUdHRVIgPSBcImpzLXNpZGViYXItdHJpZ2dlclwiO1xuICAgICAgICB0aGlzLlNVQkNPTlRBSU5FUiA9IFwiYy1zaWRlYmFyX19zdWJjb250YWluZXJcIjtcbiAgICAgICAgdGhpcy5UT0dHTEUgPSBcImMtc2lkZWJhcl9fdG9nZ2xlXCI7XG4gICAgICAgIHRoaXMuVE9HR0xFX1RSSUdHRVIgPSBcImpzLXRvZ2dsZS10cmlnZ2VyXCI7XG4gICAgICAgIHRoaXMuVE9HR0xFX0lURU0gPSBcImpzLXRvZ2dsZS1pdGVtXCI7XG4gICAgICAgIHRoaXMuSVRFTSA9IFwiYy1zaWRlYmFyX19pdGVtXCI7XG4gICAgICAgIHRoaXMuQ09MTEFQU0VEID0gXCJjLXNpZGViYXItLWNvbGxhcHNlZFwiXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmluZHMgYWxsIHNpZGViYXJzIGFuZCBhcHBsaWVzIGFwcHJvcHJpYXRlIGNsYXNzZXMgYW5kIGF0dHJpYnV0ZXMgb24gbG9hZFxuICAgICAqIEByZXR1cm4ge3ZvaWR9XG4gICAgICovXG4gICAgYXBwbHlTaWRlYmFyKCkge1xuICAgICAgICBjb25zdCBzYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFske3RoaXMuQVRUUn1dYCk7XG5cbiAgICAgICAgaWYgKHNiKSB7XG4gICAgICAgICAgICBjb25zdCBhY3RpdmVJdGVtcyA9IHNiLnF1ZXJ5U2VsZWN0b3JBbGwoYFske3RoaXMuQUNUSVZFfT1cInRydWVcIl1gKTtcblxuICAgICAgICAgICAgaWYgKGFjdGl2ZUl0ZW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBhY3RpdmVJdGVtcy5mb3JFYWNoKGl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmV4cGFuZEl0ZW0oaXRlbSwgc2IpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmFkZFRyaWdnZXJzKHNiKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgbGlzdGVuZXJzIHRvIGJ1dHRvbnNcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc2IgVGhlIHNpZGViYXJcbiAgICAqL1xuICAgYWRkVHJpZ2dlcnMoc2IpIHtcbiAgICAgICAgY29uc3Qgc2JUcmlnZ2VycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYFske3RoaXMuVFJJR0dFUn1dYCk7XG5cbiAgICAgICAgc2JUcmlnZ2Vycy5mb3JFYWNoKGJ0biA9PiB7XG4gICAgICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICAgICAgICAgICAgICBzYi5jbGFzc0xpc3QudG9nZ2xlKGAke3RoaXMuQ09MTEFQU0VEfWApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4cGFuZCBjdXJyZW50IGl0ZW1cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaXRlbSBUaGUgY3VycmVudCBpdGVtIHRvIGV4cGFuZFxuICAgICAqL1xuICAgIGV4cGFuZEl0ZW0oaXRlbSwgc2IpIHtcbiAgICAgICAgaWYgKGl0ZW0uY2xvc2VzdChgLiR7dGhpcy5TVUJDT05UQUlORVJ9YCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGlkID0gdGhpcy5nZXRUb2dnbGVJZChpdGVtKVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgdG9nZ2xlID0gc2IucXVlcnlTZWxlY3RvcihgWyR7dGhpcy5UT0dHTEVfVFJJR0dFUn09XCIke2lkfVwiXWApXG5cbiAgICAgICAgICAgIHRvZ2dsZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtcHJlc3NlZCcsIHRydWUpO1xuXG4gICAgICAgICAgICB0aGlzLmFkZEV4cGFuZENsYXNzKGl0ZW0pO1xuICAgICAgICAgICAgdGhpcy5leHBhbmRJdGVtKHRvZ2dsZSwgc2IpXG4gICAgICAgIH1cbiAgICB9XG59Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@helsingborg-stad/styleguide/source/js/sidebar.js\n");

/***/ }),

/***/ "./node_modules/@helsingborg-stad/styleguide/source/js/slider.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@helsingborg-stad/styleguide/source/js/slider.js ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Slider; });\n/* harmony import */ var _steppers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./steppers */ \"./node_modules/@helsingborg-stad/styleguide/source/js/steppers.js\");\n/* harmony import */ var _helpers_video__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./helpers/video */ \"./node_modules/@helsingborg-stad/styleguide/source/js/helpers/video.js\");\n/* eslint-disable no-unused-expressions */\n\n\n\n\nclass Slider {\n    constructor(slider) {\n        this.SLIDER     = slider;\n        this.SLIDE      = \"js-slider-slide\";\n        this.ATTR       = \"js-slider\";\n        this.BTN        = \"js-slider-btn\";\n        this.INDEX      = \"js-slider-index\";\n        this.INNER      = \"js-slider-inner\";\n        this.AUTOSLIDE  = \"js-slider__autoslide\";\n        this.REPEAT     = \"js-slider-repeat\";\n        this.STEP       = \"data-step\";\n        this.PAUSEHOVER = false;\n\n        this.StepperInstance = new _steppers__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n\n        if (this.getItemsLength() > 1) {\n            this.applySliders();\n            this.enableStepper();\n            this.handleSwipes();\n            this.fixTabbing();\n            \n            if(!(this.SLIDER.getAttribute(this.REPEAT))) {\n                this.noRepeat();\n            }\n\n            if(this.SLIDER.hasAttribute(this.AUTOSLIDE)) {\n                this.autoSlider();\n                this.autoSliderHoverHandler();\n            };\n        } else {\n            this.hideControls();\n        }\n\n        this.addVideoControls()\n    }\n\n    /**\n     * Finds all slides and attaches event listeners.\n     * @return {void}\n     */\n    applySliders() {\n        this.SLIDER.querySelectorAll(`[${this.BTN}]`).forEach((button) => {\n            button.addEventListener('click', (e) => {\n                this.clickedBtn(e);\n            });\n        })\n    }\n\n    /**\n     * Handles click on either next och previous button\n     * @param {Object} e The click event\n     */\n    clickedBtn(e) {  \n        let newIndex;\n\n        if (e.target.closest(\"button\").getAttribute(this.BTN) === 'prev') {\n            newIndex = this.prevIndex(this.getCurrentIndex(this.SLIDER))\n\n        } else if (e.target.closest(\"button\").getAttribute(this.BTN) === 'next') {\n            newIndex = this.nextIndex(this.getCurrentIndex(this.SLIDER))\n        }\n\n        this.updateSlider(newIndex);\n    }\n\n    /**\n     * Handles swipeEvents\n     */\n    handleSwipes() {\n        this.SLIDER.addEventListener('swipeLeft', (e) => {\n            let newIndex;\n            newIndex = this.nextIndex(this.getCurrentIndex(this.SLIDER));\n            this.updateSlider(newIndex);\n        })\n\n        this.SLIDER.addEventListener('swipeRight', (e) => {\n            let newIndex;\n            newIndex = this.prevIndex(this.getCurrentIndex(this.SLIDER));\n            this.updateSlider(newIndex);\n        })\n    }\n\n    updateSlider(newIndex) {\n        this.SLIDER.setAttribute(this.INDEX, newIndex);\n        this.SLIDER.setAttribute(this.STEP, newIndex);\n        this.updateStepper();\n        this.moveToIndex();\n        this.fixTabbing();\n\n        if(!(this.SLIDER.getAttribute(this.REPEAT))) {\n            this.noRepeat();\n        }\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    autoSlider() {\n        setTimeout(\n            () => {\n                if(!this.PAUSEHOVER) {\n                    this.updateSlider(this.nextIndex(this.getCurrentIndex(this.SLIDER)));\n                    \n                }\n                this.autoSlider();\n            }\n        , this.getAutoSliderDelay());\n    }\n\n    getAutoSliderDelay() {\n        return this.SLIDER.getAttribute(this.AUTOSLIDE) * 1000;\n    }\n\n    autoSliderHoverHandler () {\n        this.SLIDER.addEventListener('mouseenter', () => {\n            this.PAUSEHOVER = true\n        })\n\n        this.SLIDER.addEventListener('mouseleave', (e) => {\n            if (e.target === this.SLIDER) {\n                this.PAUSEHOVER = false\n            }\n        })\n    }\n\n    prevIndex(current) {\n        return current === 0 ? this.getItemsLength(this.SLIDER) -1 : current -1;\n    }\n\n    nextIndex(current) {\n        return current <= (this.getItemsLength(this.SLIDER) - 2) ? current +1 : 0;\n    }\n\n    /**\n     * Sets the appropriate styling to slide to the requested slide\n     */\n    moveToIndex() {\n        /* eslint-disable-next-line */\n        this.SLIDER.querySelector(`[${this.INNER}]`).style.transform =\n            `translateX(-${this.SLIDER.getAttribute(this.INDEX)}00%)`;\n    }\n\n    /**\n     * Returns the current index of the slider component\n     * @return {Int} The current index\n     */\n    getCurrentIndex() {\n        return parseInt(this.SLIDER.getAttribute(this.INDEX), 10)\n    }\n\n    /**\n     * Returns how many slides are present inside the the slider.\n     * Starts at 1.\n     * @return {Int} The amount of slides\n     */\n    getItemsLength() {\n        return this.SLIDER.querySelectorAll(`[${this.SLIDE}]`).length\n    }\n\n    updateStepper() {\n        const stepper = this.SLIDER.querySelector('[js-slider__stepper]');\n        const currentActive = stepper.querySelector(`.c-slider__dot--active`)\n        \n        if(currentActive) {\n            currentActive.classList.remove('c-slider__dot--active');\n        }\n\n        const dot = stepper.querySelector(`[js-slider__stepper__dot=\"${this.getCurrentIndex() ? this.getCurrentIndex() : 0}\"]`);\n        dot.classList.add('c-slider__dot--active')\n\n    }\n\n    enableStepper() {\n        const stepper = this.SLIDER.querySelector('[js-slider__stepper]');\n        const dot = stepper.querySelector('.c-slider__dot');\n\n        stepper.setAttribute('js-slider__stepper__current', 1)\n        stepper.innerHTML = \"\"\n\n        for (let index = 0; index < this.getItemsLength(); index++) {\n            const clone = dot.cloneNode();\n            clone.setAttribute('js-slider__stepper__dot', index)\n            stepper.appendChild(clone)\n        }\n\n        this.addStepperEvent()\n\n        this.updateStepper();\n    }\n\n    addStepperEvent() {\n        const stepper = this.SLIDER.querySelector('[js-slider__stepper]');\n\n        stepper.querySelectorAll(`[js-slider__stepper__dot]`).forEach((dot) => {\n            dot.addEventListener('click', (e) => {\n                this.updateSlider(e.target.getAttribute('js-slider__stepper__dot'))\n            });\n        })\n    }\n\n    /**\n     * Removes controls\n     * @return {Void}\n     */\n    hideControls() {\n        const controls = this.SLIDER.querySelectorAll('.c-slider__button');\n\n        this.SLIDER.querySelector('[js-slider__stepper]').remove();\n\n        controls.forEach(control => {\n            control.remove();\n        });\n    }\n\n    /**\n     * Adds the appropriate tabindex's to not breaking slider when tabbing through site\n     * @return {Void}\n     */\n    fixTabbing() {\n        const slideElements = [...this.SLIDER.querySelector(`[${this.INNER}]`).children];\n        const tabTargets = [\n            'button',\n            'video',\n            'input',\n            'textarea'\n        ];\n\n        slideElements.forEach((elm) => {\n            tabTargets.forEach((item) => {\n                elm.querySelectorAll(item).forEach((tabElm) => {\n                    tabElm.setAttribute('tabindex', '-1');\n                })\n            })\n        })\n\n        slideElements[this.getCurrentIndex()].querySelectorAll('[tabindex]').forEach(elm => {\n            elm.removeAttribute(\"tabindex\");\n        })\n    }\n\n    noRepeat() {\n        let next = this.SLIDER.querySelector(`[${this.BTN}=\"next\"]`);\n        let prev = this.SLIDER.querySelector(`[${this.BTN}=\"prev\"]`);\n        \n        next.classList.remove('u-display--none');\n        prev.classList.remove('u-display--none');\n\n        if (this.getCurrentIndex() == (this.getItemsLength() -1)) {\n            next.classList.add('u-display--none');\n            return;\n        }\n        \n        if (this.getCurrentIndex() == 0) {\n            prev.classList.add('u-display--none');\n            return;\n        }\n    }\n\n    addVideoControls() {\n        this.SLIDER.querySelectorAll('[js-slider-slide]').forEach((slide) => {\n            if(slide.querySelectorAll('video').length > 0) {\n                const player = new _helpers_video__WEBPACK_IMPORTED_MODULE_1__[\"default\"](slide);\n            }\n        })\n    }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGhlbHNpbmdib3JnLXN0YWQvc3R5bGVndWlkZS9zb3VyY2UvanMvc2xpZGVyLmpzP2FmM2UiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFFa0M7QUFDVTs7QUFFN0I7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLG1DQUFtQyxpREFBUTs7QUFFM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBLHlDQUF5QyxTQUFTO0FBQ2xEO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQSxlQUFlLE9BQU87QUFDdEI7QUFDQSxtQjtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7O0FBRVQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLFdBQVc7QUFDakQsMkJBQTJCLHFDQUFxQztBQUNoRTs7QUFFQTtBQUNBO0FBQ0EsZ0JBQWdCLElBQUk7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLElBQUk7QUFDcEI7QUFDQTtBQUNBLGdEQUFnRCxXQUFXO0FBQzNEOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsdUVBQXVFLG9EQUFvRDtBQUMzSDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSwyQkFBMkIsK0JBQStCO0FBQzFEO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0EsZ0VBQWdFLFdBQVc7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYixTQUFTOztBQUVUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQSxpREFBaUQsU0FBUztBQUMxRCxpREFBaUQsU0FBUzs7QUFFMUQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxzREFBYTtBQUNoRDtBQUNBLFNBQVM7QUFDVDtBQUNBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL0BoZWxzaW5nYm9yZy1zdGFkL3N0eWxlZ3VpZGUvc291cmNlL2pzL3NsaWRlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC1leHByZXNzaW9ucyAqL1xuXG5pbXBvcnQgU3RlcHBlcnMgZnJvbSBcIi4vc3RlcHBlcnNcIjtcbmltcG9ydCBWaWRlb0NvbnRyb2xzIGZyb20gXCIuL2hlbHBlcnMvdmlkZW9cIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2xpZGVyIHtcbiAgICBjb25zdHJ1Y3RvcihzbGlkZXIpIHtcbiAgICAgICAgdGhpcy5TTElERVIgICAgID0gc2xpZGVyO1xuICAgICAgICB0aGlzLlNMSURFICAgICAgPSBcImpzLXNsaWRlci1zbGlkZVwiO1xuICAgICAgICB0aGlzLkFUVFIgICAgICAgPSBcImpzLXNsaWRlclwiO1xuICAgICAgICB0aGlzLkJUTiAgICAgICAgPSBcImpzLXNsaWRlci1idG5cIjtcbiAgICAgICAgdGhpcy5JTkRFWCAgICAgID0gXCJqcy1zbGlkZXItaW5kZXhcIjtcbiAgICAgICAgdGhpcy5JTk5FUiAgICAgID0gXCJqcy1zbGlkZXItaW5uZXJcIjtcbiAgICAgICAgdGhpcy5BVVRPU0xJREUgID0gXCJqcy1zbGlkZXJfX2F1dG9zbGlkZVwiO1xuICAgICAgICB0aGlzLlJFUEVBVCAgICAgPSBcImpzLXNsaWRlci1yZXBlYXRcIjtcbiAgICAgICAgdGhpcy5TVEVQICAgICAgID0gXCJkYXRhLXN0ZXBcIjtcbiAgICAgICAgdGhpcy5QQVVTRUhPVkVSID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5TdGVwcGVySW5zdGFuY2UgPSBuZXcgU3RlcHBlcnM7XG5cbiAgICAgICAgaWYgKHRoaXMuZ2V0SXRlbXNMZW5ndGgoKSA+IDEpIHtcbiAgICAgICAgICAgIHRoaXMuYXBwbHlTbGlkZXJzKCk7XG4gICAgICAgICAgICB0aGlzLmVuYWJsZVN0ZXBwZXIoKTtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlU3dpcGVzKCk7XG4gICAgICAgICAgICB0aGlzLmZpeFRhYmJpbmcoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYoISh0aGlzLlNMSURFUi5nZXRBdHRyaWJ1dGUodGhpcy5SRVBFQVQpKSkge1xuICAgICAgICAgICAgICAgIHRoaXMubm9SZXBlYXQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYodGhpcy5TTElERVIuaGFzQXR0cmlidXRlKHRoaXMuQVVUT1NMSURFKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYXV0b1NsaWRlcigpO1xuICAgICAgICAgICAgICAgIHRoaXMuYXV0b1NsaWRlckhvdmVySGFuZGxlcigpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaGlkZUNvbnRyb2xzKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFkZFZpZGVvQ29udHJvbHMoKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbmRzIGFsbCBzbGlkZXMgYW5kIGF0dGFjaGVzIGV2ZW50IGxpc3RlbmVycy5cbiAgICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgICAqL1xuICAgIGFwcGx5U2xpZGVycygpIHtcbiAgICAgICAgdGhpcy5TTElERVIucXVlcnlTZWxlY3RvckFsbChgWyR7dGhpcy5CVE59XWApLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsaWNrZWRCdG4oZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIGNsaWNrIG9uIGVpdGhlciBuZXh0IG9jaCBwcmV2aW91cyBidXR0b25cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gZSBUaGUgY2xpY2sgZXZlbnRcbiAgICAgKi9cbiAgICBjbGlja2VkQnRuKGUpIHsgIFxuICAgICAgICBsZXQgbmV3SW5kZXg7XG5cbiAgICAgICAgaWYgKGUudGFyZ2V0LmNsb3Nlc3QoXCJidXR0b25cIikuZ2V0QXR0cmlidXRlKHRoaXMuQlROKSA9PT0gJ3ByZXYnKSB7XG4gICAgICAgICAgICBuZXdJbmRleCA9IHRoaXMucHJldkluZGV4KHRoaXMuZ2V0Q3VycmVudEluZGV4KHRoaXMuU0xJREVSKSlcblxuICAgICAgICB9IGVsc2UgaWYgKGUudGFyZ2V0LmNsb3Nlc3QoXCJidXR0b25cIikuZ2V0QXR0cmlidXRlKHRoaXMuQlROKSA9PT0gJ25leHQnKSB7XG4gICAgICAgICAgICBuZXdJbmRleCA9IHRoaXMubmV4dEluZGV4KHRoaXMuZ2V0Q3VycmVudEluZGV4KHRoaXMuU0xJREVSKSlcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudXBkYXRlU2xpZGVyKG5ld0luZGV4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIHN3aXBlRXZlbnRzXG4gICAgICovXG4gICAgaGFuZGxlU3dpcGVzKCkge1xuICAgICAgICB0aGlzLlNMSURFUi5hZGRFdmVudExpc3RlbmVyKCdzd2lwZUxlZnQnLCAoZSkgPT4ge1xuICAgICAgICAgICAgbGV0IG5ld0luZGV4O1xuICAgICAgICAgICAgbmV3SW5kZXggPSB0aGlzLm5leHRJbmRleCh0aGlzLmdldEN1cnJlbnRJbmRleCh0aGlzLlNMSURFUikpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTbGlkZXIobmV3SW5kZXgpO1xuICAgICAgICB9KVxuXG4gICAgICAgIHRoaXMuU0xJREVSLmFkZEV2ZW50TGlzdGVuZXIoJ3N3aXBlUmlnaHQnLCAoZSkgPT4ge1xuICAgICAgICAgICAgbGV0IG5ld0luZGV4O1xuICAgICAgICAgICAgbmV3SW5kZXggPSB0aGlzLnByZXZJbmRleCh0aGlzLmdldEN1cnJlbnRJbmRleCh0aGlzLlNMSURFUikpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVTbGlkZXIobmV3SW5kZXgpO1xuICAgICAgICB9KVxuICAgIH1cblxuICAgIHVwZGF0ZVNsaWRlcihuZXdJbmRleCkge1xuICAgICAgICB0aGlzLlNMSURFUi5zZXRBdHRyaWJ1dGUodGhpcy5JTkRFWCwgbmV3SW5kZXgpO1xuICAgICAgICB0aGlzLlNMSURFUi5zZXRBdHRyaWJ1dGUodGhpcy5TVEVQLCBuZXdJbmRleCk7XG4gICAgICAgIHRoaXMudXBkYXRlU3RlcHBlcigpO1xuICAgICAgICB0aGlzLm1vdmVUb0luZGV4KCk7XG4gICAgICAgIHRoaXMuZml4VGFiYmluZygpO1xuXG4gICAgICAgIGlmKCEodGhpcy5TTElERVIuZ2V0QXR0cmlidXRlKHRoaXMuUkVQRUFUKSkpIHtcbiAgICAgICAgICAgIHRoaXMubm9SZXBlYXQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzXG4gICAgYXV0b1NsaWRlcigpIHtcbiAgICAgICAgc2V0VGltZW91dChcbiAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZighdGhpcy5QQVVTRUhPVkVSKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU2xpZGVyKHRoaXMubmV4dEluZGV4KHRoaXMuZ2V0Q3VycmVudEluZGV4KHRoaXMuU0xJREVSKSkpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5hdXRvU2xpZGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICwgdGhpcy5nZXRBdXRvU2xpZGVyRGVsYXkoKSk7XG4gICAgfVxuXG4gICAgZ2V0QXV0b1NsaWRlckRlbGF5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5TTElERVIuZ2V0QXR0cmlidXRlKHRoaXMuQVVUT1NMSURFKSAqIDEwMDA7XG4gICAgfVxuXG4gICAgYXV0b1NsaWRlckhvdmVySGFuZGxlciAoKSB7XG4gICAgICAgIHRoaXMuU0xJREVSLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLlBBVVNFSE9WRVIgPSB0cnVlXG4gICAgICAgIH0pXG5cbiAgICAgICAgdGhpcy5TTElERVIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsIChlKSA9PiB7XG4gICAgICAgICAgICBpZiAoZS50YXJnZXQgPT09IHRoaXMuU0xJREVSKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5QQVVTRUhPVkVSID0gZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBwcmV2SW5kZXgoY3VycmVudCkge1xuICAgICAgICByZXR1cm4gY3VycmVudCA9PT0gMCA/IHRoaXMuZ2V0SXRlbXNMZW5ndGgodGhpcy5TTElERVIpIC0xIDogY3VycmVudCAtMTtcbiAgICB9XG5cbiAgICBuZXh0SW5kZXgoY3VycmVudCkge1xuICAgICAgICByZXR1cm4gY3VycmVudCA8PSAodGhpcy5nZXRJdGVtc0xlbmd0aCh0aGlzLlNMSURFUikgLSAyKSA/IGN1cnJlbnQgKzEgOiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGFwcHJvcHJpYXRlIHN0eWxpbmcgdG8gc2xpZGUgdG8gdGhlIHJlcXVlc3RlZCBzbGlkZVxuICAgICAqL1xuICAgIG1vdmVUb0luZGV4KCkge1xuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgKi9cbiAgICAgICAgdGhpcy5TTElERVIucXVlcnlTZWxlY3RvcihgWyR7dGhpcy5JTk5FUn1dYCkuc3R5bGUudHJhbnNmb3JtID1cbiAgICAgICAgICAgIGB0cmFuc2xhdGVYKC0ke3RoaXMuU0xJREVSLmdldEF0dHJpYnV0ZSh0aGlzLklOREVYKX0wMCUpYDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IGluZGV4IG9mIHRoZSBzbGlkZXIgY29tcG9uZW50XG4gICAgICogQHJldHVybiB7SW50fSBUaGUgY3VycmVudCBpbmRleFxuICAgICAqL1xuICAgIGdldEN1cnJlbnRJbmRleCgpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KHRoaXMuU0xJREVSLmdldEF0dHJpYnV0ZSh0aGlzLklOREVYKSwgMTApXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBob3cgbWFueSBzbGlkZXMgYXJlIHByZXNlbnQgaW5zaWRlIHRoZSB0aGUgc2xpZGVyLlxuICAgICAqIFN0YXJ0cyBhdCAxLlxuICAgICAqIEByZXR1cm4ge0ludH0gVGhlIGFtb3VudCBvZiBzbGlkZXNcbiAgICAgKi9cbiAgICBnZXRJdGVtc0xlbmd0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuU0xJREVSLnF1ZXJ5U2VsZWN0b3JBbGwoYFske3RoaXMuU0xJREV9XWApLmxlbmd0aFxuICAgIH1cblxuICAgIHVwZGF0ZVN0ZXBwZXIoKSB7XG4gICAgICAgIGNvbnN0IHN0ZXBwZXIgPSB0aGlzLlNMSURFUi5xdWVyeVNlbGVjdG9yKCdbanMtc2xpZGVyX19zdGVwcGVyXScpO1xuICAgICAgICBjb25zdCBjdXJyZW50QWN0aXZlID0gc3RlcHBlci5xdWVyeVNlbGVjdG9yKGAuYy1zbGlkZXJfX2RvdC0tYWN0aXZlYClcbiAgICAgICAgXG4gICAgICAgIGlmKGN1cnJlbnRBY3RpdmUpIHtcbiAgICAgICAgICAgIGN1cnJlbnRBY3RpdmUuY2xhc3NMaXN0LnJlbW92ZSgnYy1zbGlkZXJfX2RvdC0tYWN0aXZlJyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBkb3QgPSBzdGVwcGVyLnF1ZXJ5U2VsZWN0b3IoYFtqcy1zbGlkZXJfX3N0ZXBwZXJfX2RvdD1cIiR7dGhpcy5nZXRDdXJyZW50SW5kZXgoKSA/IHRoaXMuZ2V0Q3VycmVudEluZGV4KCkgOiAwfVwiXWApO1xuICAgICAgICBkb3QuY2xhc3NMaXN0LmFkZCgnYy1zbGlkZXJfX2RvdC0tYWN0aXZlJylcblxuICAgIH1cblxuICAgIGVuYWJsZVN0ZXBwZXIoKSB7XG4gICAgICAgIGNvbnN0IHN0ZXBwZXIgPSB0aGlzLlNMSURFUi5xdWVyeVNlbGVjdG9yKCdbanMtc2xpZGVyX19zdGVwcGVyXScpO1xuICAgICAgICBjb25zdCBkb3QgPSBzdGVwcGVyLnF1ZXJ5U2VsZWN0b3IoJy5jLXNsaWRlcl9fZG90Jyk7XG5cbiAgICAgICAgc3RlcHBlci5zZXRBdHRyaWJ1dGUoJ2pzLXNsaWRlcl9fc3RlcHBlcl9fY3VycmVudCcsIDEpXG4gICAgICAgIHN0ZXBwZXIuaW5uZXJIVE1MID0gXCJcIlxuXG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLmdldEl0ZW1zTGVuZ3RoKCk7IGluZGV4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IGNsb25lID0gZG90LmNsb25lTm9kZSgpO1xuICAgICAgICAgICAgY2xvbmUuc2V0QXR0cmlidXRlKCdqcy1zbGlkZXJfX3N0ZXBwZXJfX2RvdCcsIGluZGV4KVxuICAgICAgICAgICAgc3RlcHBlci5hcHBlbmRDaGlsZChjbG9uZSlcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYWRkU3RlcHBlckV2ZW50KClcblxuICAgICAgICB0aGlzLnVwZGF0ZVN0ZXBwZXIoKTtcbiAgICB9XG5cbiAgICBhZGRTdGVwcGVyRXZlbnQoKSB7XG4gICAgICAgIGNvbnN0IHN0ZXBwZXIgPSB0aGlzLlNMSURFUi5xdWVyeVNlbGVjdG9yKCdbanMtc2xpZGVyX19zdGVwcGVyXScpO1xuXG4gICAgICAgIHN0ZXBwZXIucXVlcnlTZWxlY3RvckFsbChgW2pzLXNsaWRlcl9fc3RlcHBlcl9fZG90XWApLmZvckVhY2goKGRvdCkgPT4ge1xuICAgICAgICAgICAgZG90LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVNsaWRlcihlLnRhcmdldC5nZXRBdHRyaWJ1dGUoJ2pzLXNsaWRlcl9fc3RlcHBlcl9fZG90JykpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGNvbnRyb2xzXG4gICAgICogQHJldHVybiB7Vm9pZH1cbiAgICAgKi9cbiAgICBoaWRlQ29udHJvbHMoKSB7XG4gICAgICAgIGNvbnN0IGNvbnRyb2xzID0gdGhpcy5TTElERVIucXVlcnlTZWxlY3RvckFsbCgnLmMtc2xpZGVyX19idXR0b24nKTtcblxuICAgICAgICB0aGlzLlNMSURFUi5xdWVyeVNlbGVjdG9yKCdbanMtc2xpZGVyX19zdGVwcGVyXScpLnJlbW92ZSgpO1xuXG4gICAgICAgIGNvbnRyb2xzLmZvckVhY2goY29udHJvbCA9PiB7XG4gICAgICAgICAgICBjb250cm9sLnJlbW92ZSgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIHRoZSBhcHByb3ByaWF0ZSB0YWJpbmRleCdzIHRvIG5vdCBicmVha2luZyBzbGlkZXIgd2hlbiB0YWJiaW5nIHRocm91Z2ggc2l0ZVxuICAgICAqIEByZXR1cm4ge1ZvaWR9XG4gICAgICovXG4gICAgZml4VGFiYmluZygpIHtcbiAgICAgICAgY29uc3Qgc2xpZGVFbGVtZW50cyA9IFsuLi50aGlzLlNMSURFUi5xdWVyeVNlbGVjdG9yKGBbJHt0aGlzLklOTkVSfV1gKS5jaGlsZHJlbl07XG4gICAgICAgIGNvbnN0IHRhYlRhcmdldHMgPSBbXG4gICAgICAgICAgICAnYnV0dG9uJyxcbiAgICAgICAgICAgICd2aWRlbycsXG4gICAgICAgICAgICAnaW5wdXQnLFxuICAgICAgICAgICAgJ3RleHRhcmVhJ1xuICAgICAgICBdO1xuXG4gICAgICAgIHNsaWRlRWxlbWVudHMuZm9yRWFjaCgoZWxtKSA9PiB7XG4gICAgICAgICAgICB0YWJUYXJnZXRzLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgICAgICAgICAgICBlbG0ucXVlcnlTZWxlY3RvckFsbChpdGVtKS5mb3JFYWNoKCh0YWJFbG0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGFiRWxtLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnLTEnKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcblxuICAgICAgICBzbGlkZUVsZW1lbnRzW3RoaXMuZ2V0Q3VycmVudEluZGV4KCldLnF1ZXJ5U2VsZWN0b3JBbGwoJ1t0YWJpbmRleF0nKS5mb3JFYWNoKGVsbSA9PiB7XG4gICAgICAgICAgICBlbG0ucmVtb3ZlQXR0cmlidXRlKFwidGFiaW5kZXhcIik7XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgbm9SZXBlYXQoKSB7XG4gICAgICAgIGxldCBuZXh0ID0gdGhpcy5TTElERVIucXVlcnlTZWxlY3RvcihgWyR7dGhpcy5CVE59PVwibmV4dFwiXWApO1xuICAgICAgICBsZXQgcHJldiA9IHRoaXMuU0xJREVSLnF1ZXJ5U2VsZWN0b3IoYFske3RoaXMuQlROfT1cInByZXZcIl1gKTtcbiAgICAgICAgXG4gICAgICAgIG5leHQuY2xhc3NMaXN0LnJlbW92ZSgndS1kaXNwbGF5LS1ub25lJyk7XG4gICAgICAgIHByZXYuY2xhc3NMaXN0LnJlbW92ZSgndS1kaXNwbGF5LS1ub25lJyk7XG5cbiAgICAgICAgaWYgKHRoaXMuZ2V0Q3VycmVudEluZGV4KCkgPT0gKHRoaXMuZ2V0SXRlbXNMZW5ndGgoKSAtMSkpIHtcbiAgICAgICAgICAgIG5leHQuY2xhc3NMaXN0LmFkZCgndS1kaXNwbGF5LS1ub25lJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGlmICh0aGlzLmdldEN1cnJlbnRJbmRleCgpID09IDApIHtcbiAgICAgICAgICAgIHByZXYuY2xhc3NMaXN0LmFkZCgndS1kaXNwbGF5LS1ub25lJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhZGRWaWRlb0NvbnRyb2xzKCkge1xuICAgICAgICB0aGlzLlNMSURFUi5xdWVyeVNlbGVjdG9yQWxsKCdbanMtc2xpZGVyLXNsaWRlXScpLmZvckVhY2goKHNsaWRlKSA9PiB7XG4gICAgICAgICAgICBpZihzbGlkZS5xdWVyeVNlbGVjdG9yQWxsKCd2aWRlbycpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXIgPSBuZXcgVmlkZW9Db250cm9scyhzbGlkZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@helsingborg-stad/styleguide/source/js/slider.js\n");

/***/ }),

/***/ "./node_modules/@helsingborg-stad/styleguide/source/js/sort.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@helsingborg-stad/styleguide/source/js/sort.js ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\nclass Sort {\n\n    constructor() {\n        this.CONTAINER = 'js-sort-container';\n        this.BUTTON = 'js-sort-button';\n        this.SORTABLE = 'js-sort-sortable';\n        this.ORDER = 'js-sort-order';\n        this.DATA = 'js-sort-data';\n        this.DATACONTAINER = 'js-sort-data-container';\n        this.INITIAL = 'js-sort-initial';\n    }\n\n    compare(a, b) {\n        return a.data.toLowerCase().localeCompare(b.data.toLowerCase());\n    }\n\n    appendSortable(container, dataId, initialSort = false) {\n        let sorted = [];\n        let sortOrder = container.getAttribute(this.ORDER);\n        let sortData = container.querySelectorAll(`[${this.DATA}=\"${dataId}\"]`);\n        let comparableData = [...sortData].map((data) => {\n            return { data: data.innerText, index: data.closest(`[${this.SORTABLE}]`) }\n        });\n        \n        if (sortOrder === 'asc' || (initialSort && initialSort === 'asc')) {\n            sorted = comparableData.sort(this.compare);\n            container.setAttribute(this.ORDER, \"desc\");\n        } else if(initialSort && initialSort === 'desc') {\n            comparableData.sort(this.compare);\n            sorted = comparableData.reverse(this.compare);\n            container.setAttribute(this.ORDER, 'asc');\n        } else {\n            sorted = comparableData.reverse(this.compare);\n            container.setAttribute(this.ORDER, \"asc\");\n        }\n\n        sorted.forEach(sort => {\n            sort.index.closest(`[${this.DATACONTAINER}]`).appendChild(sort.index);\n        });\n    }\n\n    applySort() {\n        const sortContainers = document.querySelectorAll(`[${this.CONTAINER}]`);\n\n        sortContainers.forEach(container => {\n            const sortButtons = container.querySelectorAll(`[${this.BUTTON}]`);\n            sortButtons.forEach((button) => {\n\n                let dataId = button.getAttribute(this.BUTTON);\n                let initialSort = container.getAttribute(this.INITIAL)\n\n                if(initialSort){\n                    container.setAttribute(this.ORDER, initialSort)\n                    this.appendSortable(container, dataId, initialSort);\n                }\n                button.addEventListener('click', (event) => {\n                    this.appendSortable(container, dataId);\n                });\n            });\n        });\n    }\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Sort);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGhlbHNpbmdib3JnLXN0YWQvc3R5bGVndWlkZS9zb3VyY2UvanMvc29ydC5qcz85MWNjIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsVUFBVSxJQUFJLE9BQU87QUFDM0U7QUFDQSxvQkFBb0IsK0NBQStDLGNBQWM7QUFDakYsU0FBUzs7QUFFVDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG1DQUFtQyxtQkFBbUI7QUFDdEQsU0FBUztBQUNUOztBQUVBO0FBQ0EsNkRBQTZELGVBQWU7O0FBRTVFO0FBQ0EsK0RBQStELFlBQVk7QUFDM0U7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiLFNBQVM7QUFDVDs7QUFFQTs7QUFFZSxtRUFBSSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9AaGVsc2luZ2Jvcmctc3RhZC9zdHlsZWd1aWRlL3NvdXJjZS9qcy9zb3J0LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXG5jbGFzcyBTb3J0IHtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLkNPTlRBSU5FUiA9ICdqcy1zb3J0LWNvbnRhaW5lcic7XG4gICAgICAgIHRoaXMuQlVUVE9OID0gJ2pzLXNvcnQtYnV0dG9uJztcbiAgICAgICAgdGhpcy5TT1JUQUJMRSA9ICdqcy1zb3J0LXNvcnRhYmxlJztcbiAgICAgICAgdGhpcy5PUkRFUiA9ICdqcy1zb3J0LW9yZGVyJztcbiAgICAgICAgdGhpcy5EQVRBID0gJ2pzLXNvcnQtZGF0YSc7XG4gICAgICAgIHRoaXMuREFUQUNPTlRBSU5FUiA9ICdqcy1zb3J0LWRhdGEtY29udGFpbmVyJztcbiAgICAgICAgdGhpcy5JTklUSUFMID0gJ2pzLXNvcnQtaW5pdGlhbCc7XG4gICAgfVxuXG4gICAgY29tcGFyZShhLCBiKSB7XG4gICAgICAgIHJldHVybiBhLmRhdGEudG9Mb3dlckNhc2UoKS5sb2NhbGVDb21wYXJlKGIuZGF0YS50b0xvd2VyQ2FzZSgpKTtcbiAgICB9XG5cbiAgICBhcHBlbmRTb3J0YWJsZShjb250YWluZXIsIGRhdGFJZCwgaW5pdGlhbFNvcnQgPSBmYWxzZSkge1xuICAgICAgICBsZXQgc29ydGVkID0gW107XG4gICAgICAgIGxldCBzb3J0T3JkZXIgPSBjb250YWluZXIuZ2V0QXR0cmlidXRlKHRoaXMuT1JERVIpO1xuICAgICAgICBsZXQgc29ydERhdGEgPSBjb250YWluZXIucXVlcnlTZWxlY3RvckFsbChgWyR7dGhpcy5EQVRBfT1cIiR7ZGF0YUlkfVwiXWApO1xuICAgICAgICBsZXQgY29tcGFyYWJsZURhdGEgPSBbLi4uc29ydERhdGFdLm1hcCgoZGF0YSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHsgZGF0YTogZGF0YS5pbm5lclRleHQsIGluZGV4OiBkYXRhLmNsb3Nlc3QoYFske3RoaXMuU09SVEFCTEV9XWApIH1cbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBpZiAoc29ydE9yZGVyID09PSAnYXNjJyB8fCAoaW5pdGlhbFNvcnQgJiYgaW5pdGlhbFNvcnQgPT09ICdhc2MnKSkge1xuICAgICAgICAgICAgc29ydGVkID0gY29tcGFyYWJsZURhdGEuc29ydCh0aGlzLmNvbXBhcmUpO1xuICAgICAgICAgICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZSh0aGlzLk9SREVSLCBcImRlc2NcIik7XG4gICAgICAgIH0gZWxzZSBpZihpbml0aWFsU29ydCAmJiBpbml0aWFsU29ydCA9PT0gJ2Rlc2MnKSB7XG4gICAgICAgICAgICBjb21wYXJhYmxlRGF0YS5zb3J0KHRoaXMuY29tcGFyZSk7XG4gICAgICAgICAgICBzb3J0ZWQgPSBjb21wYXJhYmxlRGF0YS5yZXZlcnNlKHRoaXMuY29tcGFyZSk7XG4gICAgICAgICAgICBjb250YWluZXIuc2V0QXR0cmlidXRlKHRoaXMuT1JERVIsICdhc2MnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNvcnRlZCA9IGNvbXBhcmFibGVEYXRhLnJldmVyc2UodGhpcy5jb21wYXJlKTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUodGhpcy5PUkRFUiwgXCJhc2NcIik7XG4gICAgICAgIH1cblxuICAgICAgICBzb3J0ZWQuZm9yRWFjaChzb3J0ID0+IHtcbiAgICAgICAgICAgIHNvcnQuaW5kZXguY2xvc2VzdChgWyR7dGhpcy5EQVRBQ09OVEFJTkVSfV1gKS5hcHBlbmRDaGlsZChzb3J0LmluZGV4KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYXBwbHlTb3J0KCkge1xuICAgICAgICBjb25zdCBzb3J0Q29udGFpbmVycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYFske3RoaXMuQ09OVEFJTkVSfV1gKTtcblxuICAgICAgICBzb3J0Q29udGFpbmVycy5mb3JFYWNoKGNvbnRhaW5lciA9PiB7XG4gICAgICAgICAgICBjb25zdCBzb3J0QnV0dG9ucyA9IGNvbnRhaW5lci5xdWVyeVNlbGVjdG9yQWxsKGBbJHt0aGlzLkJVVFRPTn1dYCk7XG4gICAgICAgICAgICBzb3J0QnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcblxuICAgICAgICAgICAgICAgIGxldCBkYXRhSWQgPSBidXR0b24uZ2V0QXR0cmlidXRlKHRoaXMuQlVUVE9OKTtcbiAgICAgICAgICAgICAgICBsZXQgaW5pdGlhbFNvcnQgPSBjb250YWluZXIuZ2V0QXR0cmlidXRlKHRoaXMuSU5JVElBTClcblxuICAgICAgICAgICAgICAgIGlmKGluaXRpYWxTb3J0KXtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZSh0aGlzLk9SREVSLCBpbml0aWFsU29ydClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHBlbmRTb3J0YWJsZShjb250YWluZXIsIGRhdGFJZCwgaW5pdGlhbFNvcnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHBlbmRTb3J0YWJsZShjb250YWluZXIsIGRhdGFJZCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IFNvcnQ7Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@helsingborg-stad/styleguide/source/js/sort.js\n");

/***/ }),

/***/ "./node_modules/@helsingborg-stad/styleguide/source/js/splitButton.js":
/*!****************************************************************************!*\
  !*** ./node_modules/@helsingborg-stad/styleguide/source/js/splitButton.js ***!
  \****************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nclass SplitButton{\n    constructor(){\n        this.SPLIT = 'js-split';\n        this.DROPDOWNLISTVISIBLE = 'c-dropdown__list--visible';\n    }\n\n    syncSplitButton(){\n        const splitButtons = document.querySelectorAll(`[${this.SPLIT}]`);\n\n\n        splitButtons.forEach((splitButton)=> {\n            let buttons = splitButton.getElementsByClassName('c-button');\n            let actionButton = buttons[0];\n            let dropDownList = splitButton.getElementsByClassName('c-dropdown__list')[0];\n            let listItems = dropDownList.getElementsByTagName('li');\n\n            for(let item of listItems){\n                item.addEventListener('click', () => {\n                    actionButton.innerText = item.innerText;\n                }) \n            }   \n        });\n        \n        \n    }\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (SplitButton);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGhlbHNpbmdib3JnLXN0YWQvc3R5bGVndWlkZS9zb3VyY2UvanMvc3BsaXRCdXR0b24uanM/MDc4MSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSwyREFBMkQsV0FBVzs7O0FBR3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGE7QUFDQSxTQUFTOzs7QUFHVDtBQUNBOztBQUVlLDBFQUFXIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL0BoZWxzaW5nYm9yZy1zdGFkL3N0eWxlZ3VpZGUvc291cmNlL2pzL3NwbGl0QnV0dG9uLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgU3BsaXRCdXR0b257XG4gICAgY29uc3RydWN0b3IoKXtcbiAgICAgICAgdGhpcy5TUExJVCA9ICdqcy1zcGxpdCc7XG4gICAgICAgIHRoaXMuRFJPUERPV05MSVNUVklTSUJMRSA9ICdjLWRyb3Bkb3duX19saXN0LS12aXNpYmxlJztcbiAgICB9XG5cbiAgICBzeW5jU3BsaXRCdXR0b24oKXtcbiAgICAgICAgY29uc3Qgc3BsaXRCdXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChgWyR7dGhpcy5TUExJVH1dYCk7XG5cblxuICAgICAgICBzcGxpdEJ1dHRvbnMuZm9yRWFjaCgoc3BsaXRCdXR0b24pPT4ge1xuICAgICAgICAgICAgbGV0IGJ1dHRvbnMgPSBzcGxpdEJ1dHRvbi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdjLWJ1dHRvbicpO1xuICAgICAgICAgICAgbGV0IGFjdGlvbkJ1dHRvbiA9IGJ1dHRvbnNbMF07XG4gICAgICAgICAgICBsZXQgZHJvcERvd25MaXN0ID0gc3BsaXRCdXR0b24uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYy1kcm9wZG93bl9fbGlzdCcpWzBdO1xuICAgICAgICAgICAgbGV0IGxpc3RJdGVtcyA9IGRyb3BEb3duTGlzdC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbGknKTtcblxuICAgICAgICAgICAgZm9yKGxldCBpdGVtIG9mIGxpc3RJdGVtcyl7XG4gICAgICAgICAgICAgICAgaXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uQnV0dG9uLmlubmVyVGV4dCA9IGl0ZW0uaW5uZXJUZXh0O1xuICAgICAgICAgICAgICAgIH0pIFxuICAgICAgICAgICAgfSAgIFxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIFxuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU3BsaXRCdXR0b247Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@helsingborg-stad/styleguide/source/js/splitButton.js\n");

/***/ }),

/***/ "./node_modules/@helsingborg-stad/styleguide/source/js/steppers.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@helsingborg-stad/styleguide/source/js/steppers.js ***!
  \*************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/**\n * Component Steppers\n */\n\nclass Steppers {\n\n    constructor() {\n        this.dataSteps = null;\n        this.stepperLength = null;\n        this.modalId = null;\n        this.container = null;\n    }\n\n    /**\n     * Enable and init Steppers\n     */\n    enableStepper(stepperType, container, stepperLength, generate) {\n        const self = this;\n        this.container = container;\n        this.stepperLength = stepperLength;\n\n        switch (stepperType) {\n            case 'dots':\n                setTimeout(function () {\n                    self.dots(generate);\n                }, 500);\n                break;\n        }\n    }\n\n\n    /**\n     * Steppers - Dots\n     * @param generate\n     */\n    dots(generate) {\n\n        if (generate) {\n\n            if (this.container.querySelector('.c-steppers--type-dots').childElementCount !== 0) {\n                this.container.querySelector('.c-steppers__dot').innerHTML = \"\";\n            } else {\n                for (let int = 0; int < this.stepperLength; int++) {\n                    this.container.querySelector('.c-steppers--type-dots').insertAdjacentHTML(\"beforeend\",\n                        '<i class=\"c-steppers__dot c-steppers__dot-' + int + '\"></i>');\n                }\n            }\n        }\n\n        for (let removeDot of this.container.querySelectorAll('.c-steppers__dot')) {\n            if (removeDot.classList.contains('c-steppers__dot-active')) {\n                removeDot.classList.remove('c-steppers__dot-active');\n            }\n        }\n\n        let activeStep = this.container.querySelector('[data-step]').getAttribute('data-step');\n        this.container.querySelector('.c-steppers__dot-' + activeStep + '').classList.add('c-steppers__dot-active');\n    }\n\n\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Steppers);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGhlbHNpbmdib3JnLXN0YWQvc3R5bGVndWlkZS9zb3VyY2UvanMvc3RlcHBlcnMuanM/MTQ4MSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsaUNBQWlDLDBCQUEwQjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTs7QUFFZSx1RUFBUSxFQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL0BoZWxzaW5nYm9yZy1zdGFkL3N0eWxlZ3VpZGUvc291cmNlL2pzL3N0ZXBwZXJzLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb21wb25lbnQgU3RlcHBlcnNcbiAqL1xuXG5jbGFzcyBTdGVwcGVycyB7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5kYXRhU3RlcHMgPSBudWxsO1xuICAgICAgICB0aGlzLnN0ZXBwZXJMZW5ndGggPSBudWxsO1xuICAgICAgICB0aGlzLm1vZGFsSWQgPSBudWxsO1xuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlIGFuZCBpbml0IFN0ZXBwZXJzXG4gICAgICovXG4gICAgZW5hYmxlU3RlcHBlcihzdGVwcGVyVHlwZSwgY29udGFpbmVyLCBzdGVwcGVyTGVuZ3RoLCBnZW5lcmF0ZSkge1xuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgICAgIHRoaXMuc3RlcHBlckxlbmd0aCA9IHN0ZXBwZXJMZW5ndGg7XG5cbiAgICAgICAgc3dpdGNoIChzdGVwcGVyVHlwZSkge1xuICAgICAgICAgICAgY2FzZSAnZG90cyc6XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuZG90cyhnZW5lcmF0ZSk7XG4gICAgICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogU3RlcHBlcnMgLSBEb3RzXG4gICAgICogQHBhcmFtIGdlbmVyYXRlXG4gICAgICovXG4gICAgZG90cyhnZW5lcmF0ZSkge1xuXG4gICAgICAgIGlmIChnZW5lcmF0ZSkge1xuXG4gICAgICAgICAgICBpZiAodGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmMtc3RlcHBlcnMtLXR5cGUtZG90cycpLmNoaWxkRWxlbWVudENvdW50ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmMtc3RlcHBlcnNfX2RvdCcpLmlubmVySFRNTCA9IFwiXCI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGludCA9IDA7IGludCA8IHRoaXMuc3RlcHBlckxlbmd0aDsgaW50KyspIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignLmMtc3RlcHBlcnMtLXR5cGUtZG90cycpLmluc2VydEFkamFjZW50SFRNTChcImJlZm9yZWVuZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgJzxpIGNsYXNzPVwiYy1zdGVwcGVyc19fZG90IGMtc3RlcHBlcnNfX2RvdC0nICsgaW50ICsgJ1wiPjwvaT4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCByZW1vdmVEb3Qgb2YgdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnLmMtc3RlcHBlcnNfX2RvdCcpKSB7XG4gICAgICAgICAgICBpZiAocmVtb3ZlRG90LmNsYXNzTGlzdC5jb250YWlucygnYy1zdGVwcGVyc19fZG90LWFjdGl2ZScpKSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlRG90LmNsYXNzTGlzdC5yZW1vdmUoJ2Mtc3RlcHBlcnNfX2RvdC1hY3RpdmUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBhY3RpdmVTdGVwID0gdGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvcignW2RhdGEtc3RlcF0nKS5nZXRBdHRyaWJ1dGUoJ2RhdGEtc3RlcCcpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuYy1zdGVwcGVyc19fZG90LScgKyBhY3RpdmVTdGVwICsgJycpLmNsYXNzTGlzdC5hZGQoJ2Mtc3RlcHBlcnNfX2RvdC1hY3RpdmUnKTtcbiAgICB9XG5cblxufVxuXG5leHBvcnQgZGVmYXVsdCBTdGVwcGVycztcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@helsingborg-stad/styleguide/source/js/steppers.js\n");

/***/ }),

/***/ "./node_modules/@helsingborg-stad/styleguide/source/js/table.js":
/*!**********************************************************************!*\
  !*** ./node_modules/@helsingborg-stad/styleguide/source/js/table.js ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Table; });\nclass Table{\n    constructor(table){\n        this.table = table\n        this.list = table.querySelectorAll('[js-table-filter-item]');\n        this.isPagination = table.hasAttribute('js-table-pagination')\n        this.isFilterable = table.hasAttribute('js-table-filter')\n        this.isSortable = table.hasAttribute('js-table-sort')\n        this.link = null\n        this.rowHref = 'js-row-href';\n\n        this.tableRefresh();\n\n        if (this.isPagination) this.paginationButtons()\n\n        if (this.isFilterable) this.filterInput();\n\n        if (this.isSortable) this.sortAddButtons();\n    }\n\n    tableRefresh() {\n        // eslint-disable-next-line prefer-destructuring\n        let list = this.list;\n\n        if (this.isFilterable) {\n            list = this.filterList(list, this.filterValue());\n        }\n\n        if (this.isSortable) {\n            list = this.sortList(list)\n        }\n\n        if (this.isPagination) {\n            list = this.paginateList(list)\n        }\n\n        this.renderTable(list);\n        \n        if (this.isPagination) {\n            this.paginatePages();\n            this.paginationLinks();\n            this.paginateLinkListeners();\n        }\n    }\n\n    renderTable(list = null) {\n        const body = this.table.querySelector('tbody');\n        body.innerHTML = \"\";\n\n        list.forEach(element => {\n            if(element.index) {\n                body.appendChild(element.index)\n            } else {\n                body.appendChild(element)\n            }\n        });\n    }\n\n    paginatePages() {\n        const items = this.isFilterable ? \n            this.filterList(this.list, this.filterValue()).length :\n            this.list.length;\n\n        return Math.ceil(items / this.paginationRows());\n    }\n\n    paginationLinks() {\n        if(!this.link) {\n            this.link = this.table.querySelector('[js-table-pagination--link]');\n        }\n        \n        const body = this.table.querySelector('[js-table-pagination--links]');\n        body.closest('[js-table-pagination]').classList.remove('u-display--none')\n        body.innerHTML = \"\";\n\n        if(this.paginatePages() > 1) {\n            // eslint-disable-next-line no-plusplus\n            for (let index = 0; index < this.paginatePages(); index++) {\n                const elm = this.link.cloneNode(true);\n                elm.innerHTML = index +1;\n                elm.classList.remove('c-button__outlined--primary');\n                elm.setAttribute('js-table-pagination--link', index +1);\n\n                if((index +1) === this.paginationCurrent() ){\n                    elm.classList.add('c-button__outlined--primary');\n                }\n\n                body.appendChild(elm);\n            }\n        } else {\n            body.closest('[js-table-pagination]').classList.add('u-display--none')\n        }\n    }\n\n    paginateLinkListeners() {\n        const btns = this.table.querySelectorAll('[js-table-pagination--link]')\n\n        btns.forEach(btn => {\n            btn.addEventListener('click', () => {\n                this.paginateSetCurrent(btn.getAttribute('js-table-pagination--link'));\n                this.tableRefresh();\n            })\n        });\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    paginateList(list) {\n        const first = (this.paginationCurrent() - 1) * this.paginationRows();\n        const last = this.paginationCurrent() * this.paginationRows();\n\n        return Array.from(list).slice(first, last);\n    }\n\n    // Add event listener filter\n    filterInput() {\n        const input = this.table.querySelector('[js-table-filter-input]');\n        \n        input.addEventListener('input', (e) => {\n            if (this.isPagination) this.paginateSetCurrent();\n            this.tableRefresh();\n        })\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    filterList(list, query) {\n        const newList = [];\n\n        list.forEach(element => {\n            let data = \"\";\n\n            element.querySelectorAll('[js-table-filter-data]').forEach(item => {\n                data += item.innerHTML.toLowerCase();\n            })\n\n            if (data.includes(query.toLowerCase())) {\n                newList.push(element);\n            }\n        });\n\n        return newList;\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    compare(a, b) {\n        return a.data.toLowerCase().localeCompare(b.data.toLowerCase(), 'en', {numeric: true});\n    }\n\n    sortList(list) {\n        const sortOrder = this.table.getAttribute('js-table-sort--order');\n\n        if (!sortOrder) {\n            return list;\n        }\n\n        const sortData = []\n        const sortDictator = this.table.getAttribute('js-table-sort--dictator');\n\n        list.forEach(element => {\n            sortData.push(element.querySelector(`[js-table-sort-data=\"${sortDictator}\"]`))\n        });\n\n        const comparableData = [...sortData].map((data) => {\n            return { data: data.innerText.trim(), index: data.closest(`[js-table-sort--sortable]`) }\n        });\n\n        comparableData.sort(this.compare);\n        \n        if (sortOrder === 'desc') {\n            return comparableData.reverse(this.compare);\n        }\n\n        \n        return comparableData;\n    }\n\n    paginationButtons() {\n        const buttons = this.table.querySelectorAll('[js-table-pagination-btn]');\n        this.paginateSetCurrent();\n\n        buttons.forEach(btn => {\n            btn.addEventListener('click', () => {\n                const type = btn.getAttribute('js-table-pagination-btn');\n\n                this.paginateSetCurrent(type === 'next' ?\n                    this.paginationCurrent() +1 :\n                    this.paginationCurrent() -1\n                );\n                \n                this.tableRefresh();\n            })\n        });\n    }\n\n    paginateSetCurrent(current = 1) {\n        this.table.setAttribute('js-table-pagination--current', current);\n\n        current = parseInt(current, 10);\n        \n        if (current === this.paginatePages()) {\n            this.table.querySelector('[js-table-pagination-btn=\"next\"]').setAttribute('disabled', true);\n            this.table.querySelector('[js-table-pagination-btn=\"prev\"]').removeAttribute('disabled');\n        } else if (current === 1) {\n            this.table.querySelector('[js-table-pagination-btn=\"prev\"]').setAttribute('disabled', true);\n            this.table.querySelector('[js-table-pagination-btn=\"next\"]').removeAttribute('disabled');\n        } else {\n            this.table.querySelector('[js-table-pagination-btn=\"next\"]').removeAttribute('disabled');\n            this.table.querySelector('[js-table-pagination-btn=\"prev\"]').removeAttribute('disabled');\n        }\n    }\n\n    sortAddButtons() {\n        const sortButtons = this.table.querySelectorAll(`[js-table-sort--btn]`);\n        sortButtons.forEach((button) => {\n\n            if (!button.hasAttribute('js-table-sort--order')){\n                button.setAttribute('js-table-sort--order', 'asc')\n            }\n\n            button.addEventListener('click', (e) => {\n                if (this.isPagination) this.paginateSetCurrent();\n\n                const sortOrder = this.table.getAttribute('js-table-sort--order');\n                const newOrder = sortOrder === 'asc' ? 'desc' : 'asc';\n                this.table.setAttribute('js-table-sort--order', newOrder);\n\n                const buttonId = e.target.closest('[js-table-sort--btn]')\n                const dataId = buttonId.getAttribute('js-table-sort--btn');\n                this.table.setAttribute('js-table-sort--dictator', dataId)\n                this.tableRefresh();\n            });\n        });\n    }\n\n    filterValue() {\n        return this.table.querySelector('[js-table-filter-input]').value;\n    }\n\n    paginationCurrent() {\n        return parseInt(this.table.getAttribute('js-table-pagination--current'), 10)\n    }\n\n    paginationRows() {\n        return this.table.getAttribute('js-table-pagination')\n    }\n\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGhlbHNpbmdib3JnLXN0YWQvc3R5bGVndWlkZS9zb3VyY2UvanMvdGFibGUuanM/ZTZjYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLCtCQUErQiw4QkFBOEI7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQSxTQUFTOztBQUVUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLCtFQUErRSxjQUFjO0FBQzdGOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSx3RUFBd0UsYUFBYTtBQUNyRixTQUFTOztBQUVUO0FBQ0Esb0JBQW9CO0FBQ3BCLFNBQVM7O0FBRVQ7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGhlbHNpbmdib3JnLXN0YWQvc3R5bGVndWlkZS9zb3VyY2UvanMvdGFibGUuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBUYWJsZXtcbiAgICBjb25zdHJ1Y3Rvcih0YWJsZSl7XG4gICAgICAgIHRoaXMudGFibGUgPSB0YWJsZVxuICAgICAgICB0aGlzLmxpc3QgPSB0YWJsZS5xdWVyeVNlbGVjdG9yQWxsKCdbanMtdGFibGUtZmlsdGVyLWl0ZW1dJyk7XG4gICAgICAgIHRoaXMuaXNQYWdpbmF0aW9uID0gdGFibGUuaGFzQXR0cmlidXRlKCdqcy10YWJsZS1wYWdpbmF0aW9uJylcbiAgICAgICAgdGhpcy5pc0ZpbHRlcmFibGUgPSB0YWJsZS5oYXNBdHRyaWJ1dGUoJ2pzLXRhYmxlLWZpbHRlcicpXG4gICAgICAgIHRoaXMuaXNTb3J0YWJsZSA9IHRhYmxlLmhhc0F0dHJpYnV0ZSgnanMtdGFibGUtc29ydCcpXG4gICAgICAgIHRoaXMubGluayA9IG51bGxcbiAgICAgICAgdGhpcy5yb3dIcmVmID0gJ2pzLXJvdy1ocmVmJztcblxuICAgICAgICB0aGlzLnRhYmxlUmVmcmVzaCgpO1xuXG4gICAgICAgIGlmICh0aGlzLmlzUGFnaW5hdGlvbikgdGhpcy5wYWdpbmF0aW9uQnV0dG9ucygpXG5cbiAgICAgICAgaWYgKHRoaXMuaXNGaWx0ZXJhYmxlKSB0aGlzLmZpbHRlcklucHV0KCk7XG5cbiAgICAgICAgaWYgKHRoaXMuaXNTb3J0YWJsZSkgdGhpcy5zb3J0QWRkQnV0dG9ucygpO1xuICAgIH1cblxuICAgIHRhYmxlUmVmcmVzaCgpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG4gICAgICAgIGxldCBsaXN0ID0gdGhpcy5saXN0O1xuXG4gICAgICAgIGlmICh0aGlzLmlzRmlsdGVyYWJsZSkge1xuICAgICAgICAgICAgbGlzdCA9IHRoaXMuZmlsdGVyTGlzdChsaXN0LCB0aGlzLmZpbHRlclZhbHVlKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaXNTb3J0YWJsZSkge1xuICAgICAgICAgICAgbGlzdCA9IHRoaXMuc29ydExpc3QobGlzdClcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmlzUGFnaW5hdGlvbikge1xuICAgICAgICAgICAgbGlzdCA9IHRoaXMucGFnaW5hdGVMaXN0KGxpc3QpXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlbmRlclRhYmxlKGxpc3QpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMuaXNQYWdpbmF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLnBhZ2luYXRlUGFnZXMoKTtcbiAgICAgICAgICAgIHRoaXMucGFnaW5hdGlvbkxpbmtzKCk7XG4gICAgICAgICAgICB0aGlzLnBhZ2luYXRlTGlua0xpc3RlbmVycygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyVGFibGUobGlzdCA9IG51bGwpIHtcbiAgICAgICAgY29uc3QgYm9keSA9IHRoaXMudGFibGUucXVlcnlTZWxlY3RvcigndGJvZHknKTtcbiAgICAgICAgYm9keS5pbm5lckhUTUwgPSBcIlwiO1xuXG4gICAgICAgIGxpc3QuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIGlmKGVsZW1lbnQuaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBib2R5LmFwcGVuZENoaWxkKGVsZW1lbnQuaW5kZXgpXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGJvZHkuYXBwZW5kQ2hpbGQoZWxlbWVudClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcGFnaW5hdGVQYWdlcygpIHtcbiAgICAgICAgY29uc3QgaXRlbXMgPSB0aGlzLmlzRmlsdGVyYWJsZSA/IFxuICAgICAgICAgICAgdGhpcy5maWx0ZXJMaXN0KHRoaXMubGlzdCwgdGhpcy5maWx0ZXJWYWx1ZSgpKS5sZW5ndGggOlxuICAgICAgICAgICAgdGhpcy5saXN0Lmxlbmd0aDtcblxuICAgICAgICByZXR1cm4gTWF0aC5jZWlsKGl0ZW1zIC8gdGhpcy5wYWdpbmF0aW9uUm93cygpKTtcbiAgICB9XG5cbiAgICBwYWdpbmF0aW9uTGlua3MoKSB7XG4gICAgICAgIGlmKCF0aGlzLmxpbmspIHtcbiAgICAgICAgICAgIHRoaXMubGluayA9IHRoaXMudGFibGUucXVlcnlTZWxlY3RvcignW2pzLXRhYmxlLXBhZ2luYXRpb24tLWxpbmtdJyk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGJvZHkgPSB0aGlzLnRhYmxlLnF1ZXJ5U2VsZWN0b3IoJ1tqcy10YWJsZS1wYWdpbmF0aW9uLS1saW5rc10nKTtcbiAgICAgICAgYm9keS5jbG9zZXN0KCdbanMtdGFibGUtcGFnaW5hdGlvbl0nKS5jbGFzc0xpc3QucmVtb3ZlKCd1LWRpc3BsYXktLW5vbmUnKVxuICAgICAgICBib2R5LmlubmVySFRNTCA9IFwiXCI7XG5cbiAgICAgICAgaWYodGhpcy5wYWdpbmF0ZVBhZ2VzKCkgPiAxKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGx1c3BsdXNcbiAgICAgICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLnBhZ2luYXRlUGFnZXMoKTsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVsbSA9IHRoaXMubGluay5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgZWxtLmlubmVySFRNTCA9IGluZGV4ICsxO1xuICAgICAgICAgICAgICAgIGVsbS5jbGFzc0xpc3QucmVtb3ZlKCdjLWJ1dHRvbl9fb3V0bGluZWQtLXByaW1hcnknKTtcbiAgICAgICAgICAgICAgICBlbG0uc2V0QXR0cmlidXRlKCdqcy10YWJsZS1wYWdpbmF0aW9uLS1saW5rJywgaW5kZXggKzEpO1xuXG4gICAgICAgICAgICAgICAgaWYoKGluZGV4ICsxKSA9PT0gdGhpcy5wYWdpbmF0aW9uQ3VycmVudCgpICl7XG4gICAgICAgICAgICAgICAgICAgIGVsbS5jbGFzc0xpc3QuYWRkKCdjLWJ1dHRvbl9fb3V0bGluZWQtLXByaW1hcnknKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBib2R5LmFwcGVuZENoaWxkKGVsbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBib2R5LmNsb3Nlc3QoJ1tqcy10YWJsZS1wYWdpbmF0aW9uXScpLmNsYXNzTGlzdC5hZGQoJ3UtZGlzcGxheS0tbm9uZScpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwYWdpbmF0ZUxpbmtMaXN0ZW5lcnMoKSB7XG4gICAgICAgIGNvbnN0IGJ0bnMgPSB0aGlzLnRhYmxlLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tqcy10YWJsZS1wYWdpbmF0aW9uLS1saW5rXScpXG5cbiAgICAgICAgYnRucy5mb3JFYWNoKGJ0biA9PiB7XG4gICAgICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYWdpbmF0ZVNldEN1cnJlbnQoYnRuLmdldEF0dHJpYnV0ZSgnanMtdGFibGUtcGFnaW5hdGlvbi0tbGluaycpKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlUmVmcmVzaCgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNsYXNzLW1ldGhvZHMtdXNlLXRoaXNcbiAgICBwYWdpbmF0ZUxpc3QobGlzdCkge1xuICAgICAgICBjb25zdCBmaXJzdCA9ICh0aGlzLnBhZ2luYXRpb25DdXJyZW50KCkgLSAxKSAqIHRoaXMucGFnaW5hdGlvblJvd3MoKTtcbiAgICAgICAgY29uc3QgbGFzdCA9IHRoaXMucGFnaW5hdGlvbkN1cnJlbnQoKSAqIHRoaXMucGFnaW5hdGlvblJvd3MoKTtcblxuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShsaXN0KS5zbGljZShmaXJzdCwgbGFzdCk7XG4gICAgfVxuXG4gICAgLy8gQWRkIGV2ZW50IGxpc3RlbmVyIGZpbHRlclxuICAgIGZpbHRlcklucHV0KCkge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHRoaXMudGFibGUucXVlcnlTZWxlY3RvcignW2pzLXRhYmxlLWZpbHRlci1pbnB1dF0nKTtcbiAgICAgICAgXG4gICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKGUpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzUGFnaW5hdGlvbikgdGhpcy5wYWdpbmF0ZVNldEN1cnJlbnQoKTtcbiAgICAgICAgICAgIHRoaXMudGFibGVSZWZyZXNoKCk7XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNsYXNzLW1ldGhvZHMtdXNlLXRoaXNcbiAgICBmaWx0ZXJMaXN0KGxpc3QsIHF1ZXJ5KSB7XG4gICAgICAgIGNvbnN0IG5ld0xpc3QgPSBbXTtcblxuICAgICAgICBsaXN0LmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBsZXQgZGF0YSA9IFwiXCI7XG5cbiAgICAgICAgICAgIGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2pzLXRhYmxlLWZpbHRlci1kYXRhXScpLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgZGF0YSArPSBpdGVtLmlubmVySFRNTC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgfSlcblxuICAgICAgICAgICAgaWYgKGRhdGEuaW5jbHVkZXMocXVlcnkudG9Mb3dlckNhc2UoKSkpIHtcbiAgICAgICAgICAgICAgICBuZXdMaXN0LnB1c2goZWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBuZXdMaXN0O1xuICAgIH1cblxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjbGFzcy1tZXRob2RzLXVzZS10aGlzXG4gICAgY29tcGFyZShhLCBiKSB7XG4gICAgICAgIHJldHVybiBhLmRhdGEudG9Mb3dlckNhc2UoKS5sb2NhbGVDb21wYXJlKGIuZGF0YS50b0xvd2VyQ2FzZSgpLCAnZW4nLCB7bnVtZXJpYzogdHJ1ZX0pO1xuICAgIH1cblxuICAgIHNvcnRMaXN0KGxpc3QpIHtcbiAgICAgICAgY29uc3Qgc29ydE9yZGVyID0gdGhpcy50YWJsZS5nZXRBdHRyaWJ1dGUoJ2pzLXRhYmxlLXNvcnQtLW9yZGVyJyk7XG5cbiAgICAgICAgaWYgKCFzb3J0T3JkZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBsaXN0O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgc29ydERhdGEgPSBbXVxuICAgICAgICBjb25zdCBzb3J0RGljdGF0b3IgPSB0aGlzLnRhYmxlLmdldEF0dHJpYnV0ZSgnanMtdGFibGUtc29ydC0tZGljdGF0b3InKTtcblxuICAgICAgICBsaXN0LmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBzb3J0RGF0YS5wdXNoKGVsZW1lbnQucXVlcnlTZWxlY3RvcihgW2pzLXRhYmxlLXNvcnQtZGF0YT1cIiR7c29ydERpY3RhdG9yfVwiXWApKVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBjb21wYXJhYmxlRGF0YSA9IFsuLi5zb3J0RGF0YV0ubWFwKChkYXRhKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4geyBkYXRhOiBkYXRhLmlubmVyVGV4dC50cmltKCksIGluZGV4OiBkYXRhLmNsb3Nlc3QoYFtqcy10YWJsZS1zb3J0LS1zb3J0YWJsZV1gKSB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbXBhcmFibGVEYXRhLnNvcnQodGhpcy5jb21wYXJlKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChzb3J0T3JkZXIgPT09ICdkZXNjJykge1xuICAgICAgICAgICAgcmV0dXJuIGNvbXBhcmFibGVEYXRhLnJldmVyc2UodGhpcy5jb21wYXJlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIFxuICAgICAgICByZXR1cm4gY29tcGFyYWJsZURhdGE7XG4gICAgfVxuXG4gICAgcGFnaW5hdGlvbkJ1dHRvbnMoKSB7XG4gICAgICAgIGNvbnN0IGJ1dHRvbnMgPSB0aGlzLnRhYmxlLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tqcy10YWJsZS1wYWdpbmF0aW9uLWJ0bl0nKTtcbiAgICAgICAgdGhpcy5wYWdpbmF0ZVNldEN1cnJlbnQoKTtcblxuICAgICAgICBidXR0b25zLmZvckVhY2goYnRuID0+IHtcbiAgICAgICAgICAgIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0eXBlID0gYnRuLmdldEF0dHJpYnV0ZSgnanMtdGFibGUtcGFnaW5hdGlvbi1idG4nKTtcblxuICAgICAgICAgICAgICAgIHRoaXMucGFnaW5hdGVTZXRDdXJyZW50KHR5cGUgPT09ICduZXh0JyA/XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFnaW5hdGlvbkN1cnJlbnQoKSArMSA6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFnaW5hdGlvbkN1cnJlbnQoKSAtMVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdGhpcy50YWJsZVJlZnJlc2goKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHBhZ2luYXRlU2V0Q3VycmVudChjdXJyZW50ID0gMSkge1xuICAgICAgICB0aGlzLnRhYmxlLnNldEF0dHJpYnV0ZSgnanMtdGFibGUtcGFnaW5hdGlvbi0tY3VycmVudCcsIGN1cnJlbnQpO1xuXG4gICAgICAgIGN1cnJlbnQgPSBwYXJzZUludChjdXJyZW50LCAxMCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoY3VycmVudCA9PT0gdGhpcy5wYWdpbmF0ZVBhZ2VzKCkpIHtcbiAgICAgICAgICAgIHRoaXMudGFibGUucXVlcnlTZWxlY3RvcignW2pzLXRhYmxlLXBhZ2luYXRpb24tYnRuPVwibmV4dFwiXScpLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMudGFibGUucXVlcnlTZWxlY3RvcignW2pzLXRhYmxlLXBhZ2luYXRpb24tYnRuPVwicHJldlwiXScpLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50ID09PSAxKSB7XG4gICAgICAgICAgICB0aGlzLnRhYmxlLnF1ZXJ5U2VsZWN0b3IoJ1tqcy10YWJsZS1wYWdpbmF0aW9uLWJ0bj1cInByZXZcIl0nKS5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLnRhYmxlLnF1ZXJ5U2VsZWN0b3IoJ1tqcy10YWJsZS1wYWdpbmF0aW9uLWJ0bj1cIm5leHRcIl0nKS5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnRhYmxlLnF1ZXJ5U2VsZWN0b3IoJ1tqcy10YWJsZS1wYWdpbmF0aW9uLWJ0bj1cIm5leHRcIl0nKS5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICB0aGlzLnRhYmxlLnF1ZXJ5U2VsZWN0b3IoJ1tqcy10YWJsZS1wYWdpbmF0aW9uLWJ0bj1cInByZXZcIl0nKS5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzb3J0QWRkQnV0dG9ucygpIHtcbiAgICAgICAgY29uc3Qgc29ydEJ1dHRvbnMgPSB0aGlzLnRhYmxlLnF1ZXJ5U2VsZWN0b3JBbGwoYFtqcy10YWJsZS1zb3J0LS1idG5dYCk7XG4gICAgICAgIHNvcnRCdXR0b25zLmZvckVhY2goKGJ1dHRvbikgPT4ge1xuXG4gICAgICAgICAgICBpZiAoIWJ1dHRvbi5oYXNBdHRyaWJ1dGUoJ2pzLXRhYmxlLXNvcnQtLW9yZGVyJykpe1xuICAgICAgICAgICAgICAgIGJ1dHRvbi5zZXRBdHRyaWJ1dGUoJ2pzLXRhYmxlLXNvcnQtLW9yZGVyJywgJ2FzYycpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNQYWdpbmF0aW9uKSB0aGlzLnBhZ2luYXRlU2V0Q3VycmVudCgpO1xuXG4gICAgICAgICAgICAgICAgY29uc3Qgc29ydE9yZGVyID0gdGhpcy50YWJsZS5nZXRBdHRyaWJ1dGUoJ2pzLXRhYmxlLXNvcnQtLW9yZGVyJyk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3T3JkZXIgPSBzb3J0T3JkZXIgPT09ICdhc2MnID8gJ2Rlc2MnIDogJ2FzYyc7XG4gICAgICAgICAgICAgICAgdGhpcy50YWJsZS5zZXRBdHRyaWJ1dGUoJ2pzLXRhYmxlLXNvcnQtLW9yZGVyJywgbmV3T3JkZXIpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgYnV0dG9uSWQgPSBlLnRhcmdldC5jbG9zZXN0KCdbanMtdGFibGUtc29ydC0tYnRuXScpXG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YUlkID0gYnV0dG9uSWQuZ2V0QXR0cmlidXRlKCdqcy10YWJsZS1zb3J0LS1idG4nKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRhYmxlLnNldEF0dHJpYnV0ZSgnanMtdGFibGUtc29ydC0tZGljdGF0b3InLCBkYXRhSWQpXG4gICAgICAgICAgICAgICAgdGhpcy50YWJsZVJlZnJlc2goKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmaWx0ZXJWYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGFibGUucXVlcnlTZWxlY3RvcignW2pzLXRhYmxlLWZpbHRlci1pbnB1dF0nKS52YWx1ZTtcbiAgICB9XG5cbiAgICBwYWdpbmF0aW9uQ3VycmVudCgpIHtcbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KHRoaXMudGFibGUuZ2V0QXR0cmlidXRlKCdqcy10YWJsZS1wYWdpbmF0aW9uLS1jdXJyZW50JyksIDEwKVxuICAgIH1cblxuICAgIHBhZ2luYXRpb25Sb3dzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50YWJsZS5nZXRBdHRyaWJ1dGUoJ2pzLXRhYmxlLXBhZ2luYXRpb24nKVxuICAgIH1cblxufSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@helsingborg-stad/styleguide/source/js/table.js\n");

/***/ }),

/***/ "./node_modules/@helsingborg-stad/styleguide/source/js/the-datepicker.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@helsingborg-stad/styleguide/source/js/the-datepicker.js ***!
  \*******************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nvar TheDatepicker;\n(function(TheDatepicker) {\n    var Translator = (function() {\n        function Translator() {\n            this.dayOfWeekTranslations = ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'];\n            this.monthTranslations = [\n                'January',\n                'February',\n                'March',\n                'April',\n                'May',\n                'June',\n                'July',\n                'August',\n                'September',\n                'October',\n                'November',\n                'December',\n            ];\n        }\n        Translator.prototype.setDayOfWeekTranslation = function(dayOfWeek, translation) {\n            this.dayOfWeekTranslations[\n                TheDatepicker.Helper.checkNumber('First day of week', dayOfWeek, 0, 6)\n            ] = TheDatepicker.Helper.checkString('Translation', translation);\n        };\n        Translator.prototype.setMonthTranslation = function(month, translation) {\n            this.monthTranslations[\n                TheDatepicker.Helper.checkNumber('Month', month, 0, 11)\n            ] = TheDatepicker.Helper.checkString('Translation', translation);\n        };\n        Translator.prototype.translateDayOfWeek = function(dayOfWeek) {\n            return this.dayOfWeekTranslations[dayOfWeek];\n        };\n        Translator.prototype.translateMonth = function(month) {\n            return this.monthTranslations[month];\n        };\n        return Translator;\n    })();\n    TheDatepicker.Translator = Translator;\n})(TheDatepicker || (TheDatepicker = {}));\nvar TheDatepicker;\n(function(TheDatepicker) {\n    var CannotParseDateException = (function() {\n        function CannotParseDateException() {}\n        return CannotParseDateException;\n    })();\n    TheDatepicker.CannotParseDateException = CannotParseDateException;\n    var ParsedDateData = (function() {\n        function ParsedDateData() {\n            this.day = null;\n            this.month = null;\n            this.year = null;\n        }\n        ParsedDateData.prototype.createDate = function() {\n            if (this.day === null || this.month === null || this.year === null) {\n                throw new CannotParseDateException();\n            }\n            var date = new Date(this.year, this.month - 1, this.day);\n            if (isNaN(date.getTime())) {\n                throw new CannotParseDateException();\n            }\n            while (\n                date.getDate() !== this.day ||\n                date.getMonth() !== this.month - 1 ||\n                date.getFullYear() !== this.year\n            ) {\n                if (this.day > 28) {\n                    this.day--;\n                    date = new Date(this.year, this.month - 1, this.day);\n                } else {\n                    throw new CannotParseDateException();\n                }\n            }\n            return date;\n        };\n        return ParsedDateData;\n    })();\n    var DateConverter = (function() {\n        function DateConverter(options) {\n            this.options = options;\n            this.escapeChar = '\\\\';\n        }\n        DateConverter.prototype.formatDate = function(format, date) {\n            var escapeNext = false;\n            var result = '';\n            for (var position = 0; position < format.length; position++) {\n                var char = format.substring(position, position + 1);\n                if (escapeNext) {\n                    result += char;\n                    escapeNext = false;\n                    continue;\n                }\n                if (char === this.escapeChar) {\n                    escapeNext = true;\n                    continue;\n                }\n                var formatter = this.getFormatter(char);\n                if (formatter !== null) {\n                    result += formatter.call(this, date);\n                    continue;\n                }\n                result += char;\n            }\n            return result;\n        };\n        DateConverter.prototype.parseDate = function(format, text) {\n            if (text === '') {\n                return null;\n            }\n            var dateData = new ParsedDateData();\n            var escapeNext = false;\n            var textPosition = 0;\n            for (var position = 0; position < format.length; position++) {\n                var char = format.substring(position, position + 1);\n                if (escapeNext) {\n                    escapeNext = false;\n                } else if (char === this.escapeChar) {\n                    escapeNext = true;\n                    continue;\n                } else {\n                    var parser = this.getParser(char);\n                    if (parser !== null) {\n                        try {\n                            textPosition += parser.call(\n                                this,\n                                text.substring(textPosition),\n                                dateData\n                            );\n                        } catch (error) {\n                            if (!(error instanceof CannotParseDateException)) {\n                                throw error;\n                            }\n                            var textChar_1 = text.substring(textPosition, textPosition + 1);\n                            if (textChar_1 === ' ') {\n                                textPosition++;\n                                position--;\n                                continue;\n                            } else {\n                                throw error;\n                            }\n                        }\n                        continue;\n                    }\n                }\n                var textChar = text.substring(textPosition, textPosition + 1);\n                if (textChar !== char) {\n                    if (char === ' ') {\n                        continue;\n                    }\n                    if (textChar === ' ') {\n                        textPosition++;\n                        position--;\n                        continue;\n                    }\n                    throw new CannotParseDateException();\n                }\n                textPosition++;\n            }\n            return dateData.createDate();\n        };\n        DateConverter.prototype.getFormatter = function(type) {\n            switch (type) {\n                case 'j':\n                    return this.formatDay;\n                case 'd':\n                    return this.formatDayWithLeadingZero;\n                case 'D':\n                    return this.formatDayOfWeekTextual;\n                case 'n':\n                    return this.formatMonth;\n                case 'm':\n                    return this.formatMonthWithLeadingZero;\n                case 'F':\n                    return this.formatMonthTextual;\n                case 'Y':\n                    return this.formatYear;\n                case 'y':\n                    return this.formatYearTwoDigits;\n                default:\n                    return null;\n            }\n        };\n        DateConverter.prototype.formatDay = function(date) {\n            return date.getDate() + '';\n        };\n        DateConverter.prototype.formatDayWithLeadingZero = function(date) {\n            return ('0' + date.getDate()).slice(-2);\n        };\n        DateConverter.prototype.formatDayOfWeekTextual = function(date) {\n            return this.options.translator.translateDayOfWeek(date.getDay());\n        };\n        DateConverter.prototype.formatMonth = function(date) {\n            return date.getMonth() + 1 + '';\n        };\n        DateConverter.prototype.formatMonthWithLeadingZero = function(date) {\n            return ('0' + (date.getMonth() + 1)).slice(-2);\n        };\n        DateConverter.prototype.formatMonthTextual = function(date) {\n            return this.options.translator.translateMonth(date.getMonth());\n        };\n        DateConverter.prototype.formatYear = function(date) {\n            return date.getFullYear() + '';\n        };\n        DateConverter.prototype.formatYearTwoDigits = function(date) {\n            var year = date.getFullYear() + '';\n            return year.substring(year.length - 2);\n        };\n        DateConverter.prototype.getParser = function(type) {\n            switch (type) {\n                case 'j':\n                case 'd':\n                    return this.parseDay;\n                case 'D':\n                    return this.parseDayOfWeekTextual;\n                case 'n':\n                case 'm':\n                    return this.parseMonth;\n                case 'F':\n                    return this.parseMonthTextual;\n                case 'Y':\n                    return this.parseYear;\n                case 'y':\n                    return this.parseYearTwoDigits;\n                default:\n                    return null;\n            }\n        };\n        DateConverter.prototype.parseDay = function(text, dateData) {\n            var took = 0;\n            while (text.substring(0, 1) === '0') {\n                text = text.substring(1);\n                took++;\n            }\n            var day = text.substring(0, 2);\n            if (!/[12][0-9]|3[01]/.test(day)) {\n                day = day.substring(0, 1);\n                if (!/[1-9]/.test(day)) {\n                    throw new CannotParseDateException();\n                }\n            }\n            dateData.day = parseInt(day, 10);\n            return took + day.length;\n        };\n        DateConverter.prototype.parseDayOfWeekTextual = function(text) {\n            var maxLength = 0;\n            for (var dayOfWeek = 0; dayOfWeek < 7; dayOfWeek++) {\n                var translation = this.options.translator.translateDayOfWeek(dayOfWeek);\n                maxLength = Math.max(maxLength, translation.length);\n                if (\n                    text.substring(0, translation.length).toLowerCase() ===\n                    translation.toLowerCase()\n                ) {\n                    return translation.length;\n                }\n            }\n            var took = 0;\n            while (/[a-zA-Z]/.test(text.substring(0, 1))) {\n                text = text.substring(1);\n                took++;\n                if (took === maxLength) {\n                    break;\n                }\n            }\n            return took;\n        };\n        DateConverter.prototype.parseMonth = function(text, dateData) {\n            var took = 0;\n            while (text.substring(0, 1) === '0') {\n                text = text.substring(1);\n                took++;\n            }\n            var month = text.substring(0, 2);\n            if (month !== '10' && month !== '11' && month !== '12') {\n                month = month.substring(0, 1);\n                if (!/[1-9]/.test(month)) {\n                    throw new CannotParseDateException();\n                }\n            }\n            dateData.month = parseInt(month, 10);\n            return took + month.length;\n        };\n        DateConverter.prototype.parseMonthTextual = function(text, dateData) {\n            for (var month = 1; month <= 12; month++) {\n                var translation = this.options.translator.translateMonth(month - 1);\n                if (\n                    text.substring(0, translation.length).toLowerCase() ===\n                    translation.toLowerCase()\n                ) {\n                    dateData.month = month;\n                    return translation.length;\n                }\n            }\n            throw new CannotParseDateException();\n        };\n        DateConverter.prototype.parseYear = function(text, dateData) {\n            var isNegative = false;\n            if (text.substring(0, 1) === '-') {\n                isNegative = true;\n                text = text.substring(1);\n            }\n            var yearLength = 0;\n            while (/[0-9]/.test(text.substring(yearLength, yearLength + 1))) {\n                yearLength++;\n            }\n            if (yearLength === 0) {\n                throw new CannotParseDateException();\n            }\n            var year = parseInt(text.substring(0, yearLength), 10);\n            if (isNegative) {\n                year = -year;\n            }\n            dateData.year = year;\n            return yearLength + (isNegative ? 1 : 0);\n        };\n        DateConverter.prototype.parseYearTwoDigits = function(text, dateData) {\n            var yearEnd = text.substring(0, 2);\n            if (!/[0-9]{2}/.test(yearEnd)) {\n                throw new CannotParseDateException();\n            }\n            var currentYear = this.options.getToday().getFullYear() + '';\n            var yearBeginning = currentYear.substring(0, currentYear.length - 2);\n            dateData.year = parseInt(yearBeginning + yearEnd, 10);\n            return 2;\n        };\n        return DateConverter;\n    })();\n    TheDatepicker.DateConverter = DateConverter;\n})(TheDatepicker || (TheDatepicker = {}));\nvar TheDatepicker;\n(function(TheDatepicker) {\n    var InitializationPhase;\n    (function(InitializationPhase) {\n        InitializationPhase[(InitializationPhase['Untouched'] = 0)] = 'Untouched';\n        InitializationPhase[(InitializationPhase['Waiting'] = 1)] = 'Waiting';\n        InitializationPhase[(InitializationPhase['Ready'] = 2)] = 'Ready';\n        InitializationPhase[(InitializationPhase['Initialized'] = 3)] = 'Initialized';\n        InitializationPhase[(InitializationPhase['Destroyed'] = 4)] = 'Destroyed';\n    })(InitializationPhase || (InitializationPhase = {}));\n    var Datepicker = (function() {\n        function Datepicker(input, container, options) {\n            if (container === void 0) {\n                container = null;\n            }\n            if (options === void 0) {\n                options = null;\n            }\n            this.initializationPhase = InitializationPhase.Untouched;\n            this.inputListenerRemover = null;\n            this.listenerRemovers = [];\n            this.deselectElement = null;\n            if (input !== null && !TheDatepicker.Helper.isElement(input)) {\n                throw new Error('Input was expected to be null or an HTMLElement.');\n            }\n            if (container !== null && !TheDatepicker.Helper.isElement(container)) {\n                throw new Error('Container was expected to be null or an HTMLElement.');\n            }\n            if (input === null && container === null) {\n                throw new Error('At least one of input or container is mandatory.');\n            }\n            if (options !== null && !(options instanceof TheDatepicker.Options)) {\n                throw new Error('Options was expected to be an instance of Options');\n            }\n            this.document = document;\n            this.options = options !== null ? options.clone() : new TheDatepicker.Options();\n            var duplicateError = 'There is already a datepicker present on ';\n            this.isContainerExternal = container !== null;\n            if (container === null) {\n                container = this.createContainer();\n                if (input !== null) {\n                    input.parentNode.appendChild(container);\n                }\n            } else {\n                if (typeof container.datepicker !== 'undefined') {\n                    throw new Error(duplicateError + 'container.');\n                }\n            }\n            if (input !== null) {\n                if (typeof input.datepicker !== 'undefined') {\n                    throw new Error(duplicateError + 'input.');\n                }\n                input.datepicker = this;\n                input.autocomplete = 'off';\n            }\n            container.datepicker = this;\n            this.input = input;\n            this.container = container;\n            this.dateConverter = new TheDatepicker.DateConverter(this.options);\n            this.viewModel = new TheDatepicker.ViewModel(this.options, this);\n            this.triggerReady(input);\n            this.triggerReady(container);\n        }\n        Datepicker.prototype.render = function() {\n            var _this = this;\n            switch (this.initializationPhase) {\n                case InitializationPhase.Destroyed:\n                    return;\n                case InitializationPhase.Initialized:\n                    this.viewModel.render();\n                    return;\n                case InitializationPhase.Ready:\n                    this.initListeners();\n                    this.initializationPhase = InitializationPhase.Initialized;\n                    this.render();\n                    return;\n                case InitializationPhase.Waiting:\n                    if (!this.options.isHiddenOnBlur()) {\n                        this.open();\n                        return;\n                    }\n                    this.viewModel.selectPossibleDate();\n                    this.updateDeselectButton();\n                    return;\n                case InitializationPhase.Untouched:\n                    this.preselectFromInput();\n                    this.createDeselectElement();\n                    this.viewModel.selectInitialDate(null);\n                    this.updateInput();\n                    if (this.input !== null && this.options.isHiddenOnBlur()) {\n                        if (this.input === this.document.activeElement) {\n                            this.initializationPhase = InitializationPhase.Ready;\n                            this.render();\n                            this.open();\n                            return;\n                        }\n                        this.inputListenerRemover = TheDatepicker.Helper.addEventListener(\n                            this.input,\n                            TheDatepicker.ListenerType.Focus,\n                            function(event) {\n                                _this.open(event);\n                            }\n                        );\n                        this.initializationPhase = InitializationPhase.Waiting;\n                        return;\n                    }\n                    this.initializationPhase = InitializationPhase.Ready;\n                    this.render();\n            }\n        };\n        Datepicker.prototype.open = function(event) {\n            if (event === void 0) {\n                event = null;\n            }\n            if (this.initializationPhase === InitializationPhase.Untouched) {\n                this.render();\n            }\n            if (this.initializationPhase === InitializationPhase.Waiting) {\n                this.initializationPhase = InitializationPhase.Ready;\n                this.render();\n                Datepicker.hasClickedViewModel = true;\n            }\n            if (!Datepicker.activateViewModel(event, this)) {\n                return false;\n            }\n            if (this.input !== null) {\n                this.input.focus();\n            }\n            return true;\n        };\n        Datepicker.prototype.close = function(event) {\n            if (event === void 0) {\n                event = null;\n            }\n            if (!this.viewModel.isActive()) {\n                return true;\n            }\n            if (!Datepicker.activateViewModel(event, null)) {\n                return false;\n            }\n            if (this.input !== null) {\n                this.input.blur();\n            }\n            return true;\n        };\n        Datepicker.prototype.reset = function(event) {\n            if (event === void 0) {\n                event = null;\n            }\n            return this.viewModel.reset(event);\n        };\n        Datepicker.prototype.destroy = function() {\n            if (this.initializationPhase === InitializationPhase.Destroyed) {\n                return;\n            }\n            for (var index = 0; index < this.listenerRemovers.length; index++) {\n                this.listenerRemovers[index]();\n            }\n            this.listenerRemovers = [];\n            if (this.isContainerExternal) {\n                this.container.innerHTML = '';\n            } else {\n                this.container.parentNode.removeChild(this.container);\n            }\n            this.container.datepicker = null;\n            if (this.input !== null) {\n                this.input.datepicker = null;\n                this.removeInitialInputListener();\n                this.input = null;\n            }\n            if (this.deselectElement !== null) {\n                this.deselectElement.parentNode.removeChild(this.deselectElement);\n                this.deselectElement = null;\n            }\n            this.initializationPhase = InitializationPhase.Destroyed;\n        };\n        Datepicker.prototype.selectDate = function(date, doUpdateMonth, event) {\n            if (doUpdateMonth === void 0) {\n                doUpdateMonth = true;\n            }\n            if (event === void 0) {\n                event = null;\n            }\n            return this.viewModel.selectDay(\n                event,\n                TheDatepicker.Helper.normalizeDate('Date', date, this.options),\n                doUpdateMonth\n            );\n        };\n        Datepicker.prototype.getSelectedDate = function() {\n            return this.viewModel.selectedDate !== null\n                ? new Date(this.viewModel.selectedDate.getTime())\n                : null;\n        };\n        Datepicker.prototype.getCurrentMonth = function() {\n            return this.viewModel.getCurrentMonth();\n        };\n        Datepicker.prototype.goToMonth = function(month, event) {\n            if (event === void 0) {\n                event = null;\n            }\n            return this.viewModel.goToMonth(\n                event,\n                TheDatepicker.Helper.normalizeDate('Month', month, this.options)\n            );\n        };\n        Datepicker.prototype.parseRawInput = function() {\n            return this.dateConverter.parseDate(this.options.getInputFormat(), this.input.value);\n        };\n        Datepicker.prototype.readInput = function(event) {\n            if (event === void 0) {\n                event = null;\n            }\n            if (this.input === null) {\n                return false;\n            }\n            try {\n                var date = this.parseRawInput();\n                if (date !== null) {\n                    return this.viewModel.selectNearestDate(event, date);\n                }\n                return this.viewModel.cancelSelection(event);\n            } catch (error) {\n                if (!(error instanceof TheDatepicker.CannotParseDateException)) {\n                    throw error;\n                }\n                return false;\n            }\n        };\n        Datepicker.prototype.updateInput = function() {\n            if (this.input === null || this.input === this.document.activeElement) {\n                return;\n            }\n            this.input.value =\n                this.viewModel.selectedDate !== null\n                    ? this.dateConverter.formatDate(\n                          this.options.getInputFormat(),\n                          this.viewModel.selectedDate\n                      )\n                    : '';\n            this.updateDeselectButton();\n        };\n        Datepicker.onDatepickerReady = function(element, callback) {\n            if (callback === void 0) {\n                callback = null;\n            }\n            var promise = null;\n            var promiseResolve = null;\n            if (typeof Promise !== 'undefined') {\n                promise = new Promise(function(resolve) {\n                    promiseResolve = resolve;\n                });\n            }\n            if (\n                typeof element.datepicker !== 'undefined' &&\n                element.datepicker instanceof Datepicker\n            ) {\n                element.datepicker.triggerReadyListener(callback, element);\n                if (promiseResolve !== null) {\n                    promiseResolve(element.datepicker);\n                }\n            } else {\n                Datepicker.readyListeners.push({\n                    promiseResolve: promiseResolve,\n                    element: element,\n                    callback: callback,\n                });\n            }\n            return promise;\n        };\n        Datepicker.prototype.createContainer = function() {\n            var container = this.document.createElement('div');\n            container.className = this.options.getClassesPrefix() + 'container';\n            return container;\n        };\n        Datepicker.prototype.createDeselectElement = function() {\n            var _this = this;\n            if (this.input === null || !this.options.isDeselectButtonShown()) {\n                return null;\n            }\n            var deselectElement = this.document.createElement('span');\n            deselectElement.style.position = 'absolute';\n            var deselectButton = this.document.createElement('a');\n            deselectButton.innerHTML = this.options.getDeselectHtml();\n            deselectButton.style.position = 'relative';\n            deselectButton.href = '#';\n            deselectButton.onclick = function(event) {\n                event = event || window.event;\n                TheDatepicker.Helper.preventDefault(event);\n                _this.viewModel.cancelSelection(event);\n            };\n            deselectElement.className = this.options.getClassesPrefix() + 'deselect';\n            deselectButton.className = this.options.getClassesPrefix() + 'deselect-button';\n            deselectElement.appendChild(deselectButton);\n            this.input.parentNode.appendChild(deselectElement);\n            this.deselectElement = deselectElement;\n        };\n        Datepicker.prototype.updateDeselectButton = function() {\n            if (this.input !== null && this.deselectElement !== null) {\n                var isVisible = this.options.isDeselectButtonShown() && this.input.value !== '';\n                this.deselectElement.style.visibility = isVisible ? 'visible' : 'hidden';\n            }\n        };\n        Datepicker.prototype.preselectFromInput = function() {\n            if (this.input !== null) {\n                try {\n                    var date = this.parseRawInput();\n                    if (date !== null) {\n                        this.options.setInitialDate(date);\n                    }\n                } catch (error) {\n                    if (!(error instanceof TheDatepicker.CannotParseDateException)) {\n                        throw error;\n                    }\n                }\n            }\n        };\n        Datepicker.prototype.initListeners = function() {\n            var _this = this;\n            if (!Datepicker.areGlobalListenersInitialized) {\n                var activeViewModel = null;\n                var checkMiss = function(event) {\n                    if (Datepicker.hasClickedViewModel) {\n                        Datepicker.hasClickedViewModel = false;\n                    } else {\n                        Datepicker.activateViewModel(event, null);\n                    }\n                };\n                TheDatepicker.Helper.addEventListener(\n                    this.document,\n                    TheDatepicker.ListenerType.MouseDown,\n                    checkMiss\n                );\n                TheDatepicker.Helper.addEventListener(\n                    this.document,\n                    TheDatepicker.ListenerType.FocusIn,\n                    checkMiss\n                );\n                TheDatepicker.Helper.addEventListener(\n                    this.document,\n                    TheDatepicker.ListenerType.KeyDown,\n                    function(event) {\n                        if (Datepicker.activeViewModel !== null) {\n                            Datepicker.activeViewModel.triggerKeyPress(event);\n                        }\n                    }\n                );\n                Datepicker.areGlobalListenersInitialized = true;\n            }\n            this.removeInitialInputListener();\n            var hit = function(event) {\n                Datepicker.activateViewModel(event, _this);\n                Datepicker.hasClickedViewModel = true;\n            };\n            this.listenerRemovers.push(\n                TheDatepicker.Helper.addEventListener(\n                    this.container,\n                    TheDatepicker.ListenerType.MouseDown,\n                    hit\n                )\n            );\n            this.listenerRemovers.push(\n                TheDatepicker.Helper.addEventListener(\n                    this.container,\n                    TheDatepicker.ListenerType.FocusIn,\n                    hit\n                )\n            );\n            if (this.deselectElement !== null) {\n                this.listenerRemovers.push(\n                    TheDatepicker.Helper.addEventListener(\n                        this.deselectElement,\n                        TheDatepicker.ListenerType.MouseDown,\n                        hit\n                    )\n                );\n                this.listenerRemovers.push(\n                    TheDatepicker.Helper.addEventListener(\n                        this.deselectElement,\n                        TheDatepicker.ListenerType.FocusIn,\n                        hit\n                    )\n                );\n            }\n            if (this.input !== null) {\n                this.listenerRemovers.push(\n                    TheDatepicker.Helper.addEventListener(\n                        this.input,\n                        TheDatepicker.ListenerType.MouseDown,\n                        hit\n                    )\n                );\n                this.listenerRemovers.push(\n                    TheDatepicker.Helper.addEventListener(\n                        this.input,\n                        TheDatepicker.ListenerType.Focus,\n                        hit\n                    )\n                );\n                this.listenerRemovers.push(\n                    TheDatepicker.Helper.addEventListener(\n                        this.input,\n                        TheDatepicker.ListenerType.Blur,\n                        function() {\n                            _this.updateInput();\n                        }\n                    )\n                );\n                this.listenerRemovers.push(\n                    TheDatepicker.Helper.addEventListener(\n                        this.input,\n                        TheDatepicker.ListenerType.KeyDown,\n                        function(event) {\n                            TheDatepicker.Helper.stopPropagation(event);\n                        }\n                    )\n                );\n                this.listenerRemovers.push(\n                    TheDatepicker.Helper.addEventListener(\n                        this.input,\n                        TheDatepicker.ListenerType.KeyUp,\n                        function(event) {\n                            _this.readInput(event);\n                        }\n                    )\n                );\n            }\n        };\n        Datepicker.prototype.removeInitialInputListener = function() {\n            if (this.inputListenerRemover !== null) {\n                this.inputListenerRemover();\n                this.inputListenerRemover = null;\n            }\n        };\n        Datepicker.prototype.triggerReady = function(element) {\n            for (var index = Datepicker.readyListeners.length - 1; index >= 0; index--) {\n                var listener = Datepicker.readyListeners[index];\n                if (listener.element === element) {\n                    this.triggerReadyListener(listener.callback, element);\n                    if (listener.promiseResolve !== null) {\n                        listener.promiseResolve(this);\n                    }\n                    Datepicker.readyListeners.splice(index, 1);\n                }\n            }\n        };\n        Datepicker.prototype.triggerReadyListener = function(callback, element) {\n            if (callback !== null) {\n                callback.call(element, this, element);\n            }\n        };\n        Datepicker.prototype.fixPosition = function() {\n            if (this.isContainerExternal || !this.options.isPositionFixingEnabled()) {\n                return;\n            }\n            var windowTop = window.pageYOffset || this.document.documentElement.scrollTop;\n            var windowHeight =\n                window.innerHeight ||\n                Math.max(\n                    this.document.documentElement.clientHeight,\n                    this.document.body.clientHeight\n                );\n            var windowBottom = windowTop + windowHeight;\n            var inputTop = 0;\n            var parentElement = this.input;\n            while (\n                parentElement !== null &&\n                !isNaN(parentElement.offsetLeft) &&\n                !isNaN(parentElement.offsetTop)\n            ) {\n                inputTop += parentElement.offsetTop - parentElement.scrollTop;\n                parentElement = parentElement.offsetParent;\n            }\n            var inputBottom = inputTop + this.input.offsetHeight;\n            var containerHeight = this.container.offsetHeight;\n            var locationClass = '';\n            var locateOver =\n                inputTop - windowTop > containerHeight &&\n                windowBottom - inputBottom < containerHeight;\n            if (locateOver) {\n                locationClass = ' ' + this.options.getClassesPrefix() + 'container--over';\n            }\n            this.container.className =\n                this.options.getClassesPrefix() + 'container' + locationClass;\n            var childNodes = this.container.childNodes;\n            if (childNodes.length > 0) {\n                var child = childNodes[0];\n                if (locateOver) {\n                    var move = this.input.offsetHeight + this.container.offsetHeight;\n                    child.style.position = 'relative';\n                    child.style.top = '-' + move + 'px';\n                } else {\n                    child.style.position = '';\n                    child.style.top = '';\n                }\n            }\n        };\n        Datepicker.activateViewModel = function(event, datepicker) {\n            var viewModel = datepicker !== null ? datepicker.viewModel : null;\n            var activeViewModel = Datepicker.activeViewModel;\n            if (activeViewModel === viewModel) {\n                return true;\n            }\n            if (activeViewModel !== null && !activeViewModel.setActive(event, false)) {\n                return false;\n            }\n            if (Datepicker.activeViewModel !== activeViewModel) {\n                return true;\n            }\n            if (viewModel === null) {\n                Datepicker.activeViewModel = null;\n                return true;\n            }\n            if (!viewModel.setActive(event, true)) {\n                return false;\n            }\n            if (Datepicker.activeViewModel !== activeViewModel) {\n                return true;\n            }\n            datepicker.fixPosition();\n            Datepicker.activeViewModel = viewModel;\n            return true;\n        };\n        Datepicker.readyListeners = [];\n        Datepicker.areGlobalListenersInitialized = false;\n        Datepicker.activeViewModel = null;\n        Datepicker.hasClickedViewModel = false;\n        return Datepicker;\n    })();\n    TheDatepicker.Datepicker = Datepicker;\n    TheDatepicker.onDatepickerReady = Datepicker.onDatepickerReady;\n})(TheDatepicker || (TheDatepicker = {}));\nvar TheDatepicker;\n(function(TheDatepicker) {\n    var Day = (function() {\n        function Day(date) {\n            this.isToday = false;\n            this.isPast = false;\n            this.isAvailable = true;\n            this.isInValidity = true;\n            this.isVisible = true;\n            this.isInCurrentMonth = true;\n            this.isSelected = false;\n            this.isHighlighted = false;\n            this.isFocused = false;\n            this.dayNumber = date.getDate();\n            this.month = date.getMonth() + 1;\n            this.year = date.getFullYear();\n            this.dayOfWeek = date.getDay();\n            this.isWeekend =\n                this.dayOfWeek === TheDatepicker.DayOfWeek.Saturday ||\n                this.dayOfWeek === TheDatepicker.DayOfWeek.Sunday;\n        }\n        Day.prototype.getDate = function() {\n            return new Date(this.year, this.month - 1, this.dayNumber, 0, 0, 0, 0);\n        };\n        Day.prototype.getFormatted = function() {\n            return (\n                this.year +\n                '-' +\n                ('0' + this.month).slice(-2) +\n                '-' +\n                ('0' + this.dayNumber).slice(-2)\n            );\n        };\n        Day.prototype.isEqualToDate = function(date) {\n            return (\n                date !== null &&\n                this.dayNumber === date.getDate() &&\n                this.month === date.getMonth() + 1 &&\n                this.year === date.getFullYear()\n            );\n        };\n        Day.prototype.isEqualToDay = function(day) {\n            return (\n                day !== null &&\n                this.dayNumber === day.dayNumber &&\n                this.month === day.month &&\n                this.year === day.year\n            );\n        };\n        return Day;\n    })();\n    TheDatepicker.Day = Day;\n})(TheDatepicker || (TheDatepicker = {}));\nvar TheDatepicker;\n(function(TheDatepicker) {\n    var DayOfWeek;\n    (function(DayOfWeek) {\n        DayOfWeek[(DayOfWeek['Monday'] = 1)] = 'Monday';\n        DayOfWeek[(DayOfWeek['Tuesday'] = 2)] = 'Tuesday';\n        DayOfWeek[(DayOfWeek['Wednesday'] = 3)] = 'Wednesday';\n        DayOfWeek[(DayOfWeek['Thursday'] = 4)] = 'Thursday';\n        DayOfWeek[(DayOfWeek['Friday'] = 5)] = 'Friday';\n        DayOfWeek[(DayOfWeek['Saturday'] = 6)] = 'Saturday';\n        DayOfWeek[(DayOfWeek['Sunday'] = 0)] = 'Sunday';\n    })((DayOfWeek = TheDatepicker.DayOfWeek || (TheDatepicker.DayOfWeek = {})));\n    var Month;\n    (function(Month) {\n        Month[(Month['January'] = 0)] = 'January';\n        Month[(Month['February'] = 1)] = 'February';\n        Month[(Month['March'] = 2)] = 'March';\n        Month[(Month['April'] = 3)] = 'April';\n        Month[(Month['May'] = 4)] = 'May';\n        Month[(Month['June'] = 5)] = 'June';\n        Month[(Month['July'] = 6)] = 'July';\n        Month[(Month['August'] = 7)] = 'August';\n        Month[(Month['September'] = 8)] = 'September';\n        Month[(Month['October'] = 9)] = 'October';\n        Month[(Month['November'] = 10)] = 'November';\n        Month[(Month['December'] = 11)] = 'December';\n    })((Month = TheDatepicker.Month || (TheDatepicker.Month = {})));\n    var KeyCode;\n    (function(KeyCode) {\n        KeyCode[(KeyCode['Enter'] = 13)] = 'Enter';\n        KeyCode[(KeyCode['Space'] = 32)] = 'Space';\n        KeyCode[(KeyCode['Left'] = 37)] = 'Left';\n        KeyCode[(KeyCode['Up'] = 38)] = 'Up';\n        KeyCode[(KeyCode['Right'] = 39)] = 'Right';\n        KeyCode[(KeyCode['Down'] = 40)] = 'Down';\n    })((KeyCode = TheDatepicker.KeyCode || (TheDatepicker.KeyCode = {})));\n    var ListenerType;\n    (function(ListenerType) {\n        ListenerType['MouseDown'] = 'mousedown';\n        ListenerType['Focus'] = 'focus';\n        ListenerType['FocusIn'] = 'focusin';\n        ListenerType['Blur'] = 'blur';\n        ListenerType['KeyDown'] = 'keydown';\n        ListenerType['KeyUp'] = 'keyup';\n    })((ListenerType = TheDatepicker.ListenerType || (TheDatepicker.ListenerType = {})));\n    var Helper = (function() {\n        function Helper() {}\n        Helper.resetTime = function(date) {\n            if (date === null) {\n                return null;\n            }\n            date.setHours(0);\n            date.setMinutes(0);\n            date.setSeconds(0);\n            date.setMilliseconds(0);\n            return date;\n        };\n        Helper.normalizeDate = function(parameterName, value, options) {\n            if (!value) {\n                return null;\n            }\n            if (value instanceof TheDatepicker.Day) {\n                return value.getDate();\n            }\n            if (typeof value === 'string') {\n                if (value === 'today' || value === 'now') {\n                    return options.getToday();\n                }\n                if (value === 'tomorrow') {\n                    var date_1 = options.getToday();\n                    date_1.setDate(date_1.getDate() + 1);\n                    return date_1;\n                }\n                if (value === 'yesterday') {\n                    var date_2 = options.getToday();\n                    date_2.setDate(date_2.getDate() - 1);\n                    return date_2;\n                }\n                var matches = value.match(/^\\s*([+-]?)\\s*([0-9]+)\\s*(day|month|year)s?\\s*$/i);\n                if (matches !== null) {\n                    var date_3 = options.getToday();\n                    var amount = parseInt(matches[2], 10) * (matches[1] === '-' ? -1 : 1);\n                    switch (matches[3].toLowerCase()) {\n                        case 'day':\n                        case 'days':\n                            date_3.setDate(date_3.getDate() + amount);\n                            break;\n                        case 'month':\n                        case 'months':\n                            date_3.setMonth(date_3.getMonth() + amount);\n                            break;\n                        case 'year':\n                        case 'years':\n                            date_3.setFullYear(date_3.getFullYear() + amount);\n                            break;\n                    }\n                    return date_3;\n                }\n                var date = new Date(value);\n                if (!isNaN(date.getTime())) {\n                    return Helper.resetTime(date);\n                }\n            } else if (Helper.isValidDate(value)) {\n                return Helper.resetTime(new Date(value.getTime()));\n            }\n            throw new Error(\n                parameterName +\n                    ' was expected to be a valid Date string or valid Date or Day or null.'\n            );\n        };\n        Helper.normalizeMonth = function(date) {\n            if (date === null) {\n                return null;\n            }\n            var month = new Date(date.getTime());\n            month.setDate(1);\n            return month;\n        };\n        Helper.isElement = function(element) {\n            return (\n                typeof element === 'object' &&\n                element.nodeType === 1 &&\n                typeof element.style === 'object' &&\n                typeof element.ownerDocument === 'object'\n            );\n        };\n        Helper.isValidDate = function(value) {\n            return (\n                typeof value === 'object' &&\n                Object.prototype.toString.call(value) === '[object Date]' &&\n                !isNaN(value.getTime())\n            );\n        };\n        Helper.inArray = function(list, item) {\n            for (var index = 0; index < list.length; index++) {\n                if (list[index] === item) {\n                    return true;\n                }\n            }\n            return false;\n        };\n        Helper.addEventListener = function(element, listenerType, listener) {\n            if (element.addEventListener) {\n                element.addEventListener(listenerType, listener);\n                return function() {\n                    element.removeEventListener(listenerType, listener);\n                };\n            }\n            var listenerProperty = 'on' + listenerType;\n            var originalListener = element[listenerProperty] || null;\n            element[listenerProperty] = function(event) {\n                event = event || window.event;\n                if (originalListener !== null) {\n                    originalListener.call(element, event);\n                }\n                listener(event);\n            };\n            return function() {\n                element[listenerProperty] = originalListener;\n            };\n        };\n        Helper.preventDefault = function(event) {\n            if (event.preventDefault) {\n                event.preventDefault();\n            } else {\n                event.returnValue = false;\n            }\n        };\n        Helper.stopPropagation = function(event) {\n            if (event.stopPropagation) {\n                event.stopPropagation();\n            } else {\n                event.cancelBubble = true;\n            }\n        };\n        Helper.checkString = function(parameterName, value, checkNonEmpty) {\n            if (checkNonEmpty === void 0) {\n                checkNonEmpty = false;\n            }\n            if (!checkNonEmpty && !value) {\n                return '';\n            }\n            if (typeof value !== 'string' || (checkNonEmpty && value === '')) {\n                throw new Error(\n                    parameterName +\n                        ' was expected to be a' +\n                        (checkNonEmpty ? ' non empty' : '') +\n                        ' string.'\n                );\n            }\n            return value;\n        };\n        Helper.checkNumber = function(parameterName, value, min, max) {\n            if (min === void 0) {\n                min = null;\n            }\n            if (max === void 0) {\n                max = null;\n            }\n            value = typeof value === 'string' ? parseInt(value) : value;\n            if (\n                typeof value !== 'number' ||\n                isNaN(value) ||\n                (min !== null && value < min) ||\n                (max !== null && value > max)\n            ) {\n                throw new Error(\n                    parameterName +\n                        ' was expected to be a valid number' +\n                        (min !== null ? ' from ' + min : '') +\n                        (max !== null ? ' to ' + max : '') +\n                        '.'\n                );\n            }\n            return value;\n        };\n        Helper.checkFunction = function(parameterName, value, isNullable) {\n            if (isNullable === void 0) {\n                isNullable = true;\n            }\n            if (isNullable && !value) {\n                return null;\n            }\n            if (typeof value !== 'function') {\n                throw new Error(\n                    parameterName +\n                        ' was expected to be a function' +\n                        (isNullable ? ' or null' : '') +\n                        '.'\n                );\n            }\n            return value;\n        };\n        return Helper;\n    })();\n    TheDatepicker.Helper = Helper;\n})(TheDatepicker || (TheDatepicker = {}));\nvar TheDatepicker;\n(function(TheDatepicker) {\n    var HtmlHelper = (function() {\n        function HtmlHelper(options) {\n            this.options = options;\n            this.document = document;\n        }\n        HtmlHelper.prototype.createDiv = function(className) {\n            var div = this.document.createElement('div');\n            this.addClass(div, className);\n            return div;\n        };\n        HtmlHelper.prototype.createAnchor = function(onClick) {\n            var anchor = this.document.createElement('a');\n            this.addClass(anchor, 'button');\n            anchor.href = '#';\n            anchor.onclick = function(event) {\n                event = event || window.event;\n                TheDatepicker.Helper.preventDefault(event);\n                onClick(event);\n            };\n            anchor.onkeydown = function(event) {\n                event = event || window.event;\n                if (\n                    TheDatepicker.Helper.inArray(\n                        [TheDatepicker.KeyCode.Enter, TheDatepicker.KeyCode.Space],\n                        event.keyCode\n                    )\n                ) {\n                    TheDatepicker.Helper.preventDefault(event);\n                    onClick(event);\n                }\n            };\n            return anchor;\n        };\n        HtmlHelper.prototype.createSpan = function() {\n            return this.document.createElement('span');\n        };\n        HtmlHelper.prototype.createTable = function(className, header, body) {\n            var table = this.document.createElement('table');\n            this.addClass(table, className);\n            table.appendChild(header);\n            table.appendChild(body);\n            return table;\n        };\n        HtmlHelper.prototype.createTableHeader = function(className, cells) {\n            var tableHeader = this.document.createElement('thead');\n            this.addClass(tableHeader, className);\n            var row = this.document.createElement('tr');\n            for (var index = 0; index < cells.length; index++) {\n                row.appendChild(cells[index]);\n            }\n            tableHeader.appendChild(row);\n            return tableHeader;\n        };\n        HtmlHelper.prototype.createTableHeaderCell = function(className) {\n            var cell = this.document.createElement('th');\n            cell.scope = 'col';\n            this.addClass(cell, className);\n            return cell;\n        };\n        HtmlHelper.prototype.createTableBody = function(className, rows) {\n            var tableBody = this.document.createElement('tbody');\n            this.addClass(tableBody, className);\n            for (var index = 0; index < rows.length; index++) {\n                tableBody.appendChild(rows[index]);\n            }\n            return tableBody;\n        };\n        HtmlHelper.prototype.createTableRow = function(className, cells) {\n            var row = this.document.createElement('tr');\n            for (var index = 0; index < cells.length; index++) {\n                row.appendChild(cells[index]);\n            }\n            return row;\n        };\n        HtmlHelper.prototype.createTableCell = function() {\n            return this.document.createElement('td');\n        };\n        HtmlHelper.prototype.createSelectInput = function(options, onChange) {\n            var input = this.document.createElement('select');\n            this.addClass(input, 'select');\n            for (var index = 0; index < options.length; index++) {\n                input.appendChild(\n                    this.createSelectOption(options[index].value, options[index].label)\n                );\n            }\n            input.onchange = function(event) {\n                onChange(event || window.event, input.value);\n            };\n            input.onkeydown = function(event) {\n                event = event || window.event;\n                TheDatepicker.Helper.stopPropagation(event);\n            };\n            return input;\n        };\n        HtmlHelper.prototype.createSelectOption = function(value, label) {\n            var option = this.document.createElement('option');\n            option.value = value;\n            option.innerText = label;\n            return option;\n        };\n        HtmlHelper.prototype.addClass = function(element, className) {\n            className = this.options.getClassesPrefix() + className;\n            if (element.className !== '') {\n                className = ' ' + className;\n            }\n            element.className += className;\n        };\n        return HtmlHelper;\n    })();\n    TheDatepicker.HtmlHelper = HtmlHelper;\n})(TheDatepicker || (TheDatepicker = {}));\nvar TheDatepicker;\n(function(TheDatepicker) {\n    var EventType;\n    (function(EventType) {\n        EventType['BeforeSelect'] = 'beforeSelect';\n        EventType['Select'] = 'select';\n        EventType['BeforeOpenAndClose'] = 'beforeOpenAndClose';\n        EventType['OpenAndClose'] = 'openAndClose';\n        EventType['MonthChange'] = 'monthChange';\n        EventType['BeforeMonthChange'] = 'beforeMonthChange';\n    })((EventType = TheDatepicker.EventType || (TheDatepicker.EventType = {})));\n    var AvailableDateNotFoundException = (function() {\n        function AvailableDateNotFoundException() {}\n        return AvailableDateNotFoundException;\n    })();\n    TheDatepicker.AvailableDateNotFoundException = AvailableDateNotFoundException;\n    var Options = (function() {\n        function Options(translator) {\n            if (translator === void 0) {\n                translator = null;\n            }\n            this.hideOnBlur = true;\n            this.hideOnSelect = true;\n            this.minDate = null;\n            this.maxDate = null;\n            this.minMonth = null;\n            this.maxMonth = null;\n            this.initialDate = null;\n            this.initialMonth = null;\n            this.initialDatePriority = true;\n            this.firstDayOfWeek = TheDatepicker.DayOfWeek.Monday;\n            this.dateAvailabilityResolver = null;\n            this.cellContentResolver = null;\n            this.cellContentStructureResolver = null;\n            this.cellClassesResolver = null;\n            this.inputFormat = 'j. n. Y';\n            this.daysOutOfMonthVisible = false;\n            this.fixedRowsCount = false;\n            this.toggleSelection = false;\n            this.allowEmpty = true;\n            this.showDeselectButton = true;\n            this.showResetButton = false;\n            this.monthAsDropdown = true;\n            this.yearAsDropdown = true;\n            this.monthAndYearSeparated = true;\n            this.classesPrefix = 'c-datepicker__';\n            this.showCloseButton = true;\n            this.title = '';\n            this.dropdownItemsLimit = 200;\n            this.goBackHtml = '&lt;';\n            this.goForwardHtml = '&gt;';\n            this.closeHtml = '&times;';\n            this.resetHtml = '&olarr;';\n            this.deselectHtml = '&times;';\n            this.positionFixing = true;\n            this.today = null;\n            this.listeners = {\n                beforeSelect: [],\n                select: [],\n                beforeOpenAndClose: [],\n                openAndClose: [],\n                monthChange: [],\n                beforeMonthChange: [],\n            };\n            this.translator = translator !== null ? translator : new TheDatepicker.Translator();\n            this.document = document;\n        }\n        Options.prototype.clone = function() {\n            var options = new Options(this.translator);\n            options.hideOnBlur = this.hideOnBlur;\n            options.hideOnSelect = this.hideOnSelect;\n            options.minDate = this.minDate;\n            options.maxDate = this.maxDate;\n            options.minMonth = this.minMonth;\n            options.maxMonth = this.maxMonth;\n            options.initialDate = this.initialDate;\n            options.initialMonth = this.initialMonth;\n            options.initialDatePriority = this.initialDatePriority;\n            options.firstDayOfWeek = this.firstDayOfWeek;\n            options.dateAvailabilityResolver = this.dateAvailabilityResolver;\n            options.cellContentResolver = this.cellContentResolver;\n            options.cellContentStructureResolver = this.cellContentStructureResolver;\n            options.cellClassesResolver = this.cellClassesResolver;\n            options.inputFormat = this.inputFormat;\n            options.daysOutOfMonthVisible = this.daysOutOfMonthVisible;\n            options.fixedRowsCount = this.fixedRowsCount;\n            options.toggleSelection = this.toggleSelection;\n            options.allowEmpty = this.allowEmpty;\n            options.showDeselectButton = this.showDeselectButton;\n            options.showResetButton = this.showResetButton;\n            options.monthAsDropdown = this.monthAsDropdown;\n            options.yearAsDropdown = this.yearAsDropdown;\n            options.monthAndYearSeparated = this.monthAndYearSeparated;\n            options.classesPrefix = this.classesPrefix;\n            options.showCloseButton = this.showCloseButton;\n            options.title = this.title;\n            options.dropdownItemsLimit = this.dropdownItemsLimit;\n            options.goBackHtml = this.goBackHtml;\n            options.goForwardHtml = this.goForwardHtml;\n            options.closeHtml = this.closeHtml;\n            options.resetHtml = this.resetHtml;\n            options.deselectHtml = this.deselectHtml;\n            options.positionFixing = this.positionFixing;\n            options.listeners.beforeSelect = this.listeners.beforeSelect.slice(0);\n            options.listeners.select = this.listeners.select.slice(0);\n            options.listeners.beforeOpenAndClose = this.listeners.beforeOpenAndClose.slice(0);\n            options.listeners.openAndClose = this.listeners.openAndClose.slice(0);\n            options.listeners.monthChange = this.listeners.monthChange.slice(0);\n            options.listeners.beforeMonthChange = this.listeners.beforeMonthChange.slice(0);\n            return options;\n        };\n        Options.prototype.setHideOnBlur = function(value) {\n            this.hideOnBlur = !!value;\n        };\n        Options.prototype.setHideOnSelect = function(value) {\n            this.hideOnSelect = !!value;\n        };\n        Options.prototype.setMinDate = function(date) {\n            var normalizedDate = TheDatepicker.Helper.normalizeDate('Min date', date, this);\n            this.checkConstraints(normalizedDate, this.maxDate);\n            this.minDate = normalizedDate;\n            this.minMonth = TheDatepicker.Helper.normalizeMonth(normalizedDate);\n        };\n        Options.prototype.setMaxDate = function(date) {\n            var normalizedDate = TheDatepicker.Helper.normalizeDate('Max date', date, this);\n            this.checkConstraints(this.minDate, normalizedDate);\n            this.maxDate = normalizedDate;\n            this.maxMonth = TheDatepicker.Helper.normalizeMonth(normalizedDate);\n        };\n        Options.prototype.setInitialMonth = function(month) {\n            this.initialMonth = TheDatepicker.Helper.normalizeDate('Initial month', month, this);\n        };\n        Options.prototype.setInitialDate = function(value) {\n            this.initialDate = TheDatepicker.Helper.normalizeDate('Initial date', value, this);\n        };\n        Options.prototype.setInitialDatePriority = function(value) {\n            this.initialDatePriority = !!value;\n        };\n        Options.prototype.setFirstDayOfWeek = function(dayOfWeek) {\n            this.firstDayOfWeek = TheDatepicker.Helper.checkNumber(\n                'First day of week',\n                dayOfWeek,\n                0,\n                6\n            );\n        };\n        Options.prototype.setDateAvailabilityResolver = function(resolver) {\n            this.dateAvailabilityResolver = TheDatepicker.Helper.checkFunction(\n                'Resolver',\n                resolver\n            );\n        };\n        Options.prototype.setCellContentResolver = function(resolver) {\n            this.cellContentResolver = TheDatepicker.Helper.checkFunction('Resolver', resolver);\n        };\n        Options.prototype.setCellContentStructureResolver = function(init, update) {\n            if (update === void 0) {\n                update = null;\n            }\n            init = TheDatepicker.Helper.checkFunction('Resolver (init)', init);\n            update = TheDatepicker.Helper.checkFunction('Resolver (update)', update);\n            this.cellContentStructureResolver =\n                init === null\n                    ? null\n                    : {\n                          init: init,\n                          update: update,\n                      };\n        };\n        Options.prototype.setCellClassesResolver = function(resolver) {\n            this.cellClassesResolver = TheDatepicker.Helper.checkFunction('Resolver', resolver);\n        };\n        Options.prototype.setInputFormat = function(format) {\n            this.inputFormat = TheDatepicker.Helper.checkString('Input format', format, true);\n        };\n        Options.prototype.setDaysOutOfMonthVisible = function(value) {\n            this.daysOutOfMonthVisible = !!value;\n        };\n        Options.prototype.setFixedRowsCount = function(value) {\n            this.fixedRowsCount = !!value;\n        };\n        Options.prototype.setToggleSelection = function(value) {\n            this.toggleSelection = !!value;\n        };\n        Options.prototype.setShowDeselectButton = function(value) {\n            this.showDeselectButton = !!value;\n        };\n        Options.prototype.setAllowEmpty = function(value) {\n            this.allowEmpty = !!value;\n        };\n        Options.prototype.setShowResetButton = function(value) {\n            this.showResetButton = !!value;\n        };\n        Options.prototype.setMonthAsDropdown = function(value) {\n            this.monthAsDropdown = !!value;\n        };\n        Options.prototype.setYearAsDropdown = function(value) {\n            this.yearAsDropdown = !!value;\n        };\n        Options.prototype.setMonthAndYearSeparated = function(value) {\n            this.monthAndYearSeparated = !!value;\n        };\n        Options.prototype.setClassesPrefix = function(prefix) {\n            this.classesPrefix = TheDatepicker.Helper.checkString('Prefix', prefix);\n        };\n        Options.prototype.setShowCloseButton = function(value) {\n            this.showCloseButton = !!value;\n        };\n        Options.prototype.setTitle = function(title) {\n            this.title = TheDatepicker.Helper.checkString('Title', title);\n        };\n        Options.prototype.setDropdownItemsLimit = function(limit) {\n            this.dropdownItemsLimit = TheDatepicker.Helper.checkNumber('Items limit', limit, 1);\n        };\n        Options.prototype.setGoBackHtml = function(html) {\n            this.goBackHtml = TheDatepicker.Helper.checkString('Html', html);\n        };\n        Options.prototype.setGoForwardHtml = function(html) {\n            this.goForwardHtml = TheDatepicker.Helper.checkString('Html', html);\n        };\n        Options.prototype.setCloseHtml = function(html) {\n            this.closeHtml = TheDatepicker.Helper.checkString('Html', html);\n        };\n        Options.prototype.setResetHtml = function(html) {\n            this.resetHtml = TheDatepicker.Helper.checkString('Html', html);\n        };\n        Options.prototype.setDeselectHtml = function(html) {\n            this.deselectHtml = TheDatepicker.Helper.checkString('Html', html);\n        };\n        Options.prototype.setPositionFixing = function(value) {\n            this.positionFixing = !!value;\n        };\n        Options.prototype.setToday = function(date) {\n            this.today = TheDatepicker.Helper.normalizeDate('Today', date, this);\n        };\n        Options.prototype.onBeforeSelect = function(listener) {\n            this.onEventListener(EventType.BeforeSelect, listener);\n        };\n        Options.prototype.offBeforeSelect = function(listener) {\n            if (listener === void 0) {\n                listener = null;\n            }\n            this.offEventListener(EventType.BeforeSelect, listener);\n        };\n        Options.prototype.onSelect = function(listener) {\n            this.onEventListener(EventType.Select, listener);\n        };\n        Options.prototype.offSelect = function(listener) {\n            if (listener === void 0) {\n                listener = null;\n            }\n            this.offEventListener(EventType.Select, listener);\n        };\n        Options.prototype.onBeforeOpenAndClose = function(listener) {\n            this.onEventListener(EventType.BeforeOpenAndClose, listener);\n        };\n        Options.prototype.offBeforeOpenAndClose = function(listener) {\n            if (listener === void 0) {\n                listener = null;\n            }\n            this.offEventListener(EventType.BeforeOpenAndClose, listener);\n        };\n        Options.prototype.onOpenAndClose = function(listener) {\n            this.onEventListener(EventType.OpenAndClose, listener);\n        };\n        Options.prototype.offOpenAndClose = function(listener) {\n            if (listener === void 0) {\n                listener = null;\n            }\n            this.offEventListener(EventType.OpenAndClose, listener);\n        };\n        Options.prototype.onBeforeMonthChange = function(listener) {\n            this.onEventListener(EventType.BeforeMonthChange, listener);\n        };\n        Options.prototype.offBeforeMonthChange = function(listener) {\n            if (listener === void 0) {\n                listener = null;\n            }\n            this.offEventListener(EventType.BeforeMonthChange, listener);\n        };\n        Options.prototype.onMonthChange = function(listener) {\n            this.onEventListener(EventType.MonthChange, listener);\n        };\n        Options.prototype.offMonthChange = function(listener) {\n            if (listener === void 0) {\n                listener = null;\n            }\n            this.offEventListener(EventType.MonthChange, listener);\n        };\n        Options.prototype.getInitialMonth = function() {\n            var primarySource = this.initialDatePriority ? this.initialDate : this.initialMonth;\n            var secondarySource = this.initialDatePriority ? this.initialMonth : this.initialDate;\n            var initialMonth =\n                primarySource !== null\n                    ? new Date(primarySource.getTime())\n                    : secondarySource !== null\n                    ? new Date(secondarySource.getTime())\n                    : this.getToday();\n            initialMonth.setDate(1);\n            return this.correctMonth(initialMonth);\n        };\n        Options.prototype.isMonthInValidity = function(month) {\n            return this.calculateMonthCorrection(month) === null;\n        };\n        Options.prototype.correctMonth = function(month) {\n            var correctMonth = this.calculateMonthCorrection(month);\n            return correctMonth !== null ? correctMonth : month;\n        };\n        Options.prototype.getInitialDate = function() {\n            return this.findPossibleAvailableDate(this.initialDate);\n        };\n        Options.prototype.findPossibleAvailableDate = function(date) {\n            if (this.isAllowedEmpty()) {\n                return date !== null && this.isDateInValidity(date) && this.isDateAvailable(date)\n                    ? new Date(date.getTime())\n                    : null;\n            }\n            date = date !== null ? new Date(date.getTime()) : this.getToday();\n            date = this.findNearestAvailableDate(date);\n            if (date !== null) {\n                return date;\n            }\n            throw new AvailableDateNotFoundException();\n        };\n        Options.prototype.findNearestAvailableDate = function(date) {\n            date = this.correctDate(date);\n            if (this.isDateAvailable(date)) {\n                return date;\n            }\n            var maxLoops = 1000;\n            var increasedDate = date;\n            var decreasedDate = new Date(date.getTime());\n            do {\n                if (increasedDate !== null) {\n                    increasedDate.setDate(increasedDate.getDate() + 1);\n                    if (this.maxDate !== null && increasedDate.getTime() > this.maxDate.getTime()) {\n                        increasedDate = null;\n                    } else if (this.isDateAvailable(increasedDate)) {\n                        return increasedDate;\n                    }\n                }\n                if (decreasedDate !== null) {\n                    decreasedDate.setDate(decreasedDate.getDate() - 1);\n                    if (this.minDate !== null && decreasedDate.getTime() < this.minDate.getTime()) {\n                        decreasedDate = null;\n                    } else if (this.isDateAvailable(decreasedDate)) {\n                        return decreasedDate;\n                    }\n                }\n                maxLoops--;\n            } while ((increasedDate !== null || decreasedDate !== null) && maxLoops > 0);\n            return null;\n        };\n        Options.prototype.isDateInValidity = function(date) {\n            return this.calculateDateCorrection(date) === null;\n        };\n        Options.prototype.correctDate = function(date) {\n            var correctDate = this.calculateDateCorrection(date);\n            return correctDate !== null ? correctDate : date;\n        };\n        Options.prototype.getFirstDayOfWeek = function() {\n            return this.firstDayOfWeek;\n        };\n        Options.prototype.areDaysOutOfMonthVisible = function() {\n            return this.daysOutOfMonthVisible;\n        };\n        Options.prototype.hasFixedRowsCount = function() {\n            return this.fixedRowsCount;\n        };\n        Options.prototype.hasToggleSelection = function() {\n            return this.allowEmpty && this.toggleSelection;\n        };\n        Options.prototype.isAllowedEmpty = function() {\n            return this.allowEmpty;\n        };\n        Options.prototype.isDeselectButtonShown = function() {\n            return this.allowEmpty && this.showDeselectButton;\n        };\n        Options.prototype.isResetButtonShown = function() {\n            return this.showResetButton;\n        };\n        Options.prototype.isMonthAsDropdown = function() {\n            return this.monthAsDropdown;\n        };\n        Options.prototype.isYearAsDropdown = function() {\n            return this.yearAsDropdown;\n        };\n        Options.prototype.isMonthAndYearSeparated = function() {\n            return this.monthAndYearSeparated;\n        };\n        Options.prototype.getClassesPrefix = function() {\n            return this.classesPrefix;\n        };\n        Options.prototype.isCloseButtonShown = function() {\n            return this.hideOnBlur && this.showCloseButton;\n        };\n        Options.prototype.getTitle = function() {\n            return this.title;\n        };\n        Options.prototype.getMinDate = function() {\n            return this.minDate;\n        };\n        Options.prototype.getMaxDate = function() {\n            return this.maxDate;\n        };\n        Options.prototype.getMinMonth = function() {\n            return this.minMonth;\n        };\n        Options.prototype.getMaxMonth = function() {\n            return this.maxMonth;\n        };\n        Options.prototype.getDropdownItemsLimit = function() {\n            return this.dropdownItemsLimit;\n        };\n        Options.prototype.isDateAvailable = function(date) {\n            if (this.dateAvailabilityResolver !== null) {\n                return !!this.dateAvailabilityResolver(new Date(date.getTime()));\n            }\n            return true;\n        };\n        Options.prototype.getCellContent = function(day) {\n            if (this.cellContentResolver !== null) {\n                return this.cellContentResolver(day);\n            }\n            return day.dayNumber + '';\n        };\n        Options.prototype.getCellStructure = function() {\n            if (this.cellContentStructureResolver !== null) {\n                return this.cellContentStructureResolver.init();\n            }\n            return this.document.createElement('span');\n        };\n        Options.prototype.updateCellStructure = function(element, day) {\n            if (this.cellContentStructureResolver !== null) {\n                this.cellContentStructureResolver.update(element, day);\n            } else {\n                element.innerText = this.getCellContent(day);\n            }\n        };\n        Options.prototype.getCellClasses = function(day) {\n            if (this.cellClassesResolver !== null) {\n                var classes = this.cellClassesResolver(day);\n                if (typeof classes === 'object' && classes.constructor === Array) {\n                    return classes;\n                }\n            }\n            return [];\n        };\n        Options.prototype.getGoBackHtml = function() {\n            return this.goBackHtml;\n        };\n        Options.prototype.getGoForwardHtml = function() {\n            return this.goForwardHtml;\n        };\n        Options.prototype.getCloseHtml = function() {\n            return this.closeHtml;\n        };\n        Options.prototype.getResetHtml = function() {\n            return this.resetHtml;\n        };\n        Options.prototype.getDeselectHtml = function() {\n            return this.deselectHtml;\n        };\n        Options.prototype.isHiddenOnBlur = function() {\n            return this.hideOnBlur;\n        };\n        Options.prototype.isHiddenOnSelect = function() {\n            return this.hideOnBlur && this.hideOnSelect;\n        };\n        Options.prototype.getInputFormat = function() {\n            return this.inputFormat;\n        };\n        Options.prototype.isPositionFixingEnabled = function() {\n            return this.hideOnBlur && this.positionFixing;\n        };\n        Options.prototype.getToday = function() {\n            return this.today !== null\n                ? new Date(this.today.getTime())\n                : TheDatepicker.Helper.resetTime(new Date());\n        };\n        Options.prototype.checkConstraints = function(minDate, maxDate) {\n            if (minDate !== null && maxDate !== null && minDate.getTime() > maxDate.getTime()) {\n                throw new Error('Min date cannot be higher then max date.');\n            }\n        };\n        Options.prototype.calculateMonthCorrection = function(month) {\n            var minMonth = this.getMinMonth();\n            if (minMonth !== null && month.getTime() < minMonth.getTime()) {\n                return minMonth;\n            }\n            var maxMonth = this.getMaxMonth();\n            if (maxMonth !== null && month.getTime() > maxMonth.getTime()) {\n                return maxMonth;\n            }\n            return null;\n        };\n        Options.prototype.calculateDateCorrection = function(date) {\n            if (this.minDate !== null && date.getTime() < this.minDate.getTime()) {\n                return new Date(this.minDate.getTime());\n            }\n            if (this.maxDate !== null && date.getTime() > this.maxDate.getTime()) {\n                return new Date(this.maxDate.getTime());\n            }\n            return null;\n        };\n        Options.prototype.onEventListener = function(eventType, listener) {\n            this.listeners[eventType].push(\n                TheDatepicker.Helper.checkFunction('Event listener', listener, false)\n            );\n        };\n        Options.prototype.offEventListener = function(eventType, listener) {\n            listener = TheDatepicker.Helper.checkFunction('Event listener', listener);\n            if (listener === null) {\n                this.listeners[eventType] = [];\n            } else {\n                var newListeners = [];\n                for (var index = 0; index < this.listeners[eventType].length; index++) {\n                    if (this.listeners[eventType][index] !== listener) {\n                        newListeners.push(this.listeners[eventType][index]);\n                    }\n                }\n                this.listeners[eventType] = newListeners;\n            }\n        };\n        Options.prototype.triggerEvent = function(eventType, caller) {\n            for (var index = 0; index < this.listeners[eventType].length; index++) {\n                if (caller(this.listeners[eventType][index]) === false) {\n                    return false;\n                }\n            }\n            return true;\n        };\n        return Options;\n    })();\n    TheDatepicker.Options = Options;\n})(TheDatepicker || (TheDatepicker = {}));\nvar TheDatepicker;\n(function(TheDatepicker) {\n    var MoveDirection;\n    (function(MoveDirection) {\n        MoveDirection[(MoveDirection['Left'] = -1)] = 'Left';\n        MoveDirection[(MoveDirection['Up'] = -7)] = 'Up';\n        MoveDirection[(MoveDirection['Right'] = 1)] = 'Right';\n        MoveDirection[(MoveDirection['Down'] = 7)] = 'Down';\n    })((MoveDirection = TheDatepicker.MoveDirection || (TheDatepicker.MoveDirection = {})));\n    var ViewModel = (function() {\n        function ViewModel(options, datepicker) {\n            this.options = options;\n            this.datepicker = datepicker;\n            this.selectedDate = null;\n            this.currentMonth = null;\n            this.highlightedDay = null;\n            this.isHighlightedDayFocused = false;\n            this.active = false;\n            this.template = new TheDatepicker.Template(\n                this.options,\n                new TheDatepicker.HtmlHelper(this.options),\n                datepicker.container,\n                datepicker.input !== null\n            );\n        }\n        ViewModel.prototype.render = function() {\n            if (this.selectPossibleDate()) {\n                return;\n            }\n            var correctMonth = this.options.correctMonth(this.getCurrentMonth());\n            if (this.goToMonth(null, correctMonth)) {\n                return;\n            }\n            this.template.render(this);\n            this.datepicker.updateInput();\n        };\n        ViewModel.prototype.setActive = function(event, value) {\n            if (this.active === value) {\n                return true;\n            }\n            if (!this.triggerOnBeforeOpenAndClose(event, value)) {\n                return false;\n            }\n            this.active = value;\n            if (this.options.isHiddenOnBlur()) {\n                this.render();\n            }\n            this.triggerOnOpenAndClose(event, value);\n            return true;\n        };\n        ViewModel.prototype.isActive = function() {\n            return this.active;\n        };\n        ViewModel.prototype.close = function(event) {\n            return this.datepicker.close(event);\n        };\n        ViewModel.prototype.getCurrentMonth = function() {\n            if (this.currentMonth === null) {\n                this.currentMonth = this.options.getInitialMonth();\n            }\n            return this.currentMonth;\n        };\n        ViewModel.prototype.canGoBack = function() {\n            var newMonth = new Date(this.getCurrentMonth().getTime());\n            newMonth.setMonth(newMonth.getMonth() - 1);\n            return this.canGoToMonth(newMonth);\n        };\n        ViewModel.prototype.canGoForward = function() {\n            var newMonth = new Date(this.getCurrentMonth().getTime());\n            newMonth.setMonth(newMonth.getMonth() + 1);\n            return this.canGoToMonth(newMonth);\n        };\n        ViewModel.prototype.canGoToMonth = function(month) {\n            return this.options.isMonthInValidity(month);\n        };\n        ViewModel.prototype.goBack = function(event) {\n            var newMonth = new Date(this.getCurrentMonth().getTime());\n            newMonth.setMonth(newMonth.getMonth() - 1);\n            return this.goToMonth(event, newMonth);\n        };\n        ViewModel.prototype.goForward = function(event) {\n            var newMonth = new Date(this.getCurrentMonth().getTime());\n            newMonth.setMonth(newMonth.getMonth() + 1);\n            return this.goToMonth(event, newMonth);\n        };\n        ViewModel.prototype.goToMonth = function(event, month, doCancelHighlight) {\n            if (doCancelHighlight === void 0) {\n                doCancelHighlight = true;\n            }\n            month = TheDatepicker.Helper.resetTime(new Date(month.getTime()));\n            month.setDate(1);\n            if (month.getTime() === this.getCurrentMonth().getTime() || !this.canGoToMonth(month)) {\n                return false;\n            }\n            if (!this.triggerOnBeforeMonthChange(event, month, this.currentMonth)) {\n                return false;\n            }\n            this.currentMonth = month;\n            if (!doCancelHighlight || !this.cancelHighlight()) {\n                this.render();\n            }\n            this.triggerOnMonthChange(event, month, this.currentMonth);\n            return true;\n        };\n        ViewModel.prototype.reset = function(event) {\n            var isMonthChanged = this.goToMonth(event, this.options.getInitialMonth());\n            var isDaySelected = this.selectInitialDate(event);\n            return isMonthChanged || isDaySelected;\n        };\n        ViewModel.prototype.selectDay = function(\n            event,\n            date,\n            doUpdateMonth,\n            doHighlight,\n            canToggle\n        ) {\n            if (doUpdateMonth === void 0) {\n                doUpdateMonth = true;\n            }\n            if (doHighlight === void 0) {\n                doHighlight = false;\n            }\n            if (canToggle === void 0) {\n                canToggle = false;\n            }\n            if (date === null) {\n                return this.cancelSelection(event);\n            }\n            var day;\n            if (date instanceof TheDatepicker.Day) {\n                day = date;\n                date = day.getDate();\n            } else {\n                day = this.createDay(date);\n            }\n            if (!day.isAvailable) {\n                return false;\n            }\n            if (day.isEqualToDate(this.selectedDate)) {\n                if (canToggle && this.options.hasToggleSelection()) {\n                    return this.cancelSelection(event);\n                }\n                return false;\n            }\n            var previousDay = this.selectedDate !== null ? this.createDay(this.selectedDate) : null;\n            if (!this.triggerOnBeforeSelect(event, day, previousDay)) {\n                return false;\n            }\n            this.selectedDate = day.getDate();\n            if (doHighlight) {\n                this.highlightedDay = day;\n                this.isHighlightedDayFocused = true;\n            }\n            if (!doUpdateMonth || !this.goToMonth(event, date)) {\n                this.render();\n            }\n            this.triggerOnSelect(event, day, previousDay);\n            return true;\n        };\n        ViewModel.prototype.selectNearestDate = function(event, date) {\n            return this.selectDay(event, this.options.findNearestAvailableDate(date));\n        };\n        ViewModel.prototype.selectPossibleDate = function() {\n            try {\n                return this.selectDay(\n                    null,\n                    this.options.findPossibleAvailableDate(this.selectedDate),\n                    false\n                );\n            } catch (error) {\n                if (!(error instanceof TheDatepicker.AvailableDateNotFoundException)) {\n                    throw error;\n                }\n                return this.cancelSelection(null, true);\n            }\n        };\n        ViewModel.prototype.selectInitialDate = function(event) {\n            try {\n                return this.selectDay(event, this.options.getInitialDate(), false);\n            } catch (error) {\n                if (!(error instanceof TheDatepicker.AvailableDateNotFoundException)) {\n                    throw error;\n                }\n                return this.cancelSelection(null, true);\n            }\n        };\n        ViewModel.prototype.highlightDay = function(event, day, doUpdateMonth) {\n            if (doUpdateMonth === void 0) {\n                doUpdateMonth = false;\n            }\n            if (!day.isAvailable) {\n                return false;\n            }\n            if (day.isEqualToDay(this.highlightedDay)) {\n                return false;\n            }\n            this.highlightedDay = day;\n            this.isHighlightedDayFocused = true;\n            var date = day.getDate();\n            if (!doUpdateMonth || !this.goToMonth(event, date, false)) {\n                this.render();\n            }\n            return true;\n        };\n        ViewModel.prototype.highlightFirstAvailableDay = function(event) {\n            var date = new Date(this.getCurrentMonth().getTime());\n            var maxDate = this.options.getMaxDate();\n            var day = this.createDay(date);\n            while (!day.isAvailable) {\n                date.setDate(day.dayNumber + 1);\n                if (date.getDate() === 1) {\n                    break;\n                }\n                if (maxDate !== null && date.getTime() > maxDate.getTime()) {\n                    break;\n                }\n                day = this.createDay(date);\n            }\n            return this.highlightDay(event, day);\n        };\n        ViewModel.prototype.highlightSiblingDay = function(event, day, direction) {\n            var newDay = day;\n            var date = newDay.getDate();\n            var maxLoops = 1000;\n            do {\n                date.setDate(newDay.dayNumber + direction);\n                newDay = this.createDay(date);\n                if (!newDay.isInValidity) {\n                    break;\n                }\n                maxLoops--;\n            } while (!newDay.isAvailable && maxLoops > 0);\n            return this.highlightDay(event, newDay, true);\n        };\n        ViewModel.prototype.cancelSelection = function(event, force) {\n            if (force === void 0) {\n                force = false;\n            }\n            if (!this.options.isAllowedEmpty() && !force) {\n                return false;\n            }\n            if (this.selectedDate === null) {\n                return false;\n            }\n            var previousDay = this.createDay(this.selectedDate);\n            if (!this.triggerOnBeforeSelect(event, null, previousDay)) {\n                return false;\n            }\n            this.selectedDate = null;\n            this.render();\n            this.triggerOnSelect(event, null, previousDay);\n            return true;\n        };\n        ViewModel.prototype.cancelHighlight = function() {\n            if (this.highlightedDay === null) {\n                return false;\n            }\n            this.highlightedDay = null;\n            this.render();\n            return true;\n        };\n        ViewModel.prototype.getWeekDays = function() {\n            var weekDays = [];\n            for (var day = 0; day < 7; day++) {\n                weekDays.push((this.options.getFirstDayOfWeek() + day) % 7);\n            }\n            return weekDays;\n        };\n        ViewModel.prototype.getWeeks = function() {\n            var date;\n            var days = [];\n            var currentMonth = this.getCurrentMonth();\n            var firstDateOfMonth = new Date(currentMonth.getFullYear(), currentMonth.getMonth(), 1);\n            var lastMonthDaysCount = new Date(\n                currentMonth.getFullYear(),\n                currentMonth.getMonth(),\n                0\n            ).getDate();\n            var prependDaysCount =\n                (firstDateOfMonth.getDay() - this.options.getFirstDayOfWeek() + 7) % 7;\n            for (\n                date = lastMonthDaysCount - prependDaysCount + 1;\n                date <= lastMonthDaysCount;\n                date++\n            ) {\n                var day = this.createDay(\n                    new Date(currentMonth.getFullYear(), currentMonth.getMonth() - 1, date)\n                );\n                day.isVisible = this.options.areDaysOutOfMonthVisible();\n                day.isInCurrentMonth = false;\n                days.push(day);\n            }\n            var lastDateOfMonth = new Date(\n                currentMonth.getFullYear(),\n                currentMonth.getMonth() + 1,\n                0\n            );\n            var monthDaysCount = lastDateOfMonth.getDate();\n            for (date = 1; date <= monthDaysCount; date++) {\n                days.push(\n                    this.createDay(\n                        new Date(currentMonth.getFullYear(), currentMonth.getMonth(), date)\n                    )\n                );\n            }\n            var appendDaysCount =\n                6 - ((lastDateOfMonth.getDay() - this.options.getFirstDayOfWeek() + 7) % 7);\n            for (date = 1; date <= appendDaysCount; date++) {\n                var day = this.createDay(\n                    new Date(currentMonth.getFullYear(), currentMonth.getMonth() + 1, date)\n                );\n                day.isVisible = this.options.areDaysOutOfMonthVisible();\n                day.isInCurrentMonth = false;\n                days.push(day);\n            }\n            if (this.options.hasFixedRowsCount()) {\n                for (var date_4 = appendDaysCount + 1; days.length < 6 * 7; date_4++) {\n                    var day = this.createDay(\n                        new Date(currentMonth.getFullYear(), currentMonth.getMonth() + 1, date_4)\n                    );\n                    day.isVisible = this.options.areDaysOutOfMonthVisible();\n                    day.isInCurrentMonth = false;\n                    days.push(day);\n                }\n            }\n            var weeks = [];\n            for (var i = 0; i < days.length; i += 7) {\n                weeks.push(days.slice(i, i + 7));\n            }\n            return weeks;\n        };\n        ViewModel.prototype.triggerKeyPress = function(event) {\n            if (\n                TheDatepicker.Helper.inArray(\n                    [\n                        TheDatepicker.KeyCode.Left,\n                        TheDatepicker.KeyCode.Up,\n                        TheDatepicker.KeyCode.Right,\n                        TheDatepicker.KeyCode.Down,\n                    ],\n                    event.keyCode\n                )\n            ) {\n                TheDatepicker.Helper.preventDefault(event);\n                if (this.highlightedDay !== null) {\n                    this.highlightSiblingDay(\n                        event,\n                        this.highlightedDay,\n                        this.translateKeyCodeToMoveDirection(event.keyCode)\n                    );\n                } else if (\n                    this.selectedDate !== null &&\n                    this.selectedDate.getFullYear() === this.getCurrentMonth().getFullYear() &&\n                    this.selectedDate.getMonth() === this.getCurrentMonth().getMonth()\n                ) {\n                    this.highlightSiblingDay(\n                        event,\n                        this.createDay(this.selectedDate),\n                        this.translateKeyCodeToMoveDirection(event.keyCode)\n                    );\n                } else {\n                    this.highlightFirstAvailableDay(event);\n                }\n            }\n        };\n        ViewModel.prototype.triggerOnBeforeSelect = function(event, day, previousDay) {\n            var _this = this;\n            return this.options.triggerEvent(TheDatepicker.EventType.BeforeSelect, function(\n                listener\n            ) {\n                return listener.call(_this.datepicker, event, day, previousDay);\n            });\n        };\n        ViewModel.prototype.triggerOnSelect = function(event, day, previousDay) {\n            var _this = this;\n            this.options.triggerEvent(TheDatepicker.EventType.Select, function(listener) {\n                return listener.call(_this.datepicker, event, day, previousDay);\n            });\n        };\n        ViewModel.prototype.triggerOnBeforeOpenAndClose = function(event, isOpening) {\n            var _this = this;\n            return this.options.triggerEvent(TheDatepicker.EventType.BeforeOpenAndClose, function(\n                listener\n            ) {\n                return listener.call(_this.datepicker, event, isOpening);\n            });\n        };\n        ViewModel.prototype.triggerOnOpenAndClose = function(event, isOpening) {\n            var _this = this;\n            this.options.triggerEvent(TheDatepicker.EventType.OpenAndClose, function(listener) {\n                return listener.call(_this.datepicker, event, isOpening);\n            });\n        };\n        ViewModel.prototype.triggerOnBeforeMonthChange = function(event, month, previousMonth) {\n            var _this = this;\n            return this.options.triggerEvent(TheDatepicker.EventType.BeforeMonthChange, function(\n                listener\n            ) {\n                return listener.call(_this.datepicker, event, month, previousMonth);\n            });\n        };\n        ViewModel.prototype.triggerOnMonthChange = function(event, month, previousMonth) {\n            var _this = this;\n            this.options.triggerEvent(TheDatepicker.EventType.MonthChange, function(listener) {\n                return listener.call(_this.datepicker, event, month, previousMonth);\n            });\n        };\n        ViewModel.prototype.createDay = function(date) {\n            date = TheDatepicker.Helper.resetTime(new Date(date.getTime()));\n            var today = this.options.getToday();\n            var day = new TheDatepicker.Day(date);\n            day.isToday = date.getTime() === today.getTime();\n            day.isPast = date.getTime() < today.getTime();\n            day.isInValidity = this.options.isDateInValidity(date);\n            day.isAvailable = day.isInValidity && this.options.isDateAvailable(date);\n            if (day.isAvailable) {\n                if (day.isEqualToDate(this.selectedDate)) {\n                    day.isSelected = true;\n                }\n                if (day.isEqualToDay(this.highlightedDay)) {\n                    day.isHighlighted = true;\n                    if (this.isHighlightedDayFocused) {\n                        day.isFocused = true;\n                        this.isHighlightedDayFocused = false;\n                    }\n                }\n            }\n            return day;\n        };\n        ViewModel.prototype.translateKeyCodeToMoveDirection = function(key) {\n            switch (key) {\n                case TheDatepicker.KeyCode.Left:\n                    return MoveDirection.Left;\n                case TheDatepicker.KeyCode.Up:\n                    return MoveDirection.Up;\n                case TheDatepicker.KeyCode.Right:\n                    return MoveDirection.Right;\n                case TheDatepicker.KeyCode.Down:\n                    return MoveDirection.Down;\n                default:\n                    throw new Error('Invalid key code: ' + key);\n            }\n        };\n        return ViewModel;\n    })();\n    TheDatepicker.ViewModel = ViewModel;\n})(TheDatepicker || (TheDatepicker = {}));\nvar TheDatepicker;\n(function(TheDatepicker) {\n    var Template = (function() {\n        function Template(options, htmlHelper, container, hasInput) {\n            this.options = options;\n            this.htmlHelper = htmlHelper;\n            this.container = container;\n            this.hasInput = hasInput;\n            this.mainElement = null;\n            this.controlElement = null;\n            this.goBackElement = null;\n            this.goForwardElement = null;\n            this.titleElement = null;\n            this.titleContentElement = null;\n            this.resetElement = null;\n            this.closeElement = null;\n            this.monthSelect = null;\n            this.monthElement = null;\n            this.yearSelect = null;\n            this.yearElement = null;\n            this.monthAndYearSelect = null;\n            this.monthAndYearElement = null;\n            this.weeksElements = [];\n            this.daysElements = [];\n            this.daysButtonsElements = [];\n            this.daysContentsElements = [];\n        }\n        Template.prototype.render = function(viewModel) {\n            if (this.mainElement === null) {\n                if (this.hasInput && this.options.isHiddenOnBlur() && !viewModel.isActive()) {\n                    return;\n                }\n                this.container.innerHTML = '';\n                this.container.appendChild(this.createSkeleton(viewModel));\n            }\n            this.updateMainElement(viewModel);\n            this.updateTopElement(viewModel);\n            this.updateTitleElement(viewModel);\n            this.updateCloseElement(viewModel);\n            this.updateResetElement(viewModel);\n            this.updateGoBackElement(viewModel);\n            this.updateGoForwardElement(viewModel);\n            this.updateMonthElement(viewModel);\n            this.updateYearElement(viewModel);\n            this.updateMonthAndYearElement(viewModel);\n            this.updateWeeksElements(viewModel);\n        };\n        Template.prototype.createSkeleton = function(viewModel) {\n            var main = this.htmlHelper.createDiv('main');\n            main.appendChild(this.createHeaderElement(viewModel));\n            main.appendChild(this.createBodyElement(viewModel));\n            this.mainElement = main;\n            return main;\n        };\n        Template.prototype.updateMainElement = function(viewModel) {\n            this.mainElement.style.display =\n                !this.hasInput || viewModel.isActive() || !this.options.isHiddenOnBlur()\n                    ? ''\n                    : 'none';\n        };\n        Template.prototype.createBodyElement = function(viewModel) {\n            var body = this.htmlHelper.createDiv('body');\n            body.appendChild(this.createTableElement(viewModel));\n            return body;\n        };\n        Template.prototype.createHeaderElement = function(viewModel) {\n            var header = this.htmlHelper.createDiv('header');\n            var top = this.htmlHelper.createDiv('top');\n            header.appendChild(top);\n            top.appendChild(this.createTitleElement(viewModel));\n            var control = this.htmlHelper.createDiv('control');\n            top.appendChild(control);\n            control.appendChild(this.createResetElement(viewModel));\n            control.appendChild(this.createCloseElement(viewModel));\n            var navigation = this.htmlHelper.createDiv('navigation');\n            header.appendChild(navigation);\n            navigation.appendChild(this.createGoBackElement(viewModel));\n            var state = this.htmlHelper.createDiv('state');\n            navigation.appendChild(state);\n            if (this.options.isMonthAndYearSeparated()) {\n                state.appendChild(this.createMonthElement(viewModel));\n                state.appendChild(this.createYearElement(viewModel));\n            } else {\n                state.appendChild(this.createMonthAndYearElement(viewModel));\n            }\n            navigation.appendChild(this.createGoForwardElement(viewModel));\n            this.controlElement = control;\n            return header;\n        };\n        Template.prototype.updateTopElement = function(viewModel) {\n            var isVisible =\n                this.options.getTitle() !== '' ||\n                this.options.isResetButtonShown() ||\n                (this.hasInput && this.options.isCloseButtonShown());\n            this.controlElement.style.display = isVisible ? '' : 'none';\n            this.titleElement.style.display = isVisible ? '' : 'none';\n        };\n        Template.prototype.createTitleElement = function(viewModel) {\n            var titleElement = this.htmlHelper.createDiv('title');\n            var titleContent = this.htmlHelper.createSpan();\n            titleElement.appendChild(titleContent);\n            this.htmlHelper.addClass(titleContent, 'title-content');\n            this.titleElement = titleElement;\n            this.titleContentElement = titleContent;\n            return titleElement;\n        };\n        Template.prototype.updateTitleElement = function(viewModel) {\n            var title = this.options.getTitle();\n            this.titleContentElement.style.display = title !== '' ? '' : 'none';\n            this.titleContentElement.innerText = title;\n        };\n        Template.prototype.createResetElement = function(viewModel) {\n            var resetElement = this.htmlHelper.createDiv('reset');\n            var resetButton = this.htmlHelper.createAnchor(function(event) {\n                viewModel.reset(event);\n            });\n            resetButton.innerHTML = this.options.getResetHtml();\n            resetElement.appendChild(resetButton);\n            this.resetElement = resetElement;\n            return resetElement;\n        };\n        Template.prototype.updateResetElement = function(viewModel) {\n            this.resetElement.style.display = this.options.isResetButtonShown() ? '' : 'none';\n        };\n        Template.prototype.createCloseElement = function(viewModel) {\n            var closeElement = this.htmlHelper.createDiv('close');\n            var closeButton = this.htmlHelper.createAnchor(function(event) {\n                viewModel.close(event);\n            });\n            closeButton.innerHTML = this.options.getCloseHtml();\n            closeElement.appendChild(closeButton);\n            this.closeElement = closeElement;\n            return closeElement;\n        };\n        Template.prototype.updateCloseElement = function(viewModel) {\n            this.closeElement.style.display =\n                this.hasInput && this.options.isCloseButtonShown() ? '' : 'none';\n        };\n        Template.prototype.createGoBackElement = function(viewModel) {\n            return this.createGoElement(viewModel, false);\n        };\n        Template.prototype.createGoForwardElement = function(viewModel) {\n            return this.createGoElement(viewModel, true);\n        };\n        Template.prototype.createGoElement = function(viewModel, directionForward) {\n            var goElement = this.htmlHelper.createDiv('go');\n            this.htmlHelper.addClass(goElement, directionForward ? 'go-next' : 'go-previous');\n            var goButton = this.htmlHelper.createAnchor(function(event) {\n                if (directionForward) {\n                    viewModel.goForward(event);\n                } else {\n                    viewModel.goBack(event);\n                }\n            });\n            goButton.innerHTML = directionForward\n                ? this.options.getGoForwardHtml()\n                : this.options.getGoBackHtml();\n            goElement.appendChild(goButton);\n            if (directionForward) {\n                this.goForwardElement = goButton;\n            } else {\n                this.goBackElement = goButton;\n            }\n            return goElement;\n        };\n        Template.prototype.updateGoBackElement = function(viewModel) {\n            this.goBackElement.style.visibility = viewModel.canGoBack() ? 'visible' : 'hidden';\n        };\n        Template.prototype.updateGoForwardElement = function(viewModel) {\n            this.goForwardElement.style.visibility = viewModel.canGoForward()\n                ? 'visible'\n                : 'hidden';\n        };\n        Template.prototype.createMonthElement = function(viewModel) {\n            var _this = this;\n            var options = [];\n            for (var monthNumber = 0; monthNumber < 12; monthNumber++) {\n                options.push({\n                    value: monthNumber + '',\n                    label: this.options.translator.translateMonth(monthNumber),\n                });\n            }\n            var selectElement = this.htmlHelper.createSelectInput(options, function(\n                event,\n                monthNumber\n            ) {\n                var currentMonth = viewModel.getCurrentMonth();\n                var newMonth = new Date(currentMonth.getTime());\n                newMonth.setMonth(parseInt(monthNumber, 10));\n                if (!viewModel.goToMonth(event, newMonth)) {\n                    _this.monthSelect.value = currentMonth.getMonth() + '';\n                }\n            });\n            var monthElement = this.htmlHelper.createDiv('month');\n            var monthContent = this.htmlHelper.createSpan();\n            monthElement.appendChild(selectElement);\n            monthElement.appendChild(monthContent);\n            this.monthElement = monthContent;\n            this.monthSelect = selectElement;\n            return monthElement;\n        };\n        Template.prototype.updateMonthElement = function(viewModel) {\n            if (this.monthElement === null) {\n                return;\n            }\n            var currentMonth = viewModel.getCurrentMonth().getMonth();\n            this.monthElement.innerText = this.options.translator.translateMonth(currentMonth);\n            if (!this.options.isMonthAsDropdown()) {\n                this.monthSelect.style.display = 'none';\n                this.monthElement.style.display = '';\n                return;\n            }\n            var valuesCount = 0;\n            for (var monthNumber = 0; monthNumber < 12; monthNumber++) {\n                var newMonth = new Date(viewModel.getCurrentMonth().getTime());\n                newMonth.setMonth(monthNumber);\n                var option = this.monthSelect.getElementsByTagName('option')[monthNumber];\n                var canGoToMonth = viewModel.canGoToMonth(newMonth);\n                option.disabled = !canGoToMonth;\n                option.style.display = canGoToMonth ? '' : 'none';\n                valuesCount += canGoToMonth ? 1 : 0;\n            }\n            this.monthSelect.value = currentMonth + '';\n            this.monthSelect.style.display = valuesCount > 1 ? '' : 'none';\n            this.monthElement.style.display = valuesCount > 1 ? 'none' : '';\n        };\n        Template.prototype.createYearElement = function(viewModel) {\n            var _this = this;\n            var selectElement = this.htmlHelper.createSelectInput([], function(event, year) {\n                var currentMonth = viewModel.getCurrentMonth();\n                var newMonth = new Date(currentMonth.getTime());\n                newMonth.setFullYear(parseInt(year, 10));\n                var minMonth = _this.options.getMinMonth();\n                var maxMonth = _this.options.getMaxMonth();\n                if (minMonth !== null && newMonth.getTime() < minMonth.getTime()) {\n                    newMonth = minMonth;\n                }\n                if (maxMonth !== null && newMonth.getTime() > maxMonth.getTime()) {\n                    newMonth = maxMonth;\n                }\n                if (!viewModel.goToMonth(event, newMonth)) {\n                    _this.yearSelect.value = currentMonth.getFullYear() + '';\n                }\n            });\n            var yearElement = this.htmlHelper.createDiv('year');\n            var yearContent = this.htmlHelper.createSpan();\n            yearElement.appendChild(selectElement);\n            yearElement.appendChild(yearContent);\n            this.yearElement = yearContent;\n            this.yearSelect = selectElement;\n            return yearElement;\n        };\n        Template.prototype.updateYearElement = function(viewModel) {\n            if (this.yearElement === null) {\n                return;\n            }\n            var currentYear = viewModel.getCurrentMonth().getFullYear();\n            this.yearElement.innerText = currentYear + '';\n            if (!this.options.isYearAsDropdown()) {\n                this.yearSelect.style.display = 'none';\n                this.yearElement.style.display = '';\n                return;\n            }\n            var minDate = this.options.getMinDate();\n            var maxDate = this.options.getMaxDate();\n            var minYear = minDate !== null ? minDate.getFullYear() : null;\n            var maxYear = maxDate !== null ? maxDate.getFullYear() : null;\n            var range = this.calculateDropdownRange(currentYear, minYear, maxYear);\n            var options = this.yearSelect.getElementsByTagName('option');\n            var diff = this.calculateDropdownDiff(options, range, function(value) {\n                return parseInt(value, 10);\n            });\n            for (var index = 0; index < diff.remove.length; index++) {\n                this.yearSelect.removeChild(diff.remove[index]);\n            }\n            for (var index = diff.prepend.length - 1; index >= 0; index--) {\n                this.yearSelect.insertBefore(\n                    this.htmlHelper.createSelectOption(\n                        diff.prepend[index] + '',\n                        diff.prepend[index] + ''\n                    ),\n                    this.yearSelect.firstChild\n                );\n            }\n            for (var index = 0; index < diff.append.length; index++) {\n                this.yearSelect.appendChild(\n                    this.htmlHelper.createSelectOption(\n                        diff.append[index] + '',\n                        diff.append[index] + ''\n                    )\n                );\n            }\n            this.yearSelect.value = currentYear + '';\n            this.yearSelect.style.display = range.from < range.to ? '' : 'none';\n            this.yearElement.style.display = range.from < range.to ? 'none' : '';\n        };\n        Template.prototype.createMonthAndYearElement = function(viewModel) {\n            var _this = this;\n            var monthAndYear = this.htmlHelper.createDiv('month-year');\n            var selectElement = this.htmlHelper.createSelectInput([], function(event, value) {\n                var currentMonth = viewModel.getCurrentMonth();\n                var newMonth = new Date(currentMonth.getTime());\n                var data = _this.parseMonthAndYearOptionValue(value);\n                newMonth.setFullYear(data.year);\n                newMonth.setMonth(data.month);\n                if (!viewModel.goToMonth(event, newMonth)) {\n                    _this.monthAndYearSelect.value = _this.getMonthAndYearOptionValue({\n                        month: currentMonth.getMonth(),\n                        year: currentMonth.getFullYear(),\n                    });\n                }\n            });\n            var monthAndYearContent = this.htmlHelper.createSpan();\n            this.monthAndYearElement = monthAndYearContent;\n            this.monthAndYearSelect = selectElement;\n            monthAndYear.appendChild(monthAndYearContent);\n            monthAndYear.appendChild(selectElement);\n            return monthAndYear;\n        };\n        Template.prototype.updateMonthAndYearElement = function(viewModel) {\n            var _this = this;\n            if (this.monthAndYearElement === null) {\n                return;\n            }\n            var currentMonth = viewModel.getCurrentMonth();\n            var currentData = {\n                month: currentMonth.getMonth(),\n                year: currentMonth.getFullYear(),\n            };\n            var currentIndex = this.calculateMonthAndYearIndex(currentData);\n            this.monthAndYearElement.innerText = this.translateMonthAndYear(currentData);\n            if (!this.options.isYearAsDropdown() || !this.options.isMonthAsDropdown()) {\n                this.monthAndYearSelect.style.display = 'none';\n                this.monthAndYearElement.style.display = '';\n                return;\n            }\n            var minDate = this.options.getMinDate();\n            var maxDate = this.options.getMaxDate();\n            var minIndex =\n                minDate !== null ? minDate.getFullYear() * 12 + minDate.getMonth() : null;\n            var maxIndex =\n                maxDate !== null ? maxDate.getFullYear() * 12 + maxDate.getMonth() : null;\n            var range = this.calculateDropdownRange(currentIndex, minIndex, maxIndex);\n            var options = this.monthAndYearSelect.getElementsByTagName('option');\n            var diff = this.calculateDropdownDiff(options, range, function(value) {\n                return _this.calculateMonthAndYearIndex(_this.parseMonthAndYearOptionValue(value));\n            });\n            for (var index = 0; index < diff.remove.length; index++) {\n                this.monthAndYearSelect.removeChild(diff.remove[index]);\n            }\n            for (var index = diff.prepend.length - 1; index >= 0; index--) {\n                var data = this.getMonthAndYearByIndex(diff.prepend[index]);\n                this.monthAndYearSelect.insertBefore(\n                    this.htmlHelper.createSelectOption(\n                        this.getMonthAndYearOptionValue(data),\n                        this.translateMonthAndYear(data)\n                    ),\n                    this.monthAndYearSelect.firstChild\n                );\n            }\n            for (var index = 0; index < diff.append.length; index++) {\n                var data = this.getMonthAndYearByIndex(diff.append[index]);\n                this.monthAndYearSelect.appendChild(\n                    this.htmlHelper.createSelectOption(\n                        this.getMonthAndYearOptionValue(data),\n                        this.translateMonthAndYear(data)\n                    )\n                );\n            }\n            this.monthAndYearSelect.value = this.getMonthAndYearOptionValue(currentData);\n            this.monthAndYearSelect.style.display = range.from < range.to ? '' : 'none';\n            this.monthAndYearElement.style.display = range.from < range.to ? 'none' : '';\n        };\n        Template.prototype.translateMonthAndYear = function(data) {\n            return this.options.translator.translateMonth(data.month) + ' ' + data.year;\n        };\n        Template.prototype.calculateMonthAndYearIndex = function(data) {\n            return data.year * 12 + data.month;\n        };\n        Template.prototype.getMonthAndYearByIndex = function(index) {\n            return {\n                year: Math.floor(index / 12),\n                month: index % 12,\n            };\n        };\n        Template.prototype.getMonthAndYearOptionValue = function(data) {\n            return data.year + '-' + data.month;\n        };\n        Template.prototype.parseMonthAndYearOptionValue = function(value) {\n            var parts = value.split('-');\n            return {\n                month: parseInt(parts[1], 10),\n                year: parseInt(parts[0], 10),\n            };\n        };\n        Template.prototype.calculateDropdownRange = function(current, min, max) {\n            var limit = this.options.getDropdownItemsLimit() - 1;\n            var maxAppend = Math.ceil(limit / 2);\n            var from = current - (limit - maxAppend);\n            var to = current + maxAppend;\n            if (min !== null && from < min) {\n                to += min - from;\n                if (max !== null && to > max) {\n                    to = max;\n                }\n                from = min;\n            } else if (max !== null && to > max) {\n                from -= to - max;\n                if (min !== null && from < min) {\n                    from = min;\n                }\n                to = max;\n            }\n            return {\n                from: from,\n                to: to,\n            };\n        };\n        Template.prototype.calculateDropdownDiff = function(options, newRange, getNumerical) {\n            var firstOption = options.length > 0 ? getNumerical(options[0].value) : null;\n            var lastOption =\n                options.length > 0 ? getNumerical(options[options.length - 1].value) : null;\n            var prepend = [];\n            var append = [];\n            var remove = [];\n            for (var value = newRange.from; value <= newRange.to; value++) {\n                if (firstOption === null || value < firstOption) {\n                    prepend.push(value);\n                } else if (value > lastOption) {\n                    append.push(value);\n                }\n            }\n            for (var index = 0; index < options.length; index++) {\n                var value = getNumerical(options[index].value);\n                if (value < newRange.from || value > newRange.to) {\n                    remove.push(options[index]);\n                }\n            }\n            return {\n                prepend: prepend,\n                append: append,\n                remove: remove,\n            };\n        };\n        Template.prototype.createTableElement = function(viewModel) {\n            var tableHeader = this.createTableHeaderElement(viewModel);\n            var tableBody = this.createTableBodyElement(viewModel);\n            return this.htmlHelper.createTable('calendar', tableHeader, tableBody);\n        };\n        Template.prototype.createTableHeaderElement = function(viewModel) {\n            var weekDays = viewModel.getWeekDays();\n            var cells = [];\n            for (var index = 0; index < weekDays.length; index++) {\n                var dayOfWeek = weekDays[index];\n                cells.push(this.createTableHeaderCellElement(viewModel, dayOfWeek));\n            }\n            return this.htmlHelper.createTableHeader('calendar-header', cells);\n        };\n        Template.prototype.createTableHeaderCellElement = function(viewModel, dayOfWeek) {\n            var headerCell = this.htmlHelper.createTableHeaderCell('week-day');\n            if (\n                dayOfWeek === TheDatepicker.DayOfWeek.Saturday ||\n                dayOfWeek === TheDatepicker.DayOfWeek.Sunday\n            ) {\n                this.htmlHelper.addClass(headerCell, 'week-day--weekend');\n            }\n            headerCell.innerText = this.options.translator.translateDayOfWeek(dayOfWeek);\n            return headerCell;\n        };\n        Template.prototype.createTableBodyElement = function(viewModel) {\n            this.daysElements = [];\n            this.daysButtonsElements = [];\n            this.daysContentsElements = [];\n            var rows = [];\n            for (var index = 0; index < 6; index++) {\n                rows.push(this.createTableRowElement(viewModel));\n            }\n            this.weeksElements = rows;\n            return this.htmlHelper.createTableBody('calendar-body', rows);\n        };\n        Template.prototype.updateWeeksElements = function(viewModel) {\n            var weeks = viewModel.getWeeks();\n            for (var weekIndex = 0; weekIndex < this.weeksElements.length; weekIndex++) {\n                var weekElement = this.weeksElements[weekIndex];\n                var week = weeks.length > weekIndex ? weeks[weekIndex] : null;\n                weekElement.style.display = week !== null ? '' : 'none';\n                if (week !== null) {\n                    for (\n                        var dayIndex = 0;\n                        dayIndex < this.daysElements[weekIndex].length;\n                        dayIndex++\n                    ) {\n                        this.updateDayElement(\n                            viewModel,\n                            this.daysElements[weekIndex][dayIndex],\n                            this.daysButtonsElements[weekIndex][dayIndex],\n                            this.daysContentsElements[weekIndex][dayIndex],\n                            week[dayIndex]\n                        );\n                    }\n                }\n            }\n        };\n        Template.prototype.createTableRowElement = function(viewModel) {\n            var cells = [];\n            var cellsButtons = [];\n            var cellsContents = [];\n            for (var index = 0; index < 7; index++) {\n                var cell = this.htmlHelper.createTableCell();\n                var cellButton = this.createTableCellButtonElement(viewModel);\n                var cellContent = this.createTableCellContentElement(viewModel);\n                cells.push(cell);\n                cellsButtons.push(cellButton);\n                cellsContents.push(cellContent);\n                cell.appendChild(cellButton);\n                cellButton.appendChild(cellContent);\n            }\n            this.daysElements.push(cells);\n            this.daysButtonsElements.push(cellsButtons);\n            this.daysContentsElements.push(cellsContents);\n            return this.htmlHelper.createTableRow('week', cells);\n        };\n        Template.prototype.updateDayElement = function(\n            viewModel,\n            dayElement,\n            dayButtonElement,\n            dayContentElement,\n            day\n        ) {\n            dayButtonElement.day = day;\n            dayElement.setAttribute('data-date', day.getFormatted());\n            dayElement.className = '';\n            this.htmlHelper.addClass(dayElement, 'cell');\n            this.options.updateCellStructure(dayContentElement, day);\n            if (!day.isVisible) {\n                dayButtonElement.removeAttribute('href');\n                dayButtonElement.style.visibility = 'hidden';\n                return;\n            }\n            this.htmlHelper.addClass(dayElement, 'day');\n            if (day.isToday) {\n                this.htmlHelper.addClass(dayElement, 'day--today');\n            }\n            if (day.isPast) {\n                this.htmlHelper.addClass(dayElement, 'day--past');\n            }\n            if (day.isWeekend) {\n                this.htmlHelper.addClass(dayElement, 'day--weekend');\n            }\n            if (!day.isAvailable) {\n                this.htmlHelper.addClass(dayElement, 'day--unavailable');\n            }\n            if (!day.isInCurrentMonth) {\n                this.htmlHelper.addClass(dayElement, 'day--outside');\n            }\n            if (day.isHighlighted) {\n                this.htmlHelper.addClass(dayElement, 'day--highlighted');\n            }\n            if (day.isSelected) {\n                this.htmlHelper.addClass(dayElement, 'day--selected');\n            }\n            var customClasses = this.options.getCellClasses(day);\n            for (var index = 0; index < customClasses.length; index++) {\n                dayElement.className += ' ' + customClasses[index];\n            }\n            dayButtonElement.style.visibility = 'visible';\n            if (day.isAvailable) {\n                dayButtonElement.href = '#';\n            } else {\n                dayButtonElement.removeAttribute('href');\n            }\n            if (day.isFocused) {\n                dayButtonElement.focus();\n            }\n        };\n        Template.prototype.createTableCellButtonElement = function(viewModel) {\n            var _this = this;\n            var cellButton = this.htmlHelper.createAnchor(function(event) {\n                var previous = viewModel.selectedDate;\n                var isSelected = viewModel.selectDay(event, cellButton.day, false, true, true);\n                if (\n                    _this.options.isHiddenOnSelect() &&\n                    (isSelected || (previous !== null && cellButton.day.isEqualToDate(previous)))\n                ) {\n                    viewModel.close(event);\n                }\n            });\n            cellButton.onfocus = function(event) {\n                viewModel.highlightDay(event || window.event, cellButton.day);\n            };\n            cellButton.onmouseenter = function() {\n                viewModel.cancelHighlight();\n            };\n            cellButton.onmouseleave = function() {\n                viewModel.cancelHighlight();\n            };\n            return cellButton;\n        };\n        Template.prototype.createTableCellContentElement = function(viewModel) {\n            var cellContent = this.options.getCellStructure();\n            this.htmlHelper.addClass(cellContent, 'day-content');\n            return cellContent;\n        };\n        return Template;\n    })();\n    TheDatepicker.Template = Template;\n})(TheDatepicker || (TheDatepicker = {}));\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (TheDatepicker);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGhlbHNpbmdib3JnLXN0YWQvc3R5bGVndWlkZS9zb3VyY2UvanMvdGhlLWRhdGVwaWNrZXIuanM/ZjUzNiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsQ0FBQyxzQ0FBc0M7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLDBCQUEwQjtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLDBCQUEwQjtBQUM1RDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxlQUFlO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixhQUFhO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixFQUFFO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDLHNDQUFzQztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLGtEQUFrRDtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLHNDQUFzQztBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtFQUFrRSxZQUFZO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsQ0FBQyxzQ0FBc0M7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLENBQUMsc0NBQXNDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLHVFQUF1RTtBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSywyREFBMkQ7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssaUVBQWlFO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLGdGQUFnRjtBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IscUJBQXFCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDLHNDQUFzQztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixzQkFBc0I7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixxQkFBcUI7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLHNCQUFzQjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQix3QkFBd0I7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsQ0FBQyxzQ0FBc0M7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLHVFQUF1RTtBQUM1RTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkMsc0NBQXNDO0FBQ3RDLHFDQUFxQztBQUNyQyxxQ0FBcUM7QUFDckMsd0NBQXdDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxtQ0FBbUMsMENBQTBDO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsMENBQTBDO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsQ0FBQyxzQ0FBc0M7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssbUZBQW1GO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixTQUFTO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHdCQUF3QjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHlCQUF5QjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0RBQXNELHFCQUFxQjtBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsaUJBQWlCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDLHNDQUFzQztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLGtCQUFrQjtBQUN2RDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLGtCQUFrQjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYiwrQkFBK0IsNEJBQTRCO0FBQzNEO0FBQ0E7QUFDQSxxREFBcUQsWUFBWTtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLDRCQUE0QjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsK0JBQStCLDRCQUE0QjtBQUMzRDtBQUNBO0FBQ0EscURBQXFELFlBQVk7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLDRCQUE0QjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLHNCQUFzQjtBQUNqRTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLCtCQUErQix3QkFBd0I7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IseUJBQXlCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixXQUFXO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLHVDQUF1QztBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsV0FBVztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsOEJBQThCO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsQ0FBQyxzQ0FBc0M7O0FBRXhCLDRFQUFhLEVBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQGhlbHNpbmdib3JnLXN0YWQvc3R5bGVndWlkZS9zb3VyY2UvanMvdGhlLWRhdGVwaWNrZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgVGhlRGF0ZXBpY2tlcjtcbihmdW5jdGlvbihUaGVEYXRlcGlja2VyKSB7XG4gICAgdmFyIFRyYW5zbGF0b3IgPSAoZnVuY3Rpb24oKSB7XG4gICAgICAgIGZ1bmN0aW9uIFRyYW5zbGF0b3IoKSB7XG4gICAgICAgICAgICB0aGlzLmRheU9mV2Vla1RyYW5zbGF0aW9ucyA9IFsnU3UnLCAnTW8nLCAnVHUnLCAnV2UnLCAnVGgnLCAnRnInLCAnU2EnXTtcbiAgICAgICAgICAgIHRoaXMubW9udGhUcmFuc2xhdGlvbnMgPSBbXG4gICAgICAgICAgICAgICAgJ0phbnVhcnknLFxuICAgICAgICAgICAgICAgICdGZWJydWFyeScsXG4gICAgICAgICAgICAgICAgJ01hcmNoJyxcbiAgICAgICAgICAgICAgICAnQXByaWwnLFxuICAgICAgICAgICAgICAgICdNYXknLFxuICAgICAgICAgICAgICAgICdKdW5lJyxcbiAgICAgICAgICAgICAgICAnSnVseScsXG4gICAgICAgICAgICAgICAgJ0F1Z3VzdCcsXG4gICAgICAgICAgICAgICAgJ1NlcHRlbWJlcicsXG4gICAgICAgICAgICAgICAgJ09jdG9iZXInLFxuICAgICAgICAgICAgICAgICdOb3ZlbWJlcicsXG4gICAgICAgICAgICAgICAgJ0RlY2VtYmVyJyxcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICAgICAgVHJhbnNsYXRvci5wcm90b3R5cGUuc2V0RGF5T2ZXZWVrVHJhbnNsYXRpb24gPSBmdW5jdGlvbihkYXlPZldlZWssIHRyYW5zbGF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLmRheU9mV2Vla1RyYW5zbGF0aW9uc1tcbiAgICAgICAgICAgICAgICBUaGVEYXRlcGlja2VyLkhlbHBlci5jaGVja051bWJlcignRmlyc3QgZGF5IG9mIHdlZWsnLCBkYXlPZldlZWssIDAsIDYpXG4gICAgICAgICAgICBdID0gVGhlRGF0ZXBpY2tlci5IZWxwZXIuY2hlY2tTdHJpbmcoJ1RyYW5zbGF0aW9uJywgdHJhbnNsYXRpb24pO1xuICAgICAgICB9O1xuICAgICAgICBUcmFuc2xhdG9yLnByb3RvdHlwZS5zZXRNb250aFRyYW5zbGF0aW9uID0gZnVuY3Rpb24obW9udGgsIHRyYW5zbGF0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLm1vbnRoVHJhbnNsYXRpb25zW1xuICAgICAgICAgICAgICAgIFRoZURhdGVwaWNrZXIuSGVscGVyLmNoZWNrTnVtYmVyKCdNb250aCcsIG1vbnRoLCAwLCAxMSlcbiAgICAgICAgICAgIF0gPSBUaGVEYXRlcGlja2VyLkhlbHBlci5jaGVja1N0cmluZygnVHJhbnNsYXRpb24nLCB0cmFuc2xhdGlvbik7XG4gICAgICAgIH07XG4gICAgICAgIFRyYW5zbGF0b3IucHJvdG90eXBlLnRyYW5zbGF0ZURheU9mV2VlayA9IGZ1bmN0aW9uKGRheU9mV2Vlaykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF5T2ZXZWVrVHJhbnNsYXRpb25zW2RheU9mV2Vla107XG4gICAgICAgIH07XG4gICAgICAgIFRyYW5zbGF0b3IucHJvdG90eXBlLnRyYW5zbGF0ZU1vbnRoID0gZnVuY3Rpb24obW9udGgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1vbnRoVHJhbnNsYXRpb25zW21vbnRoXTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIFRyYW5zbGF0b3I7XG4gICAgfSkoKTtcbiAgICBUaGVEYXRlcGlja2VyLlRyYW5zbGF0b3IgPSBUcmFuc2xhdG9yO1xufSkoVGhlRGF0ZXBpY2tlciB8fCAoVGhlRGF0ZXBpY2tlciA9IHt9KSk7XG52YXIgVGhlRGF0ZXBpY2tlcjtcbihmdW5jdGlvbihUaGVEYXRlcGlja2VyKSB7XG4gICAgdmFyIENhbm5vdFBhcnNlRGF0ZUV4Y2VwdGlvbiA9IChmdW5jdGlvbigpIHtcbiAgICAgICAgZnVuY3Rpb24gQ2Fubm90UGFyc2VEYXRlRXhjZXB0aW9uKCkge31cbiAgICAgICAgcmV0dXJuIENhbm5vdFBhcnNlRGF0ZUV4Y2VwdGlvbjtcbiAgICB9KSgpO1xuICAgIFRoZURhdGVwaWNrZXIuQ2Fubm90UGFyc2VEYXRlRXhjZXB0aW9uID0gQ2Fubm90UGFyc2VEYXRlRXhjZXB0aW9uO1xuICAgIHZhciBQYXJzZWREYXRlRGF0YSA9IChmdW5jdGlvbigpIHtcbiAgICAgICAgZnVuY3Rpb24gUGFyc2VkRGF0ZURhdGEoKSB7XG4gICAgICAgICAgICB0aGlzLmRheSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm1vbnRoID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMueWVhciA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgUGFyc2VkRGF0ZURhdGEucHJvdG90eXBlLmNyZWF0ZURhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmRheSA9PT0gbnVsbCB8fCB0aGlzLm1vbnRoID09PSBudWxsIHx8IHRoaXMueWVhciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBDYW5ub3RQYXJzZURhdGVFeGNlcHRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBkYXRlID0gbmV3IERhdGUodGhpcy55ZWFyLCB0aGlzLm1vbnRoIC0gMSwgdGhpcy5kYXkpO1xuICAgICAgICAgICAgaWYgKGlzTmFOKGRhdGUuZ2V0VGltZSgpKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBDYW5ub3RQYXJzZURhdGVFeGNlcHRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdoaWxlIChcbiAgICAgICAgICAgICAgICBkYXRlLmdldERhdGUoKSAhPT0gdGhpcy5kYXkgfHxcbiAgICAgICAgICAgICAgICBkYXRlLmdldE1vbnRoKCkgIT09IHRoaXMubW9udGggLSAxIHx8XG4gICAgICAgICAgICAgICAgZGF0ZS5nZXRGdWxsWWVhcigpICE9PSB0aGlzLnllYXJcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRheSA+IDI4KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF5LS07XG4gICAgICAgICAgICAgICAgICAgIGRhdGUgPSBuZXcgRGF0ZSh0aGlzLnllYXIsIHRoaXMubW9udGggLSAxLCB0aGlzLmRheSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IENhbm5vdFBhcnNlRGF0ZUV4Y2VwdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkYXRlO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gUGFyc2VkRGF0ZURhdGE7XG4gICAgfSkoKTtcbiAgICB2YXIgRGF0ZUNvbnZlcnRlciA9IChmdW5jdGlvbigpIHtcbiAgICAgICAgZnVuY3Rpb24gRGF0ZUNvbnZlcnRlcihvcHRpb25zKSB7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICAgICAgdGhpcy5lc2NhcGVDaGFyID0gJ1xcXFwnO1xuICAgICAgICB9XG4gICAgICAgIERhdGVDb252ZXJ0ZXIucHJvdG90eXBlLmZvcm1hdERhdGUgPSBmdW5jdGlvbihmb3JtYXQsIGRhdGUpIHtcbiAgICAgICAgICAgIHZhciBlc2NhcGVOZXh0ID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gJyc7XG4gICAgICAgICAgICBmb3IgKHZhciBwb3NpdGlvbiA9IDA7IHBvc2l0aW9uIDwgZm9ybWF0Lmxlbmd0aDsgcG9zaXRpb24rKykge1xuICAgICAgICAgICAgICAgIHZhciBjaGFyID0gZm9ybWF0LnN1YnN0cmluZyhwb3NpdGlvbiwgcG9zaXRpb24gKyAxKTtcbiAgICAgICAgICAgICAgICBpZiAoZXNjYXBlTmV4dCkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gY2hhcjtcbiAgICAgICAgICAgICAgICAgICAgZXNjYXBlTmV4dCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNoYXIgPT09IHRoaXMuZXNjYXBlQ2hhcikge1xuICAgICAgICAgICAgICAgICAgICBlc2NhcGVOZXh0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBmb3JtYXR0ZXIgPSB0aGlzLmdldEZvcm1hdHRlcihjaGFyKTtcbiAgICAgICAgICAgICAgICBpZiAoZm9ybWF0dGVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBmb3JtYXR0ZXIuY2FsbCh0aGlzLCBkYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlc3VsdCArPSBjaGFyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfTtcbiAgICAgICAgRGF0ZUNvbnZlcnRlci5wcm90b3R5cGUucGFyc2VEYXRlID0gZnVuY3Rpb24oZm9ybWF0LCB0ZXh0KSB7XG4gICAgICAgICAgICBpZiAodGV4dCA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBkYXRlRGF0YSA9IG5ldyBQYXJzZWREYXRlRGF0YSgpO1xuICAgICAgICAgICAgdmFyIGVzY2FwZU5leHQgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciB0ZXh0UG9zaXRpb24gPSAwO1xuICAgICAgICAgICAgZm9yICh2YXIgcG9zaXRpb24gPSAwOyBwb3NpdGlvbiA8IGZvcm1hdC5sZW5ndGg7IHBvc2l0aW9uKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hhciA9IGZvcm1hdC5zdWJzdHJpbmcocG9zaXRpb24sIHBvc2l0aW9uICsgMSk7XG4gICAgICAgICAgICAgICAgaWYgKGVzY2FwZU5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgZXNjYXBlTmV4dCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhciA9PT0gdGhpcy5lc2NhcGVDaGFyKSB7XG4gICAgICAgICAgICAgICAgICAgIGVzY2FwZU5leHQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGFyc2VyID0gdGhpcy5nZXRQYXJzZXIoY2hhcik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFBvc2l0aW9uICs9IHBhcnNlci5jYWxsKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0LnN1YnN0cmluZyh0ZXh0UG9zaXRpb24pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRlRGF0YVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGVycm9yIGluc3RhbmNlb2YgQ2Fubm90UGFyc2VEYXRlRXhjZXB0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRleHRDaGFyXzEgPSB0ZXh0LnN1YnN0cmluZyh0ZXh0UG9zaXRpb24sIHRleHRQb3NpdGlvbiArIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0Q2hhcl8xID09PSAnICcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFBvc2l0aW9uKys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uLS07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciB0ZXh0Q2hhciA9IHRleHQuc3Vic3RyaW5nKHRleHRQb3NpdGlvbiwgdGV4dFBvc2l0aW9uICsgMSk7XG4gICAgICAgICAgICAgICAgaWYgKHRleHRDaGFyICE9PSBjaGFyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFyID09PSAnICcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXh0Q2hhciA9PT0gJyAnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0UG9zaXRpb24rKztcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uLS07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQ2Fubm90UGFyc2VEYXRlRXhjZXB0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRleHRQb3NpdGlvbisrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRhdGVEYXRhLmNyZWF0ZURhdGUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgRGF0ZUNvbnZlcnRlci5wcm90b3R5cGUuZ2V0Rm9ybWF0dGVyID0gZnVuY3Rpb24odHlwZSkge1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnaic6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZvcm1hdERheTtcbiAgICAgICAgICAgICAgICBjYXNlICdkJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0RGF5V2l0aExlYWRpbmdaZXJvO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0QnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXREYXlPZldlZWtUZXh0dWFsO1xuICAgICAgICAgICAgICAgIGNhc2UgJ24nOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXRNb250aDtcbiAgICAgICAgICAgICAgICBjYXNlICdtJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0TW9udGhXaXRoTGVhZGluZ1plcm87XG4gICAgICAgICAgICAgICAgY2FzZSAnRic6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZvcm1hdE1vbnRoVGV4dHVhbDtcbiAgICAgICAgICAgICAgICBjYXNlICdZJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0WWVhcjtcbiAgICAgICAgICAgICAgICBjYXNlICd5JzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm9ybWF0WWVhclR3b0RpZ2l0cztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgRGF0ZUNvbnZlcnRlci5wcm90b3R5cGUuZm9ybWF0RGF5ID0gZnVuY3Rpb24oZGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGUuZ2V0RGF0ZSgpICsgJyc7XG4gICAgICAgIH07XG4gICAgICAgIERhdGVDb252ZXJ0ZXIucHJvdG90eXBlLmZvcm1hdERheVdpdGhMZWFkaW5nWmVybyA9IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiAoJzAnICsgZGF0ZS5nZXREYXRlKCkpLnNsaWNlKC0yKTtcbiAgICAgICAgfTtcbiAgICAgICAgRGF0ZUNvbnZlcnRlci5wcm90b3R5cGUuZm9ybWF0RGF5T2ZXZWVrVGV4dHVhbCA9IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMudHJhbnNsYXRvci50cmFuc2xhdGVEYXlPZldlZWsoZGF0ZS5nZXREYXkoKSk7XG4gICAgICAgIH07XG4gICAgICAgIERhdGVDb252ZXJ0ZXIucHJvdG90eXBlLmZvcm1hdE1vbnRoID0gZnVuY3Rpb24oZGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIGRhdGUuZ2V0TW9udGgoKSArIDEgKyAnJztcbiAgICAgICAgfTtcbiAgICAgICAgRGF0ZUNvbnZlcnRlci5wcm90b3R5cGUuZm9ybWF0TW9udGhXaXRoTGVhZGluZ1plcm8gPSBmdW5jdGlvbihkYXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gKCcwJyArIChkYXRlLmdldE1vbnRoKCkgKyAxKSkuc2xpY2UoLTIpO1xuICAgICAgICB9O1xuICAgICAgICBEYXRlQ29udmVydGVyLnByb3RvdHlwZS5mb3JtYXRNb250aFRleHR1YWwgPSBmdW5jdGlvbihkYXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLnRyYW5zbGF0b3IudHJhbnNsYXRlTW9udGgoZGF0ZS5nZXRNb250aCgpKTtcbiAgICAgICAgfTtcbiAgICAgICAgRGF0ZUNvbnZlcnRlci5wcm90b3R5cGUuZm9ybWF0WWVhciA9IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRlLmdldEZ1bGxZZWFyKCkgKyAnJztcbiAgICAgICAgfTtcbiAgICAgICAgRGF0ZUNvbnZlcnRlci5wcm90b3R5cGUuZm9ybWF0WWVhclR3b0RpZ2l0cyA9IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICAgICAgICAgIHZhciB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpICsgJyc7XG4gICAgICAgICAgICByZXR1cm4geWVhci5zdWJzdHJpbmcoeWVhci5sZW5ndGggLSAyKTtcbiAgICAgICAgfTtcbiAgICAgICAgRGF0ZUNvbnZlcnRlci5wcm90b3R5cGUuZ2V0UGFyc2VyID0gZnVuY3Rpb24odHlwZSkge1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnaic6XG4gICAgICAgICAgICAgICAgY2FzZSAnZCc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlRGF5O1xuICAgICAgICAgICAgICAgIGNhc2UgJ0QnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJzZURheU9mV2Vla1RleHR1YWw7XG4gICAgICAgICAgICAgICAgY2FzZSAnbic6XG4gICAgICAgICAgICAgICAgY2FzZSAnbSc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlTW9udGg7XG4gICAgICAgICAgICAgICAgY2FzZSAnRic6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlTW9udGhUZXh0dWFsO1xuICAgICAgICAgICAgICAgIGNhc2UgJ1knOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXJzZVllYXI7XG4gICAgICAgICAgICAgICAgY2FzZSAneSc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlWWVhclR3b0RpZ2l0cztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgRGF0ZUNvbnZlcnRlci5wcm90b3R5cGUucGFyc2VEYXkgPSBmdW5jdGlvbih0ZXh0LCBkYXRlRGF0YSkge1xuICAgICAgICAgICAgdmFyIHRvb2sgPSAwO1xuICAgICAgICAgICAgd2hpbGUgKHRleHQuc3Vic3RyaW5nKDAsIDEpID09PSAnMCcpIHtcbiAgICAgICAgICAgICAgICB0ZXh0ID0gdGV4dC5zdWJzdHJpbmcoMSk7XG4gICAgICAgICAgICAgICAgdG9vaysrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGRheSA9IHRleHQuc3Vic3RyaW5nKDAsIDIpO1xuICAgICAgICAgICAgaWYgKCEvWzEyXVswLTldfDNbMDFdLy50ZXN0KGRheSkpIHtcbiAgICAgICAgICAgICAgICBkYXkgPSBkYXkuc3Vic3RyaW5nKDAsIDEpO1xuICAgICAgICAgICAgICAgIGlmICghL1sxLTldLy50ZXN0KGRheSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IENhbm5vdFBhcnNlRGF0ZUV4Y2VwdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRhdGVEYXRhLmRheSA9IHBhcnNlSW50KGRheSwgMTApO1xuICAgICAgICAgICAgcmV0dXJuIHRvb2sgKyBkYXkubGVuZ3RoO1xuICAgICAgICB9O1xuICAgICAgICBEYXRlQ29udmVydGVyLnByb3RvdHlwZS5wYXJzZURheU9mV2Vla1RleHR1YWwgPSBmdW5jdGlvbih0ZXh0KSB7XG4gICAgICAgICAgICB2YXIgbWF4TGVuZ3RoID0gMDtcbiAgICAgICAgICAgIGZvciAodmFyIGRheU9mV2VlayA9IDA7IGRheU9mV2VlayA8IDc7IGRheU9mV2VlaysrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRyYW5zbGF0aW9uID0gdGhpcy5vcHRpb25zLnRyYW5zbGF0b3IudHJhbnNsYXRlRGF5T2ZXZWVrKGRheU9mV2Vlayk7XG4gICAgICAgICAgICAgICAgbWF4TGVuZ3RoID0gTWF0aC5tYXgobWF4TGVuZ3RoLCB0cmFuc2xhdGlvbi5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAgICAgdGV4dC5zdWJzdHJpbmcoMCwgdHJhbnNsYXRpb24ubGVuZ3RoKS50b0xvd2VyQ2FzZSgpID09PVxuICAgICAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbi50b0xvd2VyQ2FzZSgpXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cmFuc2xhdGlvbi5sZW5ndGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHRvb2sgPSAwO1xuICAgICAgICAgICAgd2hpbGUgKC9bYS16QS1aXS8udGVzdCh0ZXh0LnN1YnN0cmluZygwLCAxKSkpIHtcbiAgICAgICAgICAgICAgICB0ZXh0ID0gdGV4dC5zdWJzdHJpbmcoMSk7XG4gICAgICAgICAgICAgICAgdG9vaysrO1xuICAgICAgICAgICAgICAgIGlmICh0b29rID09PSBtYXhMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRvb2s7XG4gICAgICAgIH07XG4gICAgICAgIERhdGVDb252ZXJ0ZXIucHJvdG90eXBlLnBhcnNlTW9udGggPSBmdW5jdGlvbih0ZXh0LCBkYXRlRGF0YSkge1xuICAgICAgICAgICAgdmFyIHRvb2sgPSAwO1xuICAgICAgICAgICAgd2hpbGUgKHRleHQuc3Vic3RyaW5nKDAsIDEpID09PSAnMCcpIHtcbiAgICAgICAgICAgICAgICB0ZXh0ID0gdGV4dC5zdWJzdHJpbmcoMSk7XG4gICAgICAgICAgICAgICAgdG9vaysrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG1vbnRoID0gdGV4dC5zdWJzdHJpbmcoMCwgMik7XG4gICAgICAgICAgICBpZiAobW9udGggIT09ICcxMCcgJiYgbW9udGggIT09ICcxMScgJiYgbW9udGggIT09ICcxMicpIHtcbiAgICAgICAgICAgICAgICBtb250aCA9IG1vbnRoLnN1YnN0cmluZygwLCAxKTtcbiAgICAgICAgICAgICAgICBpZiAoIS9bMS05XS8udGVzdChtb250aCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IENhbm5vdFBhcnNlRGF0ZUV4Y2VwdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRhdGVEYXRhLm1vbnRoID0gcGFyc2VJbnQobW9udGgsIDEwKTtcbiAgICAgICAgICAgIHJldHVybiB0b29rICsgbW9udGgubGVuZ3RoO1xuICAgICAgICB9O1xuICAgICAgICBEYXRlQ29udmVydGVyLnByb3RvdHlwZS5wYXJzZU1vbnRoVGV4dHVhbCA9IGZ1bmN0aW9uKHRleHQsIGRhdGVEYXRhKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBtb250aCA9IDE7IG1vbnRoIDw9IDEyOyBtb250aCsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRyYW5zbGF0aW9uID0gdGhpcy5vcHRpb25zLnRyYW5zbGF0b3IudHJhbnNsYXRlTW9udGgobW9udGggLSAxKTtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIHRleHQuc3Vic3RyaW5nKDAsIHRyYW5zbGF0aW9uLmxlbmd0aCkudG9Mb3dlckNhc2UoKSA9PT1cbiAgICAgICAgICAgICAgICAgICAgdHJhbnNsYXRpb24udG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICBkYXRlRGF0YS5tb250aCA9IG1vbnRoO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJhbnNsYXRpb24ubGVuZ3RoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBDYW5ub3RQYXJzZURhdGVFeGNlcHRpb24oKTtcbiAgICAgICAgfTtcbiAgICAgICAgRGF0ZUNvbnZlcnRlci5wcm90b3R5cGUucGFyc2VZZWFyID0gZnVuY3Rpb24odGV4dCwgZGF0ZURhdGEpIHtcbiAgICAgICAgICAgIHZhciBpc05lZ2F0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAodGV4dC5zdWJzdHJpbmcoMCwgMSkgPT09ICctJykge1xuICAgICAgICAgICAgICAgIGlzTmVnYXRpdmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRleHQgPSB0ZXh0LnN1YnN0cmluZygxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB5ZWFyTGVuZ3RoID0gMDtcbiAgICAgICAgICAgIHdoaWxlICgvWzAtOV0vLnRlc3QodGV4dC5zdWJzdHJpbmcoeWVhckxlbmd0aCwgeWVhckxlbmd0aCArIDEpKSkge1xuICAgICAgICAgICAgICAgIHllYXJMZW5ndGgrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh5ZWFyTGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IENhbm5vdFBhcnNlRGF0ZUV4Y2VwdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHllYXIgPSBwYXJzZUludCh0ZXh0LnN1YnN0cmluZygwLCB5ZWFyTGVuZ3RoKSwgMTApO1xuICAgICAgICAgICAgaWYgKGlzTmVnYXRpdmUpIHtcbiAgICAgICAgICAgICAgICB5ZWFyID0gLXllYXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkYXRlRGF0YS55ZWFyID0geWVhcjtcbiAgICAgICAgICAgIHJldHVybiB5ZWFyTGVuZ3RoICsgKGlzTmVnYXRpdmUgPyAxIDogMCk7XG4gICAgICAgIH07XG4gICAgICAgIERhdGVDb252ZXJ0ZXIucHJvdG90eXBlLnBhcnNlWWVhclR3b0RpZ2l0cyA9IGZ1bmN0aW9uKHRleHQsIGRhdGVEYXRhKSB7XG4gICAgICAgICAgICB2YXIgeWVhckVuZCA9IHRleHQuc3Vic3RyaW5nKDAsIDIpO1xuICAgICAgICAgICAgaWYgKCEvWzAtOV17Mn0vLnRlc3QoeWVhckVuZCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQ2Fubm90UGFyc2VEYXRlRXhjZXB0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY3VycmVudFllYXIgPSB0aGlzLm9wdGlvbnMuZ2V0VG9kYXkoKS5nZXRGdWxsWWVhcigpICsgJyc7XG4gICAgICAgICAgICB2YXIgeWVhckJlZ2lubmluZyA9IGN1cnJlbnRZZWFyLnN1YnN0cmluZygwLCBjdXJyZW50WWVhci5sZW5ndGggLSAyKTtcbiAgICAgICAgICAgIGRhdGVEYXRhLnllYXIgPSBwYXJzZUludCh5ZWFyQmVnaW5uaW5nICsgeWVhckVuZCwgMTApO1xuICAgICAgICAgICAgcmV0dXJuIDI7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBEYXRlQ29udmVydGVyO1xuICAgIH0pKCk7XG4gICAgVGhlRGF0ZXBpY2tlci5EYXRlQ29udmVydGVyID0gRGF0ZUNvbnZlcnRlcjtcbn0pKFRoZURhdGVwaWNrZXIgfHwgKFRoZURhdGVwaWNrZXIgPSB7fSkpO1xudmFyIFRoZURhdGVwaWNrZXI7XG4oZnVuY3Rpb24oVGhlRGF0ZXBpY2tlcikge1xuICAgIHZhciBJbml0aWFsaXphdGlvblBoYXNlO1xuICAgIChmdW5jdGlvbihJbml0aWFsaXphdGlvblBoYXNlKSB7XG4gICAgICAgIEluaXRpYWxpemF0aW9uUGhhc2VbKEluaXRpYWxpemF0aW9uUGhhc2VbJ1VudG91Y2hlZCddID0gMCldID0gJ1VudG91Y2hlZCc7XG4gICAgICAgIEluaXRpYWxpemF0aW9uUGhhc2VbKEluaXRpYWxpemF0aW9uUGhhc2VbJ1dhaXRpbmcnXSA9IDEpXSA9ICdXYWl0aW5nJztcbiAgICAgICAgSW5pdGlhbGl6YXRpb25QaGFzZVsoSW5pdGlhbGl6YXRpb25QaGFzZVsnUmVhZHknXSA9IDIpXSA9ICdSZWFkeSc7XG4gICAgICAgIEluaXRpYWxpemF0aW9uUGhhc2VbKEluaXRpYWxpemF0aW9uUGhhc2VbJ0luaXRpYWxpemVkJ10gPSAzKV0gPSAnSW5pdGlhbGl6ZWQnO1xuICAgICAgICBJbml0aWFsaXphdGlvblBoYXNlWyhJbml0aWFsaXphdGlvblBoYXNlWydEZXN0cm95ZWQnXSA9IDQpXSA9ICdEZXN0cm95ZWQnO1xuICAgIH0pKEluaXRpYWxpemF0aW9uUGhhc2UgfHwgKEluaXRpYWxpemF0aW9uUGhhc2UgPSB7fSkpO1xuICAgIHZhciBEYXRlcGlja2VyID0gKGZ1bmN0aW9uKCkge1xuICAgICAgICBmdW5jdGlvbiBEYXRlcGlja2VyKGlucHV0LCBjb250YWluZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmIChjb250YWluZXIgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lciA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmluaXRpYWxpemF0aW9uUGhhc2UgPSBJbml0aWFsaXphdGlvblBoYXNlLlVudG91Y2hlZDtcbiAgICAgICAgICAgIHRoaXMuaW5wdXRMaXN0ZW5lclJlbW92ZXIgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5saXN0ZW5lclJlbW92ZXJzID0gW107XG4gICAgICAgICAgICB0aGlzLmRlc2VsZWN0RWxlbWVudCA9IG51bGw7XG4gICAgICAgICAgICBpZiAoaW5wdXQgIT09IG51bGwgJiYgIVRoZURhdGVwaWNrZXIuSGVscGVyLmlzRWxlbWVudChpbnB1dCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0lucHV0IHdhcyBleHBlY3RlZCB0byBiZSBudWxsIG9yIGFuIEhUTUxFbGVtZW50LicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvbnRhaW5lciAhPT0gbnVsbCAmJiAhVGhlRGF0ZXBpY2tlci5IZWxwZXIuaXNFbGVtZW50KGNvbnRhaW5lcikpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbnRhaW5lciB3YXMgZXhwZWN0ZWQgdG8gYmUgbnVsbCBvciBhbiBIVE1MRWxlbWVudC4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpbnB1dCA9PT0gbnVsbCAmJiBjb250YWluZXIgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0F0IGxlYXN0IG9uZSBvZiBpbnB1dCBvciBjb250YWluZXIgaXMgbWFuZGF0b3J5LicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMgIT09IG51bGwgJiYgIShvcHRpb25zIGluc3RhbmNlb2YgVGhlRGF0ZXBpY2tlci5PcHRpb25zKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignT3B0aW9ucyB3YXMgZXhwZWN0ZWQgdG8gYmUgYW4gaW5zdGFuY2Ugb2YgT3B0aW9ucycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kb2N1bWVudCA9IGRvY3VtZW50O1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyAhPT0gbnVsbCA/IG9wdGlvbnMuY2xvbmUoKSA6IG5ldyBUaGVEYXRlcGlja2VyLk9wdGlvbnMoKTtcbiAgICAgICAgICAgIHZhciBkdXBsaWNhdGVFcnJvciA9ICdUaGVyZSBpcyBhbHJlYWR5IGEgZGF0ZXBpY2tlciBwcmVzZW50IG9uICc7XG4gICAgICAgICAgICB0aGlzLmlzQ29udGFpbmVyRXh0ZXJuYWwgPSBjb250YWluZXIgIT09IG51bGw7XG4gICAgICAgICAgICBpZiAoY29udGFpbmVyID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyID0gdGhpcy5jcmVhdGVDb250YWluZXIoKTtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQucGFyZW50Tm9kZS5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250YWluZXIuZGF0ZXBpY2tlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGR1cGxpY2F0ZUVycm9yICsgJ2NvbnRhaW5lci4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaW5wdXQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGlucHV0LmRhdGVwaWNrZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihkdXBsaWNhdGVFcnJvciArICdpbnB1dC4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW5wdXQuZGF0ZXBpY2tlciA9IHRoaXM7XG4gICAgICAgICAgICAgICAgaW5wdXQuYXV0b2NvbXBsZXRlID0gJ29mZic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250YWluZXIuZGF0ZXBpY2tlciA9IHRoaXM7XG4gICAgICAgICAgICB0aGlzLmlucHV0ID0gaW5wdXQ7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICAgICAgICAgIHRoaXMuZGF0ZUNvbnZlcnRlciA9IG5ldyBUaGVEYXRlcGlja2VyLkRhdGVDb252ZXJ0ZXIodGhpcy5vcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMudmlld01vZGVsID0gbmV3IFRoZURhdGVwaWNrZXIuVmlld01vZGVsKHRoaXMub3B0aW9ucywgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJSZWFkeShpbnB1dCk7XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJSZWFkeShjb250YWluZXIpO1xuICAgICAgICB9XG4gICAgICAgIERhdGVwaWNrZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5pbml0aWFsaXphdGlvblBoYXNlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBJbml0aWFsaXphdGlvblBoYXNlLkRlc3Ryb3llZDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGNhc2UgSW5pdGlhbGl6YXRpb25QaGFzZS5Jbml0aWFsaXplZDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3TW9kZWwucmVuZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBjYXNlIEluaXRpYWxpemF0aW9uUGhhc2UuUmVhZHk6XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdExpc3RlbmVycygpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxpemF0aW9uUGhhc2UgPSBJbml0aWFsaXphdGlvblBoYXNlLkluaXRpYWxpemVkO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgY2FzZSBJbml0aWFsaXphdGlvblBoYXNlLldhaXRpbmc6XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zLmlzSGlkZGVuT25CbHVyKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3BlbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlld01vZGVsLnNlbGVjdFBvc3NpYmxlRGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZURlc2VsZWN0QnV0dG9uKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICBjYXNlIEluaXRpYWxpemF0aW9uUGhhc2UuVW50b3VjaGVkOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXNlbGVjdEZyb21JbnB1dCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZURlc2VsZWN0RWxlbWVudCgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdNb2RlbC5zZWxlY3RJbml0aWFsRGF0ZShudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVJbnB1dCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnB1dCAhPT0gbnVsbCAmJiB0aGlzLm9wdGlvbnMuaXNIaWRkZW5PbkJsdXIoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaW5wdXQgPT09IHRoaXMuZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6YXRpb25QaGFzZSA9IEluaXRpYWxpemF0aW9uUGhhc2UuUmVhZHk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9wZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0TGlzdGVuZXJSZW1vdmVyID0gVGhlRGF0ZXBpY2tlci5IZWxwZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRoZURhdGVwaWNrZXIuTGlzdGVuZXJUeXBlLkZvY3VzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm9wZW4oZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxpemF0aW9uUGhhc2UgPSBJbml0aWFsaXphdGlvblBoYXNlLldhaXRpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsaXphdGlvblBoYXNlID0gSW5pdGlhbGl6YXRpb25QaGFzZS5SZWFkeTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgRGF0ZXBpY2tlci5wcm90b3R5cGUub3BlbiA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIGV2ZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmluaXRpYWxpemF0aW9uUGhhc2UgPT09IEluaXRpYWxpemF0aW9uUGhhc2UuVW50b3VjaGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmluaXRpYWxpemF0aW9uUGhhc2UgPT09IEluaXRpYWxpemF0aW9uUGhhc2UuV2FpdGluZykge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6YXRpb25QaGFzZSA9IEluaXRpYWxpemF0aW9uUGhhc2UuUmVhZHk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgICAgICAgICBEYXRlcGlja2VyLmhhc0NsaWNrZWRWaWV3TW9kZWwgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFEYXRlcGlja2VyLmFjdGl2YXRlVmlld01vZGVsKGV2ZW50LCB0aGlzKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmlucHV0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnB1dC5mb2N1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH07XG4gICAgICAgIERhdGVwaWNrZXIucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGlmIChldmVudCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLnZpZXdNb2RlbC5pc0FjdGl2ZSgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIURhdGVwaWNrZXIuYWN0aXZhdGVWaWV3TW9kZWwoZXZlbnQsIG51bGwpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuaW5wdXQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlucHV0LmJsdXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9O1xuICAgICAgICBEYXRlcGlja2VyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIGV2ZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZXdNb2RlbC5yZXNldChldmVudCk7XG4gICAgICAgIH07XG4gICAgICAgIERhdGVwaWNrZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmluaXRpYWxpemF0aW9uUGhhc2UgPT09IEluaXRpYWxpemF0aW9uUGhhc2UuRGVzdHJveWVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMubGlzdGVuZXJSZW1vdmVycy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyUmVtb3ZlcnNbaW5kZXhdKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVyUmVtb3ZlcnMgPSBbXTtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzQ29udGFpbmVyRXh0ZXJuYWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmNvbnRhaW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5kYXRlcGlja2VyID0gbnVsbDtcbiAgICAgICAgICAgIGlmICh0aGlzLmlucHV0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnB1dC5kYXRlcGlja2VyID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUluaXRpYWxJbnB1dExpc3RlbmVyKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnB1dCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5kZXNlbGVjdEVsZW1lbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlc2VsZWN0RWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZGVzZWxlY3RFbGVtZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLmRlc2VsZWN0RWxlbWVudCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmluaXRpYWxpemF0aW9uUGhhc2UgPSBJbml0aWFsaXphdGlvblBoYXNlLkRlc3Ryb3llZDtcbiAgICAgICAgfTtcbiAgICAgICAgRGF0ZXBpY2tlci5wcm90b3R5cGUuc2VsZWN0RGF0ZSA9IGZ1bmN0aW9uKGRhdGUsIGRvVXBkYXRlTW9udGgsIGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoZG9VcGRhdGVNb250aCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgZG9VcGRhdGVNb250aCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZXZlbnQgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIGV2ZW50ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZXdNb2RlbC5zZWxlY3REYXkoXG4gICAgICAgICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgICAgICAgVGhlRGF0ZXBpY2tlci5IZWxwZXIubm9ybWFsaXplRGF0ZSgnRGF0ZScsIGRhdGUsIHRoaXMub3B0aW9ucyksXG4gICAgICAgICAgICAgICAgZG9VcGRhdGVNb250aFxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcbiAgICAgICAgRGF0ZXBpY2tlci5wcm90b3R5cGUuZ2V0U2VsZWN0ZWREYXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWV3TW9kZWwuc2VsZWN0ZWREYXRlICE9PSBudWxsXG4gICAgICAgICAgICAgICAgPyBuZXcgRGF0ZSh0aGlzLnZpZXdNb2RlbC5zZWxlY3RlZERhdGUuZ2V0VGltZSgpKVxuICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgfTtcbiAgICAgICAgRGF0ZXBpY2tlci5wcm90b3R5cGUuZ2V0Q3VycmVudE1vbnRoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWV3TW9kZWwuZ2V0Q3VycmVudE1vbnRoKCk7XG4gICAgICAgIH07XG4gICAgICAgIERhdGVwaWNrZXIucHJvdG90eXBlLmdvVG9Nb250aCA9IGZ1bmN0aW9uKG1vbnRoLCBldmVudCkge1xuICAgICAgICAgICAgaWYgKGV2ZW50ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICBldmVudCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWV3TW9kZWwuZ29Ub01vbnRoKFxuICAgICAgICAgICAgICAgIGV2ZW50LFxuICAgICAgICAgICAgICAgIFRoZURhdGVwaWNrZXIuSGVscGVyLm5vcm1hbGl6ZURhdGUoJ01vbnRoJywgbW9udGgsIHRoaXMub3B0aW9ucylcbiAgICAgICAgICAgICk7XG4gICAgICAgIH07XG4gICAgICAgIERhdGVwaWNrZXIucHJvdG90eXBlLnBhcnNlUmF3SW5wdXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGVDb252ZXJ0ZXIucGFyc2VEYXRlKHRoaXMub3B0aW9ucy5nZXRJbnB1dEZvcm1hdCgpLCB0aGlzLmlucHV0LnZhbHVlKTtcbiAgICAgICAgfTtcbiAgICAgICAgRGF0ZXBpY2tlci5wcm90b3R5cGUucmVhZElucHV0ID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGlmIChldmVudCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuaW5wdXQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhciBkYXRlID0gdGhpcy5wYXJzZVJhd0lucHV0KCk7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlld01vZGVsLnNlbGVjdE5lYXJlc3REYXRlKGV2ZW50LCBkYXRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlld01vZGVsLmNhbmNlbFNlbGVjdGlvbihldmVudCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGlmICghKGVycm9yIGluc3RhbmNlb2YgVGhlRGF0ZXBpY2tlci5DYW5ub3RQYXJzZURhdGVFeGNlcHRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIERhdGVwaWNrZXIucHJvdG90eXBlLnVwZGF0ZUlucHV0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pbnB1dCA9PT0gbnVsbCB8fCB0aGlzLmlucHV0ID09PSB0aGlzLmRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmlucHV0LnZhbHVlID1cbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdNb2RlbC5zZWxlY3RlZERhdGUgIT09IG51bGxcbiAgICAgICAgICAgICAgICAgICAgPyB0aGlzLmRhdGVDb252ZXJ0ZXIuZm9ybWF0RGF0ZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmdldElucHV0Rm9ybWF0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlld01vZGVsLnNlbGVjdGVkRGF0ZVxuICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgOiAnJztcbiAgICAgICAgICAgIHRoaXMudXBkYXRlRGVzZWxlY3RCdXR0b24oKTtcbiAgICAgICAgfTtcbiAgICAgICAgRGF0ZXBpY2tlci5vbkRhdGVwaWNrZXJSZWFkeSA9IGZ1bmN0aW9uKGVsZW1lbnQsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2sgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBwcm9taXNlID0gbnVsbDtcbiAgICAgICAgICAgIHZhciBwcm9taXNlUmVzb2x2ZSA9IG51bGw7XG4gICAgICAgICAgICBpZiAodHlwZW9mIFByb21pc2UgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvbWlzZVJlc29sdmUgPSByZXNvbHZlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHR5cGVvZiBlbGVtZW50LmRhdGVwaWNrZXIgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgICAgICAgICAgZWxlbWVudC5kYXRlcGlja2VyIGluc3RhbmNlb2YgRGF0ZXBpY2tlclxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5kYXRlcGlja2VyLnRyaWdnZXJSZWFkeUxpc3RlbmVyKGNhbGxiYWNrLCBlbGVtZW50KTtcbiAgICAgICAgICAgICAgICBpZiAocHJvbWlzZVJlc29sdmUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvbWlzZVJlc29sdmUoZWxlbWVudC5kYXRlcGlja2VyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIERhdGVwaWNrZXIucmVhZHlMaXN0ZW5lcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHByb21pc2VSZXNvbHZlOiBwcm9taXNlUmVzb2x2ZSxcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudDogZWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGNhbGxiYWNrLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICAgIH07XG4gICAgICAgIERhdGVwaWNrZXIucHJvdG90eXBlLmNyZWF0ZUNvbnRhaW5lciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBjb250YWluZXIuY2xhc3NOYW1lID0gdGhpcy5vcHRpb25zLmdldENsYXNzZXNQcmVmaXgoKSArICdjb250YWluZXInO1xuICAgICAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICAgICAgfTtcbiAgICAgICAgRGF0ZXBpY2tlci5wcm90b3R5cGUuY3JlYXRlRGVzZWxlY3RFbGVtZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgaWYgKHRoaXMuaW5wdXQgPT09IG51bGwgfHwgIXRoaXMub3B0aW9ucy5pc0Rlc2VsZWN0QnV0dG9uU2hvd24oKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGRlc2VsZWN0RWxlbWVudCA9IHRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICAgICAgZGVzZWxlY3RFbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgICAgIHZhciBkZXNlbGVjdEJ1dHRvbiA9IHRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICAgICAgZGVzZWxlY3RCdXR0b24uaW5uZXJIVE1MID0gdGhpcy5vcHRpb25zLmdldERlc2VsZWN0SHRtbCgpO1xuICAgICAgICAgICAgZGVzZWxlY3RCdXR0b24uc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuICAgICAgICAgICAgZGVzZWxlY3RCdXR0b24uaHJlZiA9ICcjJztcbiAgICAgICAgICAgIGRlc2VsZWN0QnV0dG9uLm9uY2xpY2sgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgIGV2ZW50ID0gZXZlbnQgfHwgd2luZG93LmV2ZW50O1xuICAgICAgICAgICAgICAgIFRoZURhdGVwaWNrZXIuSGVscGVyLnByZXZlbnREZWZhdWx0KGV2ZW50KTtcbiAgICAgICAgICAgICAgICBfdGhpcy52aWV3TW9kZWwuY2FuY2VsU2VsZWN0aW9uKGV2ZW50KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBkZXNlbGVjdEVsZW1lbnQuY2xhc3NOYW1lID0gdGhpcy5vcHRpb25zLmdldENsYXNzZXNQcmVmaXgoKSArICdkZXNlbGVjdCc7XG4gICAgICAgICAgICBkZXNlbGVjdEJ1dHRvbi5jbGFzc05hbWUgPSB0aGlzLm9wdGlvbnMuZ2V0Q2xhc3Nlc1ByZWZpeCgpICsgJ2Rlc2VsZWN0LWJ1dHRvbic7XG4gICAgICAgICAgICBkZXNlbGVjdEVsZW1lbnQuYXBwZW5kQ2hpbGQoZGVzZWxlY3RCdXR0b24pO1xuICAgICAgICAgICAgdGhpcy5pbnB1dC5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGRlc2VsZWN0RWxlbWVudCk7XG4gICAgICAgICAgICB0aGlzLmRlc2VsZWN0RWxlbWVudCA9IGRlc2VsZWN0RWxlbWVudDtcbiAgICAgICAgfTtcbiAgICAgICAgRGF0ZXBpY2tlci5wcm90b3R5cGUudXBkYXRlRGVzZWxlY3RCdXR0b24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlucHV0ICE9PSBudWxsICYmIHRoaXMuZGVzZWxlY3RFbGVtZW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlzVmlzaWJsZSA9IHRoaXMub3B0aW9ucy5pc0Rlc2VsZWN0QnV0dG9uU2hvd24oKSAmJiB0aGlzLmlucHV0LnZhbHVlICE9PSAnJztcbiAgICAgICAgICAgICAgICB0aGlzLmRlc2VsZWN0RWxlbWVudC5zdHlsZS52aXNpYmlsaXR5ID0gaXNWaXNpYmxlID8gJ3Zpc2libGUnIDogJ2hpZGRlbic7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIERhdGVwaWNrZXIucHJvdG90eXBlLnByZXNlbGVjdEZyb21JbnB1dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaW5wdXQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ZSA9IHRoaXMucGFyc2VSYXdJbnB1dCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnNldEluaXRpYWxEYXRlKGRhdGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoZXJyb3IgaW5zdGFuY2VvZiBUaGVEYXRlcGlja2VyLkNhbm5vdFBhcnNlRGF0ZUV4Y2VwdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBEYXRlcGlja2VyLnByb3RvdHlwZS5pbml0TGlzdGVuZXJzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgaWYgKCFEYXRlcGlja2VyLmFyZUdsb2JhbExpc3RlbmVyc0luaXRpYWxpemVkKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFjdGl2ZVZpZXdNb2RlbCA9IG51bGw7XG4gICAgICAgICAgICAgICAgdmFyIGNoZWNrTWlzcyA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChEYXRlcGlja2VyLmhhc0NsaWNrZWRWaWV3TW9kZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIERhdGVwaWNrZXIuaGFzQ2xpY2tlZFZpZXdNb2RlbCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgRGF0ZXBpY2tlci5hY3RpdmF0ZVZpZXdNb2RlbChldmVudCwgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIFRoZURhdGVwaWNrZXIuSGVscGVyLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9jdW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIFRoZURhdGVwaWNrZXIuTGlzdGVuZXJUeXBlLk1vdXNlRG93bixcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tNaXNzXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBUaGVEYXRlcGlja2VyLkhlbHBlci5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvY3VtZW50LFxuICAgICAgICAgICAgICAgICAgICBUaGVEYXRlcGlja2VyLkxpc3RlbmVyVHlwZS5Gb2N1c0luLFxuICAgICAgICAgICAgICAgICAgICBjaGVja01pc3NcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIFRoZURhdGVwaWNrZXIuSGVscGVyLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9jdW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIFRoZURhdGVwaWNrZXIuTGlzdGVuZXJUeXBlLktleURvd24sXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoRGF0ZXBpY2tlci5hY3RpdmVWaWV3TW9kZWwgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEYXRlcGlja2VyLmFjdGl2ZVZpZXdNb2RlbC50cmlnZ2VyS2V5UHJlc3MoZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBEYXRlcGlja2VyLmFyZUdsb2JhbExpc3RlbmVyc0luaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucmVtb3ZlSW5pdGlhbElucHV0TGlzdGVuZXIoKTtcbiAgICAgICAgICAgIHZhciBoaXQgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgIERhdGVwaWNrZXIuYWN0aXZhdGVWaWV3TW9kZWwoZXZlbnQsIF90aGlzKTtcbiAgICAgICAgICAgICAgICBEYXRlcGlja2VyLmhhc0NsaWNrZWRWaWV3TW9kZWwgPSB0cnVlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXJSZW1vdmVycy5wdXNoKFxuICAgICAgICAgICAgICAgIFRoZURhdGVwaWNrZXIuSGVscGVyLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLFxuICAgICAgICAgICAgICAgICAgICBUaGVEYXRlcGlja2VyLkxpc3RlbmVyVHlwZS5Nb3VzZURvd24sXG4gICAgICAgICAgICAgICAgICAgIGhpdFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVyUmVtb3ZlcnMucHVzaChcbiAgICAgICAgICAgICAgICBUaGVEYXRlcGlja2VyLkhlbHBlci5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lcixcbiAgICAgICAgICAgICAgICAgICAgVGhlRGF0ZXBpY2tlci5MaXN0ZW5lclR5cGUuRm9jdXNJbixcbiAgICAgICAgICAgICAgICAgICAgaGl0XG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmRlc2VsZWN0RWxlbWVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXJSZW1vdmVycy5wdXNoKFxuICAgICAgICAgICAgICAgICAgICBUaGVEYXRlcGlja2VyLkhlbHBlci5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXNlbGVjdEVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBUaGVEYXRlcGlja2VyLkxpc3RlbmVyVHlwZS5Nb3VzZURvd24sXG4gICAgICAgICAgICAgICAgICAgICAgICBoaXRcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lclJlbW92ZXJzLnB1c2goXG4gICAgICAgICAgICAgICAgICAgIFRoZURhdGVwaWNrZXIuSGVscGVyLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlc2VsZWN0RWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFRoZURhdGVwaWNrZXIuTGlzdGVuZXJUeXBlLkZvY3VzSW4sXG4gICAgICAgICAgICAgICAgICAgICAgICBoaXRcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5pbnB1dCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMubGlzdGVuZXJSZW1vdmVycy5wdXNoKFxuICAgICAgICAgICAgICAgICAgICBUaGVEYXRlcGlja2VyLkhlbHBlci5hZGRFdmVudExpc3RlbmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFRoZURhdGVwaWNrZXIuTGlzdGVuZXJUeXBlLk1vdXNlRG93bixcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpdFxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyUmVtb3ZlcnMucHVzaChcbiAgICAgICAgICAgICAgICAgICAgVGhlRGF0ZXBpY2tlci5IZWxwZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQsXG4gICAgICAgICAgICAgICAgICAgICAgICBUaGVEYXRlcGlja2VyLkxpc3RlbmVyVHlwZS5Gb2N1cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhpdFxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyUmVtb3ZlcnMucHVzaChcbiAgICAgICAgICAgICAgICAgICAgVGhlRGF0ZXBpY2tlci5IZWxwZXIuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQsXG4gICAgICAgICAgICAgICAgICAgICAgICBUaGVEYXRlcGlja2VyLkxpc3RlbmVyVHlwZS5CbHVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMudXBkYXRlSW5wdXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lclJlbW92ZXJzLnB1c2goXG4gICAgICAgICAgICAgICAgICAgIFRoZURhdGVwaWNrZXIuSGVscGVyLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgVGhlRGF0ZXBpY2tlci5MaXN0ZW5lclR5cGUuS2V5RG93bixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVGhlRGF0ZXBpY2tlci5IZWxwZXIuc3RvcFByb3BhZ2F0aW9uKGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lclJlbW92ZXJzLnB1c2goXG4gICAgICAgICAgICAgICAgICAgIFRoZURhdGVwaWNrZXIuSGVscGVyLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgVGhlRGF0ZXBpY2tlci5MaXN0ZW5lclR5cGUuS2V5VXAsXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnJlYWRJbnB1dChldmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBEYXRlcGlja2VyLnByb3RvdHlwZS5yZW1vdmVJbml0aWFsSW5wdXRMaXN0ZW5lciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaW5wdXRMaXN0ZW5lclJlbW92ZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmlucHV0TGlzdGVuZXJSZW1vdmVyKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnB1dExpc3RlbmVyUmVtb3ZlciA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIERhdGVwaWNrZXIucHJvdG90eXBlLnRyaWdnZXJSZWFkeSA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gRGF0ZXBpY2tlci5yZWFkeUxpc3RlbmVycy5sZW5ndGggLSAxOyBpbmRleCA+PSAwOyBpbmRleC0tKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxpc3RlbmVyID0gRGF0ZXBpY2tlci5yZWFkeUxpc3RlbmVyc1tpbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVyLmVsZW1lbnQgPT09IGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyUmVhZHlMaXN0ZW5lcihsaXN0ZW5lci5jYWxsYmFjaywgZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsaXN0ZW5lci5wcm9taXNlUmVzb2x2ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIucHJvbWlzZVJlc29sdmUodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgRGF0ZXBpY2tlci5yZWFkeUxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgRGF0ZXBpY2tlci5wcm90b3R5cGUudHJpZ2dlclJlYWR5TGlzdGVuZXIgPSBmdW5jdGlvbihjYWxsYmFjaywgZWxlbWVudCkge1xuICAgICAgICAgICAgaWYgKGNhbGxiYWNrICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2suY2FsbChlbGVtZW50LCB0aGlzLCBlbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgRGF0ZXBpY2tlci5wcm90b3R5cGUuZml4UG9zaXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzQ29udGFpbmVyRXh0ZXJuYWwgfHwgIXRoaXMub3B0aW9ucy5pc1Bvc2l0aW9uRml4aW5nRW5hYmxlZCgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHdpbmRvd1RvcCA9IHdpbmRvdy5wYWdlWU9mZnNldCB8fCB0aGlzLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG4gICAgICAgICAgICB2YXIgd2luZG93SGVpZ2h0ID1cbiAgICAgICAgICAgICAgICB3aW5kb3cuaW5uZXJIZWlnaHQgfHxcbiAgICAgICAgICAgICAgICBNYXRoLm1heChcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvY3VtZW50LmJvZHkuY2xpZW50SGVpZ2h0XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHZhciB3aW5kb3dCb3R0b20gPSB3aW5kb3dUb3AgKyB3aW5kb3dIZWlnaHQ7XG4gICAgICAgICAgICB2YXIgaW5wdXRUb3AgPSAwO1xuICAgICAgICAgICAgdmFyIHBhcmVudEVsZW1lbnQgPSB0aGlzLmlucHV0O1xuICAgICAgICAgICAgd2hpbGUgKFxuICAgICAgICAgICAgICAgIHBhcmVudEVsZW1lbnQgIT09IG51bGwgJiZcbiAgICAgICAgICAgICAgICAhaXNOYU4ocGFyZW50RWxlbWVudC5vZmZzZXRMZWZ0KSAmJlxuICAgICAgICAgICAgICAgICFpc05hTihwYXJlbnRFbGVtZW50Lm9mZnNldFRvcClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIGlucHV0VG9wICs9IHBhcmVudEVsZW1lbnQub2Zmc2V0VG9wIC0gcGFyZW50RWxlbWVudC5zY3JvbGxUb3A7XG4gICAgICAgICAgICAgICAgcGFyZW50RWxlbWVudCA9IHBhcmVudEVsZW1lbnQub2Zmc2V0UGFyZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGlucHV0Qm90dG9tID0gaW5wdXRUb3AgKyB0aGlzLmlucHV0Lm9mZnNldEhlaWdodDtcbiAgICAgICAgICAgIHZhciBjb250YWluZXJIZWlnaHQgPSB0aGlzLmNvbnRhaW5lci5vZmZzZXRIZWlnaHQ7XG4gICAgICAgICAgICB2YXIgbG9jYXRpb25DbGFzcyA9ICcnO1xuICAgICAgICAgICAgdmFyIGxvY2F0ZU92ZXIgPVxuICAgICAgICAgICAgICAgIGlucHV0VG9wIC0gd2luZG93VG9wID4gY29udGFpbmVySGVpZ2h0ICYmXG4gICAgICAgICAgICAgICAgd2luZG93Qm90dG9tIC0gaW5wdXRCb3R0b20gPCBjb250YWluZXJIZWlnaHQ7XG4gICAgICAgICAgICBpZiAobG9jYXRlT3Zlcikge1xuICAgICAgICAgICAgICAgIGxvY2F0aW9uQ2xhc3MgPSAnICcgKyB0aGlzLm9wdGlvbnMuZ2V0Q2xhc3Nlc1ByZWZpeCgpICsgJ2NvbnRhaW5lci0tb3Zlcic7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5jbGFzc05hbWUgPVxuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5nZXRDbGFzc2VzUHJlZml4KCkgKyAnY29udGFpbmVyJyArIGxvY2F0aW9uQ2xhc3M7XG4gICAgICAgICAgICB2YXIgY2hpbGROb2RlcyA9IHRoaXMuY29udGFpbmVyLmNoaWxkTm9kZXM7XG4gICAgICAgICAgICBpZiAoY2hpbGROb2Rlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gY2hpbGROb2Rlc1swXTtcbiAgICAgICAgICAgICAgICBpZiAobG9jYXRlT3Zlcikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbW92ZSA9IHRoaXMuaW5wdXQub2Zmc2V0SGVpZ2h0ICsgdGhpcy5jb250YWluZXIub2Zmc2V0SGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICBjaGlsZC5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLnN0eWxlLnRvcCA9ICctJyArIG1vdmUgKyAncHgnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLnN0eWxlLnBvc2l0aW9uID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkLnN0eWxlLnRvcCA9ICcnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgRGF0ZXBpY2tlci5hY3RpdmF0ZVZpZXdNb2RlbCA9IGZ1bmN0aW9uKGV2ZW50LCBkYXRlcGlja2VyKSB7XG4gICAgICAgICAgICB2YXIgdmlld01vZGVsID0gZGF0ZXBpY2tlciAhPT0gbnVsbCA/IGRhdGVwaWNrZXIudmlld01vZGVsIDogbnVsbDtcbiAgICAgICAgICAgIHZhciBhY3RpdmVWaWV3TW9kZWwgPSBEYXRlcGlja2VyLmFjdGl2ZVZpZXdNb2RlbDtcbiAgICAgICAgICAgIGlmIChhY3RpdmVWaWV3TW9kZWwgPT09IHZpZXdNb2RlbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFjdGl2ZVZpZXdNb2RlbCAhPT0gbnVsbCAmJiAhYWN0aXZlVmlld01vZGVsLnNldEFjdGl2ZShldmVudCwgZmFsc2UpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKERhdGVwaWNrZXIuYWN0aXZlVmlld01vZGVsICE9PSBhY3RpdmVWaWV3TW9kZWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2aWV3TW9kZWwgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBEYXRlcGlja2VyLmFjdGl2ZVZpZXdNb2RlbCA9IG51bGw7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXZpZXdNb2RlbC5zZXRBY3RpdmUoZXZlbnQsIHRydWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKERhdGVwaWNrZXIuYWN0aXZlVmlld01vZGVsICE9PSBhY3RpdmVWaWV3TW9kZWwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRhdGVwaWNrZXIuZml4UG9zaXRpb24oKTtcbiAgICAgICAgICAgIERhdGVwaWNrZXIuYWN0aXZlVmlld01vZGVsID0gdmlld01vZGVsO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH07XG4gICAgICAgIERhdGVwaWNrZXIucmVhZHlMaXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgRGF0ZXBpY2tlci5hcmVHbG9iYWxMaXN0ZW5lcnNJbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgICBEYXRlcGlja2VyLmFjdGl2ZVZpZXdNb2RlbCA9IG51bGw7XG4gICAgICAgIERhdGVwaWNrZXIuaGFzQ2xpY2tlZFZpZXdNb2RlbCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gRGF0ZXBpY2tlcjtcbiAgICB9KSgpO1xuICAgIFRoZURhdGVwaWNrZXIuRGF0ZXBpY2tlciA9IERhdGVwaWNrZXI7XG4gICAgVGhlRGF0ZXBpY2tlci5vbkRhdGVwaWNrZXJSZWFkeSA9IERhdGVwaWNrZXIub25EYXRlcGlja2VyUmVhZHk7XG59KShUaGVEYXRlcGlja2VyIHx8IChUaGVEYXRlcGlja2VyID0ge30pKTtcbnZhciBUaGVEYXRlcGlja2VyO1xuKGZ1bmN0aW9uKFRoZURhdGVwaWNrZXIpIHtcbiAgICB2YXIgRGF5ID0gKGZ1bmN0aW9uKCkge1xuICAgICAgICBmdW5jdGlvbiBEYXkoZGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5pc1RvZGF5ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmlzUGFzdCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5pc0F2YWlsYWJsZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmlzSW5WYWxpZGl0eSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmlzVmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmlzSW5DdXJyZW50TW9udGggPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5pc1NlbGVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmlzSGlnaGxpZ2h0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaXNGb2N1c2VkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmRheU51bWJlciA9IGRhdGUuZ2V0RGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5tb250aCA9IGRhdGUuZ2V0TW9udGgoKSArIDE7XG4gICAgICAgICAgICB0aGlzLnllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgICAgICAgICB0aGlzLmRheU9mV2VlayA9IGRhdGUuZ2V0RGF5KCk7XG4gICAgICAgICAgICB0aGlzLmlzV2Vla2VuZCA9XG4gICAgICAgICAgICAgICAgdGhpcy5kYXlPZldlZWsgPT09IFRoZURhdGVwaWNrZXIuRGF5T2ZXZWVrLlNhdHVyZGF5IHx8XG4gICAgICAgICAgICAgICAgdGhpcy5kYXlPZldlZWsgPT09IFRoZURhdGVwaWNrZXIuRGF5T2ZXZWVrLlN1bmRheTtcbiAgICAgICAgfVxuICAgICAgICBEYXkucHJvdG90eXBlLmdldERhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZSh0aGlzLnllYXIsIHRoaXMubW9udGggLSAxLCB0aGlzLmRheU51bWJlciwgMCwgMCwgMCwgMCk7XG4gICAgICAgIH07XG4gICAgICAgIERheS5wcm90b3R5cGUuZ2V0Rm9ybWF0dGVkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIHRoaXMueWVhciArXG4gICAgICAgICAgICAgICAgJy0nICtcbiAgICAgICAgICAgICAgICAoJzAnICsgdGhpcy5tb250aCkuc2xpY2UoLTIpICtcbiAgICAgICAgICAgICAgICAnLScgK1xuICAgICAgICAgICAgICAgICgnMCcgKyB0aGlzLmRheU51bWJlcikuc2xpY2UoLTIpXG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuICAgICAgICBEYXkucHJvdG90eXBlLmlzRXF1YWxUb0RhdGUgPSBmdW5jdGlvbihkYXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIGRhdGUgIT09IG51bGwgJiZcbiAgICAgICAgICAgICAgICB0aGlzLmRheU51bWJlciA9PT0gZGF0ZS5nZXREYXRlKCkgJiZcbiAgICAgICAgICAgICAgICB0aGlzLm1vbnRoID09PSBkYXRlLmdldE1vbnRoKCkgKyAxICYmXG4gICAgICAgICAgICAgICAgdGhpcy55ZWFyID09PSBkYXRlLmdldEZ1bGxZZWFyKClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH07XG4gICAgICAgIERheS5wcm90b3R5cGUuaXNFcXVhbFRvRGF5ID0gZnVuY3Rpb24oZGF5KSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIGRheSAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgICAgIHRoaXMuZGF5TnVtYmVyID09PSBkYXkuZGF5TnVtYmVyICYmXG4gICAgICAgICAgICAgICAgdGhpcy5tb250aCA9PT0gZGF5Lm1vbnRoICYmXG4gICAgICAgICAgICAgICAgdGhpcy55ZWFyID09PSBkYXkueWVhclxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIERheTtcbiAgICB9KSgpO1xuICAgIFRoZURhdGVwaWNrZXIuRGF5ID0gRGF5O1xufSkoVGhlRGF0ZXBpY2tlciB8fCAoVGhlRGF0ZXBpY2tlciA9IHt9KSk7XG52YXIgVGhlRGF0ZXBpY2tlcjtcbihmdW5jdGlvbihUaGVEYXRlcGlja2VyKSB7XG4gICAgdmFyIERheU9mV2VlaztcbiAgICAoZnVuY3Rpb24oRGF5T2ZXZWVrKSB7XG4gICAgICAgIERheU9mV2Vla1soRGF5T2ZXZWVrWydNb25kYXknXSA9IDEpXSA9ICdNb25kYXknO1xuICAgICAgICBEYXlPZldlZWtbKERheU9mV2Vla1snVHVlc2RheSddID0gMildID0gJ1R1ZXNkYXknO1xuICAgICAgICBEYXlPZldlZWtbKERheU9mV2Vla1snV2VkbmVzZGF5J10gPSAzKV0gPSAnV2VkbmVzZGF5JztcbiAgICAgICAgRGF5T2ZXZWVrWyhEYXlPZldlZWtbJ1RodXJzZGF5J10gPSA0KV0gPSAnVGh1cnNkYXknO1xuICAgICAgICBEYXlPZldlZWtbKERheU9mV2Vla1snRnJpZGF5J10gPSA1KV0gPSAnRnJpZGF5JztcbiAgICAgICAgRGF5T2ZXZWVrWyhEYXlPZldlZWtbJ1NhdHVyZGF5J10gPSA2KV0gPSAnU2F0dXJkYXknO1xuICAgICAgICBEYXlPZldlZWtbKERheU9mV2Vla1snU3VuZGF5J10gPSAwKV0gPSAnU3VuZGF5JztcbiAgICB9KSgoRGF5T2ZXZWVrID0gVGhlRGF0ZXBpY2tlci5EYXlPZldlZWsgfHwgKFRoZURhdGVwaWNrZXIuRGF5T2ZXZWVrID0ge30pKSk7XG4gICAgdmFyIE1vbnRoO1xuICAgIChmdW5jdGlvbihNb250aCkge1xuICAgICAgICBNb250aFsoTW9udGhbJ0phbnVhcnknXSA9IDApXSA9ICdKYW51YXJ5JztcbiAgICAgICAgTW9udGhbKE1vbnRoWydGZWJydWFyeSddID0gMSldID0gJ0ZlYnJ1YXJ5JztcbiAgICAgICAgTW9udGhbKE1vbnRoWydNYXJjaCddID0gMildID0gJ01hcmNoJztcbiAgICAgICAgTW9udGhbKE1vbnRoWydBcHJpbCddID0gMyldID0gJ0FwcmlsJztcbiAgICAgICAgTW9udGhbKE1vbnRoWydNYXknXSA9IDQpXSA9ICdNYXknO1xuICAgICAgICBNb250aFsoTW9udGhbJ0p1bmUnXSA9IDUpXSA9ICdKdW5lJztcbiAgICAgICAgTW9udGhbKE1vbnRoWydKdWx5J10gPSA2KV0gPSAnSnVseSc7XG4gICAgICAgIE1vbnRoWyhNb250aFsnQXVndXN0J10gPSA3KV0gPSAnQXVndXN0JztcbiAgICAgICAgTW9udGhbKE1vbnRoWydTZXB0ZW1iZXInXSA9IDgpXSA9ICdTZXB0ZW1iZXInO1xuICAgICAgICBNb250aFsoTW9udGhbJ09jdG9iZXInXSA9IDkpXSA9ICdPY3RvYmVyJztcbiAgICAgICAgTW9udGhbKE1vbnRoWydOb3ZlbWJlciddID0gMTApXSA9ICdOb3ZlbWJlcic7XG4gICAgICAgIE1vbnRoWyhNb250aFsnRGVjZW1iZXInXSA9IDExKV0gPSAnRGVjZW1iZXInO1xuICAgIH0pKChNb250aCA9IFRoZURhdGVwaWNrZXIuTW9udGggfHwgKFRoZURhdGVwaWNrZXIuTW9udGggPSB7fSkpKTtcbiAgICB2YXIgS2V5Q29kZTtcbiAgICAoZnVuY3Rpb24oS2V5Q29kZSkge1xuICAgICAgICBLZXlDb2RlWyhLZXlDb2RlWydFbnRlciddID0gMTMpXSA9ICdFbnRlcic7XG4gICAgICAgIEtleUNvZGVbKEtleUNvZGVbJ1NwYWNlJ10gPSAzMildID0gJ1NwYWNlJztcbiAgICAgICAgS2V5Q29kZVsoS2V5Q29kZVsnTGVmdCddID0gMzcpXSA9ICdMZWZ0JztcbiAgICAgICAgS2V5Q29kZVsoS2V5Q29kZVsnVXAnXSA9IDM4KV0gPSAnVXAnO1xuICAgICAgICBLZXlDb2RlWyhLZXlDb2RlWydSaWdodCddID0gMzkpXSA9ICdSaWdodCc7XG4gICAgICAgIEtleUNvZGVbKEtleUNvZGVbJ0Rvd24nXSA9IDQwKV0gPSAnRG93bic7XG4gICAgfSkoKEtleUNvZGUgPSBUaGVEYXRlcGlja2VyLktleUNvZGUgfHwgKFRoZURhdGVwaWNrZXIuS2V5Q29kZSA9IHt9KSkpO1xuICAgIHZhciBMaXN0ZW5lclR5cGU7XG4gICAgKGZ1bmN0aW9uKExpc3RlbmVyVHlwZSkge1xuICAgICAgICBMaXN0ZW5lclR5cGVbJ01vdXNlRG93biddID0gJ21vdXNlZG93bic7XG4gICAgICAgIExpc3RlbmVyVHlwZVsnRm9jdXMnXSA9ICdmb2N1cyc7XG4gICAgICAgIExpc3RlbmVyVHlwZVsnRm9jdXNJbiddID0gJ2ZvY3VzaW4nO1xuICAgICAgICBMaXN0ZW5lclR5cGVbJ0JsdXInXSA9ICdibHVyJztcbiAgICAgICAgTGlzdGVuZXJUeXBlWydLZXlEb3duJ10gPSAna2V5ZG93bic7XG4gICAgICAgIExpc3RlbmVyVHlwZVsnS2V5VXAnXSA9ICdrZXl1cCc7XG4gICAgfSkoKExpc3RlbmVyVHlwZSA9IFRoZURhdGVwaWNrZXIuTGlzdGVuZXJUeXBlIHx8IChUaGVEYXRlcGlja2VyLkxpc3RlbmVyVHlwZSA9IHt9KSkpO1xuICAgIHZhciBIZWxwZXIgPSAoZnVuY3Rpb24oKSB7XG4gICAgICAgIGZ1bmN0aW9uIEhlbHBlcigpIHt9XG4gICAgICAgIEhlbHBlci5yZXNldFRpbWUgPSBmdW5jdGlvbihkYXRlKSB7XG4gICAgICAgICAgICBpZiAoZGF0ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGF0ZS5zZXRIb3VycygwKTtcbiAgICAgICAgICAgIGRhdGUuc2V0TWludXRlcygwKTtcbiAgICAgICAgICAgIGRhdGUuc2V0U2Vjb25kcygwKTtcbiAgICAgICAgICAgIGRhdGUuc2V0TWlsbGlzZWNvbmRzKDApO1xuICAgICAgICAgICAgcmV0dXJuIGRhdGU7XG4gICAgICAgIH07XG4gICAgICAgIEhlbHBlci5ub3JtYWxpemVEYXRlID0gZnVuY3Rpb24ocGFyYW1ldGVyTmFtZSwgdmFsdWUsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFRoZURhdGVwaWNrZXIuRGF5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLmdldERhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSAndG9kYXknIHx8IHZhbHVlID09PSAnbm93Jykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5nZXRUb2RheSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09ICd0b21vcnJvdycpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGVfMSA9IG9wdGlvbnMuZ2V0VG9kYXkoKTtcbiAgICAgICAgICAgICAgICAgICAgZGF0ZV8xLnNldERhdGUoZGF0ZV8xLmdldERhdGUoKSArIDEpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0ZV8xO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09ICd5ZXN0ZXJkYXknKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRlXzIgPSBvcHRpb25zLmdldFRvZGF5KCk7XG4gICAgICAgICAgICAgICAgICAgIGRhdGVfMi5zZXREYXRlKGRhdGVfMi5nZXREYXRlKCkgLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGVfMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIG1hdGNoZXMgPSB2YWx1ZS5tYXRjaCgvXlxccyooWystXT8pXFxzKihbMC05XSspXFxzKihkYXl8bW9udGh8eWVhcilzP1xccyokL2kpO1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaGVzICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRlXzMgPSBvcHRpb25zLmdldFRvZGF5KCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhbW91bnQgPSBwYXJzZUludChtYXRjaGVzWzJdLCAxMCkgKiAobWF0Y2hlc1sxXSA9PT0gJy0nID8gLTEgOiAxKTtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChtYXRjaGVzWzNdLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2RheSc6XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdkYXlzJzpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRlXzMuc2V0RGF0ZShkYXRlXzMuZ2V0RGF0ZSgpICsgYW1vdW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ21vbnRoJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ21vbnRocyc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZV8zLnNldE1vbnRoKGRhdGVfMy5nZXRNb250aCgpICsgYW1vdW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3llYXInOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAneWVhcnMnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGVfMy5zZXRGdWxsWWVhcihkYXRlXzMuZ2V0RnVsbFllYXIoKSArIGFtb3VudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGVfMztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKCFpc05hTihkYXRlLmdldFRpbWUoKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEhlbHBlci5yZXNldFRpbWUoZGF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChIZWxwZXIuaXNWYWxpZERhdGUodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEhlbHBlci5yZXNldFRpbWUobmV3IERhdGUodmFsdWUuZ2V0VGltZSgpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgcGFyYW1ldGVyTmFtZSArXG4gICAgICAgICAgICAgICAgICAgICcgd2FzIGV4cGVjdGVkIHRvIGJlIGEgdmFsaWQgRGF0ZSBzdHJpbmcgb3IgdmFsaWQgRGF0ZSBvciBEYXkgb3IgbnVsbC4nXG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuICAgICAgICBIZWxwZXIubm9ybWFsaXplTW9udGggPSBmdW5jdGlvbihkYXRlKSB7XG4gICAgICAgICAgICBpZiAoZGF0ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG1vbnRoID0gbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkpO1xuICAgICAgICAgICAgbW9udGguc2V0RGF0ZSgxKTtcbiAgICAgICAgICAgIHJldHVybiBtb250aDtcbiAgICAgICAgfTtcbiAgICAgICAgSGVscGVyLmlzRWxlbWVudCA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgdHlwZW9mIGVsZW1lbnQgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICAgICAgZWxlbWVudC5ub2RlVHlwZSA9PT0gMSAmJlxuICAgICAgICAgICAgICAgIHR5cGVvZiBlbGVtZW50LnN0eWxlID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgICAgIHR5cGVvZiBlbGVtZW50Lm93bmVyRG9jdW1lbnQgPT09ICdvYmplY3QnXG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuICAgICAgICBIZWxwZXIuaXNWYWxpZERhdGUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICAgICAgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgRGF0ZV0nICYmXG4gICAgICAgICAgICAgICAgIWlzTmFOKHZhbHVlLmdldFRpbWUoKSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH07XG4gICAgICAgIEhlbHBlci5pbkFycmF5ID0gZnVuY3Rpb24obGlzdCwgaXRlbSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGxpc3QubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxpc3RbaW5kZXhdID09PSBpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfTtcbiAgICAgICAgSGVscGVyLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbihlbGVtZW50LCBsaXN0ZW5lclR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICAgICAgICBpZiAoZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGxpc3RlbmVyVHlwZSwgbGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGxpc3RlbmVyVHlwZSwgbGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbGlzdGVuZXJQcm9wZXJ0eSA9ICdvbicgKyBsaXN0ZW5lclR5cGU7XG4gICAgICAgICAgICB2YXIgb3JpZ2luYWxMaXN0ZW5lciA9IGVsZW1lbnRbbGlzdGVuZXJQcm9wZXJ0eV0gfHwgbnVsbDtcbiAgICAgICAgICAgIGVsZW1lbnRbbGlzdGVuZXJQcm9wZXJ0eV0gPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgIGV2ZW50ID0gZXZlbnQgfHwgd2luZG93LmV2ZW50O1xuICAgICAgICAgICAgICAgIGlmIChvcmlnaW5hbExpc3RlbmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsTGlzdGVuZXIuY2FsbChlbGVtZW50LCBldmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxpc3RlbmVyKGV2ZW50KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudFtsaXN0ZW5lclByb3BlcnR5XSA9IG9yaWdpbmFsTGlzdGVuZXI7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgICAgICBIZWxwZXIucHJldmVudERlZmF1bHQgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgaWYgKGV2ZW50LnByZXZlbnREZWZhdWx0KSB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZXZlbnQucmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgSGVscGVyLnN0b3BQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQuc3RvcFByb3BhZ2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGV2ZW50LmNhbmNlbEJ1YmJsZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIEhlbHBlci5jaGVja1N0cmluZyA9IGZ1bmN0aW9uKHBhcmFtZXRlck5hbWUsIHZhbHVlLCBjaGVja05vbkVtcHR5KSB7XG4gICAgICAgICAgICBpZiAoY2hlY2tOb25FbXB0eSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgY2hlY2tOb25FbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFjaGVja05vbkVtcHR5ICYmICF2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnIHx8IChjaGVja05vbkVtcHR5ICYmIHZhbHVlID09PSAnJykpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlck5hbWUgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJyB3YXMgZXhwZWN0ZWQgdG8gYmUgYScgK1xuICAgICAgICAgICAgICAgICAgICAgICAgKGNoZWNrTm9uRW1wdHkgPyAnIG5vbiBlbXB0eScgOiAnJykgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJyBzdHJpbmcuJ1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH07XG4gICAgICAgIEhlbHBlci5jaGVja051bWJlciA9IGZ1bmN0aW9uKHBhcmFtZXRlck5hbWUsIHZhbHVlLCBtaW4sIG1heCkge1xuICAgICAgICAgICAgaWYgKG1pbiA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgbWluID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChtYXggPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIG1heCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YWx1ZSA9IHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyBwYXJzZUludCh2YWx1ZSkgOiB2YWx1ZTtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICB0eXBlb2YgdmFsdWUgIT09ICdudW1iZXInIHx8XG4gICAgICAgICAgICAgICAgaXNOYU4odmFsdWUpIHx8XG4gICAgICAgICAgICAgICAgKG1pbiAhPT0gbnVsbCAmJiB2YWx1ZSA8IG1pbikgfHxcbiAgICAgICAgICAgICAgICAobWF4ICE9PSBudWxsICYmIHZhbHVlID4gbWF4KVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJOYW1lICtcbiAgICAgICAgICAgICAgICAgICAgICAgICcgd2FzIGV4cGVjdGVkIHRvIGJlIGEgdmFsaWQgbnVtYmVyJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAobWluICE9PSBudWxsID8gJyBmcm9tICcgKyBtaW4gOiAnJykgK1xuICAgICAgICAgICAgICAgICAgICAgICAgKG1heCAhPT0gbnVsbCA/ICcgdG8gJyArIG1heCA6ICcnKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAnLidcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9O1xuICAgICAgICBIZWxwZXIuY2hlY2tGdW5jdGlvbiA9IGZ1bmN0aW9uKHBhcmFtZXRlck5hbWUsIHZhbHVlLCBpc051bGxhYmxlKSB7XG4gICAgICAgICAgICBpZiAoaXNOdWxsYWJsZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgaXNOdWxsYWJsZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNOdWxsYWJsZSAmJiAhdmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlck5hbWUgK1xuICAgICAgICAgICAgICAgICAgICAgICAgJyB3YXMgZXhwZWN0ZWQgdG8gYmUgYSBmdW5jdGlvbicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgKGlzTnVsbGFibGUgPyAnIG9yIG51bGwnIDogJycpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICcuJ1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBIZWxwZXI7XG4gICAgfSkoKTtcbiAgICBUaGVEYXRlcGlja2VyLkhlbHBlciA9IEhlbHBlcjtcbn0pKFRoZURhdGVwaWNrZXIgfHwgKFRoZURhdGVwaWNrZXIgPSB7fSkpO1xudmFyIFRoZURhdGVwaWNrZXI7XG4oZnVuY3Rpb24oVGhlRGF0ZXBpY2tlcikge1xuICAgIHZhciBIdG1sSGVscGVyID0gKGZ1bmN0aW9uKCkge1xuICAgICAgICBmdW5jdGlvbiBIdG1sSGVscGVyKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgICAgICB0aGlzLmRvY3VtZW50ID0gZG9jdW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgSHRtbEhlbHBlci5wcm90b3R5cGUuY3JlYXRlRGl2ID0gZnVuY3Rpb24oY2xhc3NOYW1lKSB7XG4gICAgICAgICAgICB2YXIgZGl2ID0gdGhpcy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIHRoaXMuYWRkQ2xhc3MoZGl2LCBjbGFzc05hbWUpO1xuICAgICAgICAgICAgcmV0dXJuIGRpdjtcbiAgICAgICAgfTtcbiAgICAgICAgSHRtbEhlbHBlci5wcm90b3R5cGUuY3JlYXRlQW5jaG9yID0gZnVuY3Rpb24ob25DbGljaykge1xuICAgICAgICAgICAgdmFyIGFuY2hvciA9IHRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuICAgICAgICAgICAgdGhpcy5hZGRDbGFzcyhhbmNob3IsICdidXR0b24nKTtcbiAgICAgICAgICAgIGFuY2hvci5ocmVmID0gJyMnO1xuICAgICAgICAgICAgYW5jaG9yLm9uY2xpY2sgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgIGV2ZW50ID0gZXZlbnQgfHwgd2luZG93LmV2ZW50O1xuICAgICAgICAgICAgICAgIFRoZURhdGVwaWNrZXIuSGVscGVyLnByZXZlbnREZWZhdWx0KGV2ZW50KTtcbiAgICAgICAgICAgICAgICBvbkNsaWNrKGV2ZW50KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBhbmNob3Iub25rZXlkb3duID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBldmVudCA9IGV2ZW50IHx8IHdpbmRvdy5ldmVudDtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIFRoZURhdGVwaWNrZXIuSGVscGVyLmluQXJyYXkoXG4gICAgICAgICAgICAgICAgICAgICAgICBbVGhlRGF0ZXBpY2tlci5LZXlDb2RlLkVudGVyLCBUaGVEYXRlcGlja2VyLktleUNvZGUuU3BhY2VdLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQua2V5Q29kZVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIFRoZURhdGVwaWNrZXIuSGVscGVyLnByZXZlbnREZWZhdWx0KGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgb25DbGljayhldmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBhbmNob3I7XG4gICAgICAgIH07XG4gICAgICAgIEh0bWxIZWxwZXIucHJvdG90eXBlLmNyZWF0ZVNwYW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgfTtcbiAgICAgICAgSHRtbEhlbHBlci5wcm90b3R5cGUuY3JlYXRlVGFibGUgPSBmdW5jdGlvbihjbGFzc05hbWUsIGhlYWRlciwgYm9keSkge1xuICAgICAgICAgICAgdmFyIHRhYmxlID0gdGhpcy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0YWJsZScpO1xuICAgICAgICAgICAgdGhpcy5hZGRDbGFzcyh0YWJsZSwgY2xhc3NOYW1lKTtcbiAgICAgICAgICAgIHRhYmxlLmFwcGVuZENoaWxkKGhlYWRlcik7XG4gICAgICAgICAgICB0YWJsZS5hcHBlbmRDaGlsZChib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB0YWJsZTtcbiAgICAgICAgfTtcbiAgICAgICAgSHRtbEhlbHBlci5wcm90b3R5cGUuY3JlYXRlVGFibGVIZWFkZXIgPSBmdW5jdGlvbihjbGFzc05hbWUsIGNlbGxzKSB7XG4gICAgICAgICAgICB2YXIgdGFibGVIZWFkZXIgPSB0aGlzLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RoZWFkJyk7XG4gICAgICAgICAgICB0aGlzLmFkZENsYXNzKHRhYmxlSGVhZGVyLCBjbGFzc05hbWUpO1xuICAgICAgICAgICAgdmFyIHJvdyA9IHRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBjZWxscy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICByb3cuYXBwZW5kQ2hpbGQoY2VsbHNbaW5kZXhdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRhYmxlSGVhZGVyLmFwcGVuZENoaWxkKHJvdyk7XG4gICAgICAgICAgICByZXR1cm4gdGFibGVIZWFkZXI7XG4gICAgICAgIH07XG4gICAgICAgIEh0bWxIZWxwZXIucHJvdG90eXBlLmNyZWF0ZVRhYmxlSGVhZGVyQ2VsbCA9IGZ1bmN0aW9uKGNsYXNzTmFtZSkge1xuICAgICAgICAgICAgdmFyIGNlbGwgPSB0aGlzLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RoJyk7XG4gICAgICAgICAgICBjZWxsLnNjb3BlID0gJ2NvbCc7XG4gICAgICAgICAgICB0aGlzLmFkZENsYXNzKGNlbGwsIGNsYXNzTmFtZSk7XG4gICAgICAgICAgICByZXR1cm4gY2VsbDtcbiAgICAgICAgfTtcbiAgICAgICAgSHRtbEhlbHBlci5wcm90b3R5cGUuY3JlYXRlVGFibGVCb2R5ID0gZnVuY3Rpb24oY2xhc3NOYW1lLCByb3dzKSB7XG4gICAgICAgICAgICB2YXIgdGFibGVCb2R5ID0gdGhpcy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0Ym9keScpO1xuICAgICAgICAgICAgdGhpcy5hZGRDbGFzcyh0YWJsZUJvZHksIGNsYXNzTmFtZSk7XG4gICAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgcm93cy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICB0YWJsZUJvZHkuYXBwZW5kQ2hpbGQocm93c1tpbmRleF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRhYmxlQm9keTtcbiAgICAgICAgfTtcbiAgICAgICAgSHRtbEhlbHBlci5wcm90b3R5cGUuY3JlYXRlVGFibGVSb3cgPSBmdW5jdGlvbihjbGFzc05hbWUsIGNlbGxzKSB7XG4gICAgICAgICAgICB2YXIgcm93ID0gdGhpcy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGNlbGxzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgIHJvdy5hcHBlbmRDaGlsZChjZWxsc1tpbmRleF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJvdztcbiAgICAgICAgfTtcbiAgICAgICAgSHRtbEhlbHBlci5wcm90b3R5cGUuY3JlYXRlVGFibGVDZWxsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZCcpO1xuICAgICAgICB9O1xuICAgICAgICBIdG1sSGVscGVyLnByb3RvdHlwZS5jcmVhdGVTZWxlY3RJbnB1dCA9IGZ1bmN0aW9uKG9wdGlvbnMsIG9uQ2hhbmdlKSB7XG4gICAgICAgICAgICB2YXIgaW5wdXQgPSB0aGlzLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xuICAgICAgICAgICAgdGhpcy5hZGRDbGFzcyhpbnB1dCwgJ3NlbGVjdCcpO1xuICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IG9wdGlvbnMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuYXBwZW5kQ2hpbGQoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlU2VsZWN0T3B0aW9uKG9wdGlvbnNbaW5kZXhdLnZhbHVlLCBvcHRpb25zW2luZGV4XS5sYWJlbClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5wdXQub25jaGFuZ2UgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgIG9uQ2hhbmdlKGV2ZW50IHx8IHdpbmRvdy5ldmVudCwgaW5wdXQudmFsdWUpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlucHV0Lm9ua2V5ZG93biA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgZXZlbnQgPSBldmVudCB8fCB3aW5kb3cuZXZlbnQ7XG4gICAgICAgICAgICAgICAgVGhlRGF0ZXBpY2tlci5IZWxwZXIuc3RvcFByb3BhZ2F0aW9uKGV2ZW50KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgICAgIH07XG4gICAgICAgIEh0bWxIZWxwZXIucHJvdG90eXBlLmNyZWF0ZVNlbGVjdE9wdGlvbiA9IGZ1bmN0aW9uKHZhbHVlLCBsYWJlbCkge1xuICAgICAgICAgICAgdmFyIG9wdGlvbiA9IHRoaXMuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XG4gICAgICAgICAgICBvcHRpb24udmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIG9wdGlvbi5pbm5lclRleHQgPSBsYWJlbDtcbiAgICAgICAgICAgIHJldHVybiBvcHRpb247XG4gICAgICAgIH07XG4gICAgICAgIEh0bWxIZWxwZXIucHJvdG90eXBlLmFkZENsYXNzID0gZnVuY3Rpb24oZWxlbWVudCwgY2xhc3NOYW1lKSB7XG4gICAgICAgICAgICBjbGFzc05hbWUgPSB0aGlzLm9wdGlvbnMuZ2V0Q2xhc3Nlc1ByZWZpeCgpICsgY2xhc3NOYW1lO1xuICAgICAgICAgICAgaWYgKGVsZW1lbnQuY2xhc3NOYW1lICE9PSAnJykge1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9ICcgJyArIGNsYXNzTmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lICs9IGNsYXNzTmFtZTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIEh0bWxIZWxwZXI7XG4gICAgfSkoKTtcbiAgICBUaGVEYXRlcGlja2VyLkh0bWxIZWxwZXIgPSBIdG1sSGVscGVyO1xufSkoVGhlRGF0ZXBpY2tlciB8fCAoVGhlRGF0ZXBpY2tlciA9IHt9KSk7XG52YXIgVGhlRGF0ZXBpY2tlcjtcbihmdW5jdGlvbihUaGVEYXRlcGlja2VyKSB7XG4gICAgdmFyIEV2ZW50VHlwZTtcbiAgICAoZnVuY3Rpb24oRXZlbnRUeXBlKSB7XG4gICAgICAgIEV2ZW50VHlwZVsnQmVmb3JlU2VsZWN0J10gPSAnYmVmb3JlU2VsZWN0JztcbiAgICAgICAgRXZlbnRUeXBlWydTZWxlY3QnXSA9ICdzZWxlY3QnO1xuICAgICAgICBFdmVudFR5cGVbJ0JlZm9yZU9wZW5BbmRDbG9zZSddID0gJ2JlZm9yZU9wZW5BbmRDbG9zZSc7XG4gICAgICAgIEV2ZW50VHlwZVsnT3BlbkFuZENsb3NlJ10gPSAnb3BlbkFuZENsb3NlJztcbiAgICAgICAgRXZlbnRUeXBlWydNb250aENoYW5nZSddID0gJ21vbnRoQ2hhbmdlJztcbiAgICAgICAgRXZlbnRUeXBlWydCZWZvcmVNb250aENoYW5nZSddID0gJ2JlZm9yZU1vbnRoQ2hhbmdlJztcbiAgICB9KSgoRXZlbnRUeXBlID0gVGhlRGF0ZXBpY2tlci5FdmVudFR5cGUgfHwgKFRoZURhdGVwaWNrZXIuRXZlbnRUeXBlID0ge30pKSk7XG4gICAgdmFyIEF2YWlsYWJsZURhdGVOb3RGb3VuZEV4Y2VwdGlvbiA9IChmdW5jdGlvbigpIHtcbiAgICAgICAgZnVuY3Rpb24gQXZhaWxhYmxlRGF0ZU5vdEZvdW5kRXhjZXB0aW9uKCkge31cbiAgICAgICAgcmV0dXJuIEF2YWlsYWJsZURhdGVOb3RGb3VuZEV4Y2VwdGlvbjtcbiAgICB9KSgpO1xuICAgIFRoZURhdGVwaWNrZXIuQXZhaWxhYmxlRGF0ZU5vdEZvdW5kRXhjZXB0aW9uID0gQXZhaWxhYmxlRGF0ZU5vdEZvdW5kRXhjZXB0aW9uO1xuICAgIHZhciBPcHRpb25zID0gKGZ1bmN0aW9uKCkge1xuICAgICAgICBmdW5jdGlvbiBPcHRpb25zKHRyYW5zbGF0b3IpIHtcbiAgICAgICAgICAgIGlmICh0cmFuc2xhdG9yID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICB0cmFuc2xhdG9yID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuaGlkZU9uQmx1ciA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmhpZGVPblNlbGVjdCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLm1pbkRhdGUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5tYXhEYXRlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMubWluTW9udGggPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5tYXhNb250aCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmluaXRpYWxEYXRlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbE1vbnRoID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbERhdGVQcmlvcml0eSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmZpcnN0RGF5T2ZXZWVrID0gVGhlRGF0ZXBpY2tlci5EYXlPZldlZWsuTW9uZGF5O1xuICAgICAgICAgICAgdGhpcy5kYXRlQXZhaWxhYmlsaXR5UmVzb2x2ZXIgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5jZWxsQ29udGVudFJlc29sdmVyID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuY2VsbENvbnRlbnRTdHJ1Y3R1cmVSZXNvbHZlciA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmNlbGxDbGFzc2VzUmVzb2x2ZXIgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5pbnB1dEZvcm1hdCA9ICdqLiBuLiBZJztcbiAgICAgICAgICAgIHRoaXMuZGF5c091dE9mTW9udGhWaXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmZpeGVkUm93c0NvdW50ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVNlbGVjdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5hbGxvd0VtcHR5ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuc2hvd0Rlc2VsZWN0QnV0dG9uID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuc2hvd1Jlc2V0QnV0dG9uID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLm1vbnRoQXNEcm9wZG93biA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnllYXJBc0Ryb3Bkb3duID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMubW9udGhBbmRZZWFyU2VwYXJhdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuY2xhc3Nlc1ByZWZpeCA9ICdjLWRhdGVwaWNrZXJfXyc7XG4gICAgICAgICAgICB0aGlzLnNob3dDbG9zZUJ1dHRvbiA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnRpdGxlID0gJyc7XG4gICAgICAgICAgICB0aGlzLmRyb3Bkb3duSXRlbXNMaW1pdCA9IDIwMDtcbiAgICAgICAgICAgIHRoaXMuZ29CYWNrSHRtbCA9ICcmbHQ7JztcbiAgICAgICAgICAgIHRoaXMuZ29Gb3J3YXJkSHRtbCA9ICcmZ3Q7JztcbiAgICAgICAgICAgIHRoaXMuY2xvc2VIdG1sID0gJyZ0aW1lczsnO1xuICAgICAgICAgICAgdGhpcy5yZXNldEh0bWwgPSAnJm9sYXJyOyc7XG4gICAgICAgICAgICB0aGlzLmRlc2VsZWN0SHRtbCA9ICcmdGltZXM7JztcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb25GaXhpbmcgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy50b2RheSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmxpc3RlbmVycyA9IHtcbiAgICAgICAgICAgICAgICBiZWZvcmVTZWxlY3Q6IFtdLFxuICAgICAgICAgICAgICAgIHNlbGVjdDogW10sXG4gICAgICAgICAgICAgICAgYmVmb3JlT3BlbkFuZENsb3NlOiBbXSxcbiAgICAgICAgICAgICAgICBvcGVuQW5kQ2xvc2U6IFtdLFxuICAgICAgICAgICAgICAgIG1vbnRoQ2hhbmdlOiBbXSxcbiAgICAgICAgICAgICAgICBiZWZvcmVNb250aENoYW5nZTogW10sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy50cmFuc2xhdG9yID0gdHJhbnNsYXRvciAhPT0gbnVsbCA/IHRyYW5zbGF0b3IgOiBuZXcgVGhlRGF0ZXBpY2tlci5UcmFuc2xhdG9yKCk7XG4gICAgICAgICAgICB0aGlzLmRvY3VtZW50ID0gZG9jdW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgT3B0aW9ucy5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBvcHRpb25zID0gbmV3IE9wdGlvbnModGhpcy50cmFuc2xhdG9yKTtcbiAgICAgICAgICAgIG9wdGlvbnMuaGlkZU9uQmx1ciA9IHRoaXMuaGlkZU9uQmx1cjtcbiAgICAgICAgICAgIG9wdGlvbnMuaGlkZU9uU2VsZWN0ID0gdGhpcy5oaWRlT25TZWxlY3Q7XG4gICAgICAgICAgICBvcHRpb25zLm1pbkRhdGUgPSB0aGlzLm1pbkRhdGU7XG4gICAgICAgICAgICBvcHRpb25zLm1heERhdGUgPSB0aGlzLm1heERhdGU7XG4gICAgICAgICAgICBvcHRpb25zLm1pbk1vbnRoID0gdGhpcy5taW5Nb250aDtcbiAgICAgICAgICAgIG9wdGlvbnMubWF4TW9udGggPSB0aGlzLm1heE1vbnRoO1xuICAgICAgICAgICAgb3B0aW9ucy5pbml0aWFsRGF0ZSA9IHRoaXMuaW5pdGlhbERhdGU7XG4gICAgICAgICAgICBvcHRpb25zLmluaXRpYWxNb250aCA9IHRoaXMuaW5pdGlhbE1vbnRoO1xuICAgICAgICAgICAgb3B0aW9ucy5pbml0aWFsRGF0ZVByaW9yaXR5ID0gdGhpcy5pbml0aWFsRGF0ZVByaW9yaXR5O1xuICAgICAgICAgICAgb3B0aW9ucy5maXJzdERheU9mV2VlayA9IHRoaXMuZmlyc3REYXlPZldlZWs7XG4gICAgICAgICAgICBvcHRpb25zLmRhdGVBdmFpbGFiaWxpdHlSZXNvbHZlciA9IHRoaXMuZGF0ZUF2YWlsYWJpbGl0eVJlc29sdmVyO1xuICAgICAgICAgICAgb3B0aW9ucy5jZWxsQ29udGVudFJlc29sdmVyID0gdGhpcy5jZWxsQ29udGVudFJlc29sdmVyO1xuICAgICAgICAgICAgb3B0aW9ucy5jZWxsQ29udGVudFN0cnVjdHVyZVJlc29sdmVyID0gdGhpcy5jZWxsQ29udGVudFN0cnVjdHVyZVJlc29sdmVyO1xuICAgICAgICAgICAgb3B0aW9ucy5jZWxsQ2xhc3Nlc1Jlc29sdmVyID0gdGhpcy5jZWxsQ2xhc3Nlc1Jlc29sdmVyO1xuICAgICAgICAgICAgb3B0aW9ucy5pbnB1dEZvcm1hdCA9IHRoaXMuaW5wdXRGb3JtYXQ7XG4gICAgICAgICAgICBvcHRpb25zLmRheXNPdXRPZk1vbnRoVmlzaWJsZSA9IHRoaXMuZGF5c091dE9mTW9udGhWaXNpYmxlO1xuICAgICAgICAgICAgb3B0aW9ucy5maXhlZFJvd3NDb3VudCA9IHRoaXMuZml4ZWRSb3dzQ291bnQ7XG4gICAgICAgICAgICBvcHRpb25zLnRvZ2dsZVNlbGVjdGlvbiA9IHRoaXMudG9nZ2xlU2VsZWN0aW9uO1xuICAgICAgICAgICAgb3B0aW9ucy5hbGxvd0VtcHR5ID0gdGhpcy5hbGxvd0VtcHR5O1xuICAgICAgICAgICAgb3B0aW9ucy5zaG93RGVzZWxlY3RCdXR0b24gPSB0aGlzLnNob3dEZXNlbGVjdEJ1dHRvbjtcbiAgICAgICAgICAgIG9wdGlvbnMuc2hvd1Jlc2V0QnV0dG9uID0gdGhpcy5zaG93UmVzZXRCdXR0b247XG4gICAgICAgICAgICBvcHRpb25zLm1vbnRoQXNEcm9wZG93biA9IHRoaXMubW9udGhBc0Ryb3Bkb3duO1xuICAgICAgICAgICAgb3B0aW9ucy55ZWFyQXNEcm9wZG93biA9IHRoaXMueWVhckFzRHJvcGRvd247XG4gICAgICAgICAgICBvcHRpb25zLm1vbnRoQW5kWWVhclNlcGFyYXRlZCA9IHRoaXMubW9udGhBbmRZZWFyU2VwYXJhdGVkO1xuICAgICAgICAgICAgb3B0aW9ucy5jbGFzc2VzUHJlZml4ID0gdGhpcy5jbGFzc2VzUHJlZml4O1xuICAgICAgICAgICAgb3B0aW9ucy5zaG93Q2xvc2VCdXR0b24gPSB0aGlzLnNob3dDbG9zZUJ1dHRvbjtcbiAgICAgICAgICAgIG9wdGlvbnMudGl0bGUgPSB0aGlzLnRpdGxlO1xuICAgICAgICAgICAgb3B0aW9ucy5kcm9wZG93bkl0ZW1zTGltaXQgPSB0aGlzLmRyb3Bkb3duSXRlbXNMaW1pdDtcbiAgICAgICAgICAgIG9wdGlvbnMuZ29CYWNrSHRtbCA9IHRoaXMuZ29CYWNrSHRtbDtcbiAgICAgICAgICAgIG9wdGlvbnMuZ29Gb3J3YXJkSHRtbCA9IHRoaXMuZ29Gb3J3YXJkSHRtbDtcbiAgICAgICAgICAgIG9wdGlvbnMuY2xvc2VIdG1sID0gdGhpcy5jbG9zZUh0bWw7XG4gICAgICAgICAgICBvcHRpb25zLnJlc2V0SHRtbCA9IHRoaXMucmVzZXRIdG1sO1xuICAgICAgICAgICAgb3B0aW9ucy5kZXNlbGVjdEh0bWwgPSB0aGlzLmRlc2VsZWN0SHRtbDtcbiAgICAgICAgICAgIG9wdGlvbnMucG9zaXRpb25GaXhpbmcgPSB0aGlzLnBvc2l0aW9uRml4aW5nO1xuICAgICAgICAgICAgb3B0aW9ucy5saXN0ZW5lcnMuYmVmb3JlU2VsZWN0ID0gdGhpcy5saXN0ZW5lcnMuYmVmb3JlU2VsZWN0LnNsaWNlKDApO1xuICAgICAgICAgICAgb3B0aW9ucy5saXN0ZW5lcnMuc2VsZWN0ID0gdGhpcy5saXN0ZW5lcnMuc2VsZWN0LnNsaWNlKDApO1xuICAgICAgICAgICAgb3B0aW9ucy5saXN0ZW5lcnMuYmVmb3JlT3BlbkFuZENsb3NlID0gdGhpcy5saXN0ZW5lcnMuYmVmb3JlT3BlbkFuZENsb3NlLnNsaWNlKDApO1xuICAgICAgICAgICAgb3B0aW9ucy5saXN0ZW5lcnMub3BlbkFuZENsb3NlID0gdGhpcy5saXN0ZW5lcnMub3BlbkFuZENsb3NlLnNsaWNlKDApO1xuICAgICAgICAgICAgb3B0aW9ucy5saXN0ZW5lcnMubW9udGhDaGFuZ2UgPSB0aGlzLmxpc3RlbmVycy5tb250aENoYW5nZS5zbGljZSgwKTtcbiAgICAgICAgICAgIG9wdGlvbnMubGlzdGVuZXJzLmJlZm9yZU1vbnRoQ2hhbmdlID0gdGhpcy5saXN0ZW5lcnMuYmVmb3JlTW9udGhDaGFuZ2Uuc2xpY2UoMCk7XG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucztcbiAgICAgICAgfTtcbiAgICAgICAgT3B0aW9ucy5wcm90b3R5cGUuc2V0SGlkZU9uQmx1ciA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmhpZGVPbkJsdXIgPSAhIXZhbHVlO1xuICAgICAgICB9O1xuICAgICAgICBPcHRpb25zLnByb3RvdHlwZS5zZXRIaWRlT25TZWxlY3QgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5oaWRlT25TZWxlY3QgPSAhIXZhbHVlO1xuICAgICAgICB9O1xuICAgICAgICBPcHRpb25zLnByb3RvdHlwZS5zZXRNaW5EYXRlID0gZnVuY3Rpb24oZGF0ZSkge1xuICAgICAgICAgICAgdmFyIG5vcm1hbGl6ZWREYXRlID0gVGhlRGF0ZXBpY2tlci5IZWxwZXIubm9ybWFsaXplRGF0ZSgnTWluIGRhdGUnLCBkYXRlLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuY2hlY2tDb25zdHJhaW50cyhub3JtYWxpemVkRGF0ZSwgdGhpcy5tYXhEYXRlKTtcbiAgICAgICAgICAgIHRoaXMubWluRGF0ZSA9IG5vcm1hbGl6ZWREYXRlO1xuICAgICAgICAgICAgdGhpcy5taW5Nb250aCA9IFRoZURhdGVwaWNrZXIuSGVscGVyLm5vcm1hbGl6ZU1vbnRoKG5vcm1hbGl6ZWREYXRlKTtcbiAgICAgICAgfTtcbiAgICAgICAgT3B0aW9ucy5wcm90b3R5cGUuc2V0TWF4RGF0ZSA9IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICAgICAgICAgIHZhciBub3JtYWxpemVkRGF0ZSA9IFRoZURhdGVwaWNrZXIuSGVscGVyLm5vcm1hbGl6ZURhdGUoJ01heCBkYXRlJywgZGF0ZSwgdGhpcyk7XG4gICAgICAgICAgICB0aGlzLmNoZWNrQ29uc3RyYWludHModGhpcy5taW5EYXRlLCBub3JtYWxpemVkRGF0ZSk7XG4gICAgICAgICAgICB0aGlzLm1heERhdGUgPSBub3JtYWxpemVkRGF0ZTtcbiAgICAgICAgICAgIHRoaXMubWF4TW9udGggPSBUaGVEYXRlcGlja2VyLkhlbHBlci5ub3JtYWxpemVNb250aChub3JtYWxpemVkRGF0ZSk7XG4gICAgICAgIH07XG4gICAgICAgIE9wdGlvbnMucHJvdG90eXBlLnNldEluaXRpYWxNb250aCA9IGZ1bmN0aW9uKG1vbnRoKSB7XG4gICAgICAgICAgICB0aGlzLmluaXRpYWxNb250aCA9IFRoZURhdGVwaWNrZXIuSGVscGVyLm5vcm1hbGl6ZURhdGUoJ0luaXRpYWwgbW9udGgnLCBtb250aCwgdGhpcyk7XG4gICAgICAgIH07XG4gICAgICAgIE9wdGlvbnMucHJvdG90eXBlLnNldEluaXRpYWxEYXRlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbERhdGUgPSBUaGVEYXRlcGlja2VyLkhlbHBlci5ub3JtYWxpemVEYXRlKCdJbml0aWFsIGRhdGUnLCB2YWx1ZSwgdGhpcyk7XG4gICAgICAgIH07XG4gICAgICAgIE9wdGlvbnMucHJvdG90eXBlLnNldEluaXRpYWxEYXRlUHJpb3JpdHkgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsRGF0ZVByaW9yaXR5ID0gISF2YWx1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgT3B0aW9ucy5wcm90b3R5cGUuc2V0Rmlyc3REYXlPZldlZWsgPSBmdW5jdGlvbihkYXlPZldlZWspIHtcbiAgICAgICAgICAgIHRoaXMuZmlyc3REYXlPZldlZWsgPSBUaGVEYXRlcGlja2VyLkhlbHBlci5jaGVja051bWJlcihcbiAgICAgICAgICAgICAgICAnRmlyc3QgZGF5IG9mIHdlZWsnLFxuICAgICAgICAgICAgICAgIGRheU9mV2VlayxcbiAgICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICAgIDZcbiAgICAgICAgICAgICk7XG4gICAgICAgIH07XG4gICAgICAgIE9wdGlvbnMucHJvdG90eXBlLnNldERhdGVBdmFpbGFiaWxpdHlSZXNvbHZlciA9IGZ1bmN0aW9uKHJlc29sdmVyKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGVBdmFpbGFiaWxpdHlSZXNvbHZlciA9IFRoZURhdGVwaWNrZXIuSGVscGVyLmNoZWNrRnVuY3Rpb24oXG4gICAgICAgICAgICAgICAgJ1Jlc29sdmVyJyxcbiAgICAgICAgICAgICAgICByZXNvbHZlclxuICAgICAgICAgICAgKTtcbiAgICAgICAgfTtcbiAgICAgICAgT3B0aW9ucy5wcm90b3R5cGUuc2V0Q2VsbENvbnRlbnRSZXNvbHZlciA9IGZ1bmN0aW9uKHJlc29sdmVyKSB7XG4gICAgICAgICAgICB0aGlzLmNlbGxDb250ZW50UmVzb2x2ZXIgPSBUaGVEYXRlcGlja2VyLkhlbHBlci5jaGVja0Z1bmN0aW9uKCdSZXNvbHZlcicsIHJlc29sdmVyKTtcbiAgICAgICAgfTtcbiAgICAgICAgT3B0aW9ucy5wcm90b3R5cGUuc2V0Q2VsbENvbnRlbnRTdHJ1Y3R1cmVSZXNvbHZlciA9IGZ1bmN0aW9uKGluaXQsIHVwZGF0ZSkge1xuICAgICAgICAgICAgaWYgKHVwZGF0ZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGluaXQgPSBUaGVEYXRlcGlja2VyLkhlbHBlci5jaGVja0Z1bmN0aW9uKCdSZXNvbHZlciAoaW5pdCknLCBpbml0KTtcbiAgICAgICAgICAgIHVwZGF0ZSA9IFRoZURhdGVwaWNrZXIuSGVscGVyLmNoZWNrRnVuY3Rpb24oJ1Jlc29sdmVyICh1cGRhdGUpJywgdXBkYXRlKTtcbiAgICAgICAgICAgIHRoaXMuY2VsbENvbnRlbnRTdHJ1Y3R1cmVSZXNvbHZlciA9XG4gICAgICAgICAgICAgICAgaW5pdCA9PT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGluaXQ6IGluaXQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZTogdXBkYXRlLFxuICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICAgIE9wdGlvbnMucHJvdG90eXBlLnNldENlbGxDbGFzc2VzUmVzb2x2ZXIgPSBmdW5jdGlvbihyZXNvbHZlcikge1xuICAgICAgICAgICAgdGhpcy5jZWxsQ2xhc3Nlc1Jlc29sdmVyID0gVGhlRGF0ZXBpY2tlci5IZWxwZXIuY2hlY2tGdW5jdGlvbignUmVzb2x2ZXInLCByZXNvbHZlcik7XG4gICAgICAgIH07XG4gICAgICAgIE9wdGlvbnMucHJvdG90eXBlLnNldElucHV0Rm9ybWF0ID0gZnVuY3Rpb24oZm9ybWF0KSB7XG4gICAgICAgICAgICB0aGlzLmlucHV0Rm9ybWF0ID0gVGhlRGF0ZXBpY2tlci5IZWxwZXIuY2hlY2tTdHJpbmcoJ0lucHV0IGZvcm1hdCcsIGZvcm1hdCwgdHJ1ZSk7XG4gICAgICAgIH07XG4gICAgICAgIE9wdGlvbnMucHJvdG90eXBlLnNldERheXNPdXRPZk1vbnRoVmlzaWJsZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmRheXNPdXRPZk1vbnRoVmlzaWJsZSA9ICEhdmFsdWU7XG4gICAgICAgIH07XG4gICAgICAgIE9wdGlvbnMucHJvdG90eXBlLnNldEZpeGVkUm93c0NvdW50ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuZml4ZWRSb3dzQ291bnQgPSAhIXZhbHVlO1xuICAgICAgICB9O1xuICAgICAgICBPcHRpb25zLnByb3RvdHlwZS5zZXRUb2dnbGVTZWxlY3Rpb24gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy50b2dnbGVTZWxlY3Rpb24gPSAhIXZhbHVlO1xuICAgICAgICB9O1xuICAgICAgICBPcHRpb25zLnByb3RvdHlwZS5zZXRTaG93RGVzZWxlY3RCdXR0b24gPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5zaG93RGVzZWxlY3RCdXR0b24gPSAhIXZhbHVlO1xuICAgICAgICB9O1xuICAgICAgICBPcHRpb25zLnByb3RvdHlwZS5zZXRBbGxvd0VtcHR5ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuYWxsb3dFbXB0eSA9ICEhdmFsdWU7XG4gICAgICAgIH07XG4gICAgICAgIE9wdGlvbnMucHJvdG90eXBlLnNldFNob3dSZXNldEJ1dHRvbiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnNob3dSZXNldEJ1dHRvbiA9ICEhdmFsdWU7XG4gICAgICAgIH07XG4gICAgICAgIE9wdGlvbnMucHJvdG90eXBlLnNldE1vbnRoQXNEcm9wZG93biA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLm1vbnRoQXNEcm9wZG93biA9ICEhdmFsdWU7XG4gICAgICAgIH07XG4gICAgICAgIE9wdGlvbnMucHJvdG90eXBlLnNldFllYXJBc0Ryb3Bkb3duID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMueWVhckFzRHJvcGRvd24gPSAhIXZhbHVlO1xuICAgICAgICB9O1xuICAgICAgICBPcHRpb25zLnByb3RvdHlwZS5zZXRNb250aEFuZFllYXJTZXBhcmF0ZWQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5tb250aEFuZFllYXJTZXBhcmF0ZWQgPSAhIXZhbHVlO1xuICAgICAgICB9O1xuICAgICAgICBPcHRpb25zLnByb3RvdHlwZS5zZXRDbGFzc2VzUHJlZml4ID0gZnVuY3Rpb24ocHJlZml4KSB7XG4gICAgICAgICAgICB0aGlzLmNsYXNzZXNQcmVmaXggPSBUaGVEYXRlcGlja2VyLkhlbHBlci5jaGVja1N0cmluZygnUHJlZml4JywgcHJlZml4KTtcbiAgICAgICAgfTtcbiAgICAgICAgT3B0aW9ucy5wcm90b3R5cGUuc2V0U2hvd0Nsb3NlQnV0dG9uID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuc2hvd0Nsb3NlQnV0dG9uID0gISF2YWx1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgT3B0aW9ucy5wcm90b3R5cGUuc2V0VGl0bGUgPSBmdW5jdGlvbih0aXRsZSkge1xuICAgICAgICAgICAgdGhpcy50aXRsZSA9IFRoZURhdGVwaWNrZXIuSGVscGVyLmNoZWNrU3RyaW5nKCdUaXRsZScsIHRpdGxlKTtcbiAgICAgICAgfTtcbiAgICAgICAgT3B0aW9ucy5wcm90b3R5cGUuc2V0RHJvcGRvd25JdGVtc0xpbWl0ID0gZnVuY3Rpb24obGltaXQpIHtcbiAgICAgICAgICAgIHRoaXMuZHJvcGRvd25JdGVtc0xpbWl0ID0gVGhlRGF0ZXBpY2tlci5IZWxwZXIuY2hlY2tOdW1iZXIoJ0l0ZW1zIGxpbWl0JywgbGltaXQsIDEpO1xuICAgICAgICB9O1xuICAgICAgICBPcHRpb25zLnByb3RvdHlwZS5zZXRHb0JhY2tIdG1sID0gZnVuY3Rpb24oaHRtbCkge1xuICAgICAgICAgICAgdGhpcy5nb0JhY2tIdG1sID0gVGhlRGF0ZXBpY2tlci5IZWxwZXIuY2hlY2tTdHJpbmcoJ0h0bWwnLCBodG1sKTtcbiAgICAgICAgfTtcbiAgICAgICAgT3B0aW9ucy5wcm90b3R5cGUuc2V0R29Gb3J3YXJkSHRtbCA9IGZ1bmN0aW9uKGh0bWwpIHtcbiAgICAgICAgICAgIHRoaXMuZ29Gb3J3YXJkSHRtbCA9IFRoZURhdGVwaWNrZXIuSGVscGVyLmNoZWNrU3RyaW5nKCdIdG1sJywgaHRtbCk7XG4gICAgICAgIH07XG4gICAgICAgIE9wdGlvbnMucHJvdG90eXBlLnNldENsb3NlSHRtbCA9IGZ1bmN0aW9uKGh0bWwpIHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2VIdG1sID0gVGhlRGF0ZXBpY2tlci5IZWxwZXIuY2hlY2tTdHJpbmcoJ0h0bWwnLCBodG1sKTtcbiAgICAgICAgfTtcbiAgICAgICAgT3B0aW9ucy5wcm90b3R5cGUuc2V0UmVzZXRIdG1sID0gZnVuY3Rpb24oaHRtbCkge1xuICAgICAgICAgICAgdGhpcy5yZXNldEh0bWwgPSBUaGVEYXRlcGlja2VyLkhlbHBlci5jaGVja1N0cmluZygnSHRtbCcsIGh0bWwpO1xuICAgICAgICB9O1xuICAgICAgICBPcHRpb25zLnByb3RvdHlwZS5zZXREZXNlbGVjdEh0bWwgPSBmdW5jdGlvbihodG1sKSB7XG4gICAgICAgICAgICB0aGlzLmRlc2VsZWN0SHRtbCA9IFRoZURhdGVwaWNrZXIuSGVscGVyLmNoZWNrU3RyaW5nKCdIdG1sJywgaHRtbCk7XG4gICAgICAgIH07XG4gICAgICAgIE9wdGlvbnMucHJvdG90eXBlLnNldFBvc2l0aW9uRml4aW5nID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMucG9zaXRpb25GaXhpbmcgPSAhIXZhbHVlO1xuICAgICAgICB9O1xuICAgICAgICBPcHRpb25zLnByb3RvdHlwZS5zZXRUb2RheSA9IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICAgICAgICAgIHRoaXMudG9kYXkgPSBUaGVEYXRlcGlja2VyLkhlbHBlci5ub3JtYWxpemVEYXRlKCdUb2RheScsIGRhdGUsIHRoaXMpO1xuICAgICAgICB9O1xuICAgICAgICBPcHRpb25zLnByb3RvdHlwZS5vbkJlZm9yZVNlbGVjdCA9IGZ1bmN0aW9uKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICB0aGlzLm9uRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuQmVmb3JlU2VsZWN0LCBsaXN0ZW5lcik7XG4gICAgICAgIH07XG4gICAgICAgIE9wdGlvbnMucHJvdG90eXBlLm9mZkJlZm9yZVNlbGVjdCA9IGZ1bmN0aW9uKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICBpZiAobGlzdGVuZXIgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMub2ZmRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuQmVmb3JlU2VsZWN0LCBsaXN0ZW5lcik7XG4gICAgICAgIH07XG4gICAgICAgIE9wdGlvbnMucHJvdG90eXBlLm9uU2VsZWN0ID0gZnVuY3Rpb24obGlzdGVuZXIpIHtcbiAgICAgICAgICAgIHRoaXMub25FdmVudExpc3RlbmVyKEV2ZW50VHlwZS5TZWxlY3QsIGxpc3RlbmVyKTtcbiAgICAgICAgfTtcbiAgICAgICAgT3B0aW9ucy5wcm90b3R5cGUub2ZmU2VsZWN0ID0gZnVuY3Rpb24obGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lciA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5vZmZFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5TZWxlY3QsIGxpc3RlbmVyKTtcbiAgICAgICAgfTtcbiAgICAgICAgT3B0aW9ucy5wcm90b3R5cGUub25CZWZvcmVPcGVuQW5kQ2xvc2UgPSBmdW5jdGlvbihsaXN0ZW5lcikge1xuICAgICAgICAgICAgdGhpcy5vbkV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLkJlZm9yZU9wZW5BbmRDbG9zZSwgbGlzdGVuZXIpO1xuICAgICAgICB9O1xuICAgICAgICBPcHRpb25zLnByb3RvdHlwZS5vZmZCZWZvcmVPcGVuQW5kQ2xvc2UgPSBmdW5jdGlvbihsaXN0ZW5lcikge1xuICAgICAgICAgICAgaWYgKGxpc3RlbmVyID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lciA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm9mZkV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLkJlZm9yZU9wZW5BbmRDbG9zZSwgbGlzdGVuZXIpO1xuICAgICAgICB9O1xuICAgICAgICBPcHRpb25zLnByb3RvdHlwZS5vbk9wZW5BbmRDbG9zZSA9IGZ1bmN0aW9uKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICB0aGlzLm9uRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuT3BlbkFuZENsb3NlLCBsaXN0ZW5lcik7XG4gICAgICAgIH07XG4gICAgICAgIE9wdGlvbnMucHJvdG90eXBlLm9mZk9wZW5BbmRDbG9zZSA9IGZ1bmN0aW9uKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICBpZiAobGlzdGVuZXIgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMub2ZmRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuT3BlbkFuZENsb3NlLCBsaXN0ZW5lcik7XG4gICAgICAgIH07XG4gICAgICAgIE9wdGlvbnMucHJvdG90eXBlLm9uQmVmb3JlTW9udGhDaGFuZ2UgPSBmdW5jdGlvbihsaXN0ZW5lcikge1xuICAgICAgICAgICAgdGhpcy5vbkV2ZW50TGlzdGVuZXIoRXZlbnRUeXBlLkJlZm9yZU1vbnRoQ2hhbmdlLCBsaXN0ZW5lcik7XG4gICAgICAgIH07XG4gICAgICAgIE9wdGlvbnMucHJvdG90eXBlLm9mZkJlZm9yZU1vbnRoQ2hhbmdlID0gZnVuY3Rpb24obGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGlmIChsaXN0ZW5lciA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgbGlzdGVuZXIgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5vZmZFdmVudExpc3RlbmVyKEV2ZW50VHlwZS5CZWZvcmVNb250aENoYW5nZSwgbGlzdGVuZXIpO1xuICAgICAgICB9O1xuICAgICAgICBPcHRpb25zLnByb3RvdHlwZS5vbk1vbnRoQ2hhbmdlID0gZnVuY3Rpb24obGlzdGVuZXIpIHtcbiAgICAgICAgICAgIHRoaXMub25FdmVudExpc3RlbmVyKEV2ZW50VHlwZS5Nb250aENoYW5nZSwgbGlzdGVuZXIpO1xuICAgICAgICB9O1xuICAgICAgICBPcHRpb25zLnByb3RvdHlwZS5vZmZNb250aENoYW5nZSA9IGZ1bmN0aW9uKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICBpZiAobGlzdGVuZXIgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMub2ZmRXZlbnRMaXN0ZW5lcihFdmVudFR5cGUuTW9udGhDaGFuZ2UsIGxpc3RlbmVyKTtcbiAgICAgICAgfTtcbiAgICAgICAgT3B0aW9ucy5wcm90b3R5cGUuZ2V0SW5pdGlhbE1vbnRoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgcHJpbWFyeVNvdXJjZSA9IHRoaXMuaW5pdGlhbERhdGVQcmlvcml0eSA/IHRoaXMuaW5pdGlhbERhdGUgOiB0aGlzLmluaXRpYWxNb250aDtcbiAgICAgICAgICAgIHZhciBzZWNvbmRhcnlTb3VyY2UgPSB0aGlzLmluaXRpYWxEYXRlUHJpb3JpdHkgPyB0aGlzLmluaXRpYWxNb250aCA6IHRoaXMuaW5pdGlhbERhdGU7XG4gICAgICAgICAgICB2YXIgaW5pdGlhbE1vbnRoID1cbiAgICAgICAgICAgICAgICBwcmltYXJ5U291cmNlICE9PSBudWxsXG4gICAgICAgICAgICAgICAgICAgID8gbmV3IERhdGUocHJpbWFyeVNvdXJjZS5nZXRUaW1lKCkpXG4gICAgICAgICAgICAgICAgICAgIDogc2Vjb25kYXJ5U291cmNlICE9PSBudWxsXG4gICAgICAgICAgICAgICAgICAgID8gbmV3IERhdGUoc2Vjb25kYXJ5U291cmNlLmdldFRpbWUoKSlcbiAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmdldFRvZGF5KCk7XG4gICAgICAgICAgICBpbml0aWFsTW9udGguc2V0RGF0ZSgxKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvcnJlY3RNb250aChpbml0aWFsTW9udGgpO1xuICAgICAgICB9O1xuICAgICAgICBPcHRpb25zLnByb3RvdHlwZS5pc01vbnRoSW5WYWxpZGl0eSA9IGZ1bmN0aW9uKG1vbnRoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jYWxjdWxhdGVNb250aENvcnJlY3Rpb24obW9udGgpID09PSBudWxsO1xuICAgICAgICB9O1xuICAgICAgICBPcHRpb25zLnByb3RvdHlwZS5jb3JyZWN0TW9udGggPSBmdW5jdGlvbihtb250aCkge1xuICAgICAgICAgICAgdmFyIGNvcnJlY3RNb250aCA9IHRoaXMuY2FsY3VsYXRlTW9udGhDb3JyZWN0aW9uKG1vbnRoKTtcbiAgICAgICAgICAgIHJldHVybiBjb3JyZWN0TW9udGggIT09IG51bGwgPyBjb3JyZWN0TW9udGggOiBtb250aDtcbiAgICAgICAgfTtcbiAgICAgICAgT3B0aW9ucy5wcm90b3R5cGUuZ2V0SW5pdGlhbERhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbmRQb3NzaWJsZUF2YWlsYWJsZURhdGUodGhpcy5pbml0aWFsRGF0ZSk7XG4gICAgICAgIH07XG4gICAgICAgIE9wdGlvbnMucHJvdG90eXBlLmZpbmRQb3NzaWJsZUF2YWlsYWJsZURhdGUgPSBmdW5jdGlvbihkYXRlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0FsbG93ZWRFbXB0eSgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGUgIT09IG51bGwgJiYgdGhpcy5pc0RhdGVJblZhbGlkaXR5KGRhdGUpICYmIHRoaXMuaXNEYXRlQXZhaWxhYmxlKGRhdGUpXG4gICAgICAgICAgICAgICAgICAgID8gbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkpXG4gICAgICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRhdGUgPSBkYXRlICE9PSBudWxsID8gbmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkpIDogdGhpcy5nZXRUb2RheSgpO1xuICAgICAgICAgICAgZGF0ZSA9IHRoaXMuZmluZE5lYXJlc3RBdmFpbGFibGVEYXRlKGRhdGUpO1xuICAgICAgICAgICAgaWYgKGRhdGUgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBBdmFpbGFibGVEYXRlTm90Rm91bmRFeGNlcHRpb24oKTtcbiAgICAgICAgfTtcbiAgICAgICAgT3B0aW9ucy5wcm90b3R5cGUuZmluZE5lYXJlc3RBdmFpbGFibGVEYXRlID0gZnVuY3Rpb24oZGF0ZSkge1xuICAgICAgICAgICAgZGF0ZSA9IHRoaXMuY29ycmVjdERhdGUoZGF0ZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0RhdGVBdmFpbGFibGUoZGF0ZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBtYXhMb29wcyA9IDEwMDA7XG4gICAgICAgICAgICB2YXIgaW5jcmVhc2VkRGF0ZSA9IGRhdGU7XG4gICAgICAgICAgICB2YXIgZGVjcmVhc2VkRGF0ZSA9IG5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpKTtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5jcmVhc2VkRGF0ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBpbmNyZWFzZWREYXRlLnNldERhdGUoaW5jcmVhc2VkRGF0ZS5nZXREYXRlKCkgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWF4RGF0ZSAhPT0gbnVsbCAmJiBpbmNyZWFzZWREYXRlLmdldFRpbWUoKSA+IHRoaXMubWF4RGF0ZS5nZXRUaW1lKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY3JlYXNlZERhdGUgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNEYXRlQXZhaWxhYmxlKGluY3JlYXNlZERhdGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5jcmVhc2VkRGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGVjcmVhc2VkRGF0ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBkZWNyZWFzZWREYXRlLnNldERhdGUoZGVjcmVhc2VkRGF0ZS5nZXREYXRlKCkgLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWluRGF0ZSAhPT0gbnVsbCAmJiBkZWNyZWFzZWREYXRlLmdldFRpbWUoKSA8IHRoaXMubWluRGF0ZS5nZXRUaW1lKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlY3JlYXNlZERhdGUgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNEYXRlQXZhaWxhYmxlKGRlY3JlYXNlZERhdGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVjcmVhc2VkRGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBtYXhMb29wcy0tO1xuICAgICAgICAgICAgfSB3aGlsZSAoKGluY3JlYXNlZERhdGUgIT09IG51bGwgfHwgZGVjcmVhc2VkRGF0ZSAhPT0gbnVsbCkgJiYgbWF4TG9vcHMgPiAwKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9O1xuICAgICAgICBPcHRpb25zLnByb3RvdHlwZS5pc0RhdGVJblZhbGlkaXR5ID0gZnVuY3Rpb24oZGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FsY3VsYXRlRGF0ZUNvcnJlY3Rpb24oZGF0ZSkgPT09IG51bGw7XG4gICAgICAgIH07XG4gICAgICAgIE9wdGlvbnMucHJvdG90eXBlLmNvcnJlY3REYXRlID0gZnVuY3Rpb24oZGF0ZSkge1xuICAgICAgICAgICAgdmFyIGNvcnJlY3REYXRlID0gdGhpcy5jYWxjdWxhdGVEYXRlQ29ycmVjdGlvbihkYXRlKTtcbiAgICAgICAgICAgIHJldHVybiBjb3JyZWN0RGF0ZSAhPT0gbnVsbCA/IGNvcnJlY3REYXRlIDogZGF0ZTtcbiAgICAgICAgfTtcbiAgICAgICAgT3B0aW9ucy5wcm90b3R5cGUuZ2V0Rmlyc3REYXlPZldlZWsgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZpcnN0RGF5T2ZXZWVrO1xuICAgICAgICB9O1xuICAgICAgICBPcHRpb25zLnByb3RvdHlwZS5hcmVEYXlzT3V0T2ZNb250aFZpc2libGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRheXNPdXRPZk1vbnRoVmlzaWJsZTtcbiAgICAgICAgfTtcbiAgICAgICAgT3B0aW9ucy5wcm90b3R5cGUuaGFzRml4ZWRSb3dzQ291bnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZpeGVkUm93c0NvdW50O1xuICAgICAgICB9O1xuICAgICAgICBPcHRpb25zLnByb3RvdHlwZS5oYXNUb2dnbGVTZWxlY3Rpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFsbG93RW1wdHkgJiYgdGhpcy50b2dnbGVTZWxlY3Rpb247XG4gICAgICAgIH07XG4gICAgICAgIE9wdGlvbnMucHJvdG90eXBlLmlzQWxsb3dlZEVtcHR5ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hbGxvd0VtcHR5O1xuICAgICAgICB9O1xuICAgICAgICBPcHRpb25zLnByb3RvdHlwZS5pc0Rlc2VsZWN0QnV0dG9uU2hvd24gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFsbG93RW1wdHkgJiYgdGhpcy5zaG93RGVzZWxlY3RCdXR0b247XG4gICAgICAgIH07XG4gICAgICAgIE9wdGlvbnMucHJvdG90eXBlLmlzUmVzZXRCdXR0b25TaG93biA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2hvd1Jlc2V0QnV0dG9uO1xuICAgICAgICB9O1xuICAgICAgICBPcHRpb25zLnByb3RvdHlwZS5pc01vbnRoQXNEcm9wZG93biA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubW9udGhBc0Ryb3Bkb3duO1xuICAgICAgICB9O1xuICAgICAgICBPcHRpb25zLnByb3RvdHlwZS5pc1llYXJBc0Ryb3Bkb3duID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy55ZWFyQXNEcm9wZG93bjtcbiAgICAgICAgfTtcbiAgICAgICAgT3B0aW9ucy5wcm90b3R5cGUuaXNNb250aEFuZFllYXJTZXBhcmF0ZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1vbnRoQW5kWWVhclNlcGFyYXRlZDtcbiAgICAgICAgfTtcbiAgICAgICAgT3B0aW9ucy5wcm90b3R5cGUuZ2V0Q2xhc3Nlc1ByZWZpeCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2xhc3Nlc1ByZWZpeDtcbiAgICAgICAgfTtcbiAgICAgICAgT3B0aW9ucy5wcm90b3R5cGUuaXNDbG9zZUJ1dHRvblNob3duID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5oaWRlT25CbHVyICYmIHRoaXMuc2hvd0Nsb3NlQnV0dG9uO1xuICAgICAgICB9O1xuICAgICAgICBPcHRpb25zLnByb3RvdHlwZS5nZXRUaXRsZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGl0bGU7XG4gICAgICAgIH07XG4gICAgICAgIE9wdGlvbnMucHJvdG90eXBlLmdldE1pbkRhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1pbkRhdGU7XG4gICAgICAgIH07XG4gICAgICAgIE9wdGlvbnMucHJvdG90eXBlLmdldE1heERhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1heERhdGU7XG4gICAgICAgIH07XG4gICAgICAgIE9wdGlvbnMucHJvdG90eXBlLmdldE1pbk1vbnRoID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5taW5Nb250aDtcbiAgICAgICAgfTtcbiAgICAgICAgT3B0aW9ucy5wcm90b3R5cGUuZ2V0TWF4TW9udGggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1heE1vbnRoO1xuICAgICAgICB9O1xuICAgICAgICBPcHRpb25zLnByb3RvdHlwZS5nZXREcm9wZG93bkl0ZW1zTGltaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRyb3Bkb3duSXRlbXNMaW1pdDtcbiAgICAgICAgfTtcbiAgICAgICAgT3B0aW9ucy5wcm90b3R5cGUuaXNEYXRlQXZhaWxhYmxlID0gZnVuY3Rpb24oZGF0ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZGF0ZUF2YWlsYWJpbGl0eVJlc29sdmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICEhdGhpcy5kYXRlQXZhaWxhYmlsaXR5UmVzb2x2ZXIobmV3IERhdGUoZGF0ZS5nZXRUaW1lKCkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9O1xuICAgICAgICBPcHRpb25zLnByb3RvdHlwZS5nZXRDZWxsQ29udGVudCA9IGZ1bmN0aW9uKGRheSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2VsbENvbnRlbnRSZXNvbHZlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNlbGxDb250ZW50UmVzb2x2ZXIoZGF5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkYXkuZGF5TnVtYmVyICsgJyc7XG4gICAgICAgIH07XG4gICAgICAgIE9wdGlvbnMucHJvdG90eXBlLmdldENlbGxTdHJ1Y3R1cmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmNlbGxDb250ZW50U3RydWN0dXJlUmVzb2x2ZXIgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jZWxsQ29udGVudFN0cnVjdHVyZVJlc29sdmVyLmluaXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgfTtcbiAgICAgICAgT3B0aW9ucy5wcm90b3R5cGUudXBkYXRlQ2VsbFN0cnVjdHVyZSA9IGZ1bmN0aW9uKGVsZW1lbnQsIGRheSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2VsbENvbnRlbnRTdHJ1Y3R1cmVSZXNvbHZlciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2VsbENvbnRlbnRTdHJ1Y3R1cmVSZXNvbHZlci51cGRhdGUoZWxlbWVudCwgZGF5KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5pbm5lclRleHQgPSB0aGlzLmdldENlbGxDb250ZW50KGRheSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIE9wdGlvbnMucHJvdG90eXBlLmdldENlbGxDbGFzc2VzID0gZnVuY3Rpb24oZGF5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jZWxsQ2xhc3Nlc1Jlc29sdmVyICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNsYXNzZXMgPSB0aGlzLmNlbGxDbGFzc2VzUmVzb2x2ZXIoZGF5KTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNsYXNzZXMgPT09ICdvYmplY3QnICYmIGNsYXNzZXMuY29uc3RydWN0b3IgPT09IEFycmF5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjbGFzc2VzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfTtcbiAgICAgICAgT3B0aW9ucy5wcm90b3R5cGUuZ2V0R29CYWNrSHRtbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ29CYWNrSHRtbDtcbiAgICAgICAgfTtcbiAgICAgICAgT3B0aW9ucy5wcm90b3R5cGUuZ2V0R29Gb3J3YXJkSHRtbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ29Gb3J3YXJkSHRtbDtcbiAgICAgICAgfTtcbiAgICAgICAgT3B0aW9ucy5wcm90b3R5cGUuZ2V0Q2xvc2VIdG1sID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jbG9zZUh0bWw7XG4gICAgICAgIH07XG4gICAgICAgIE9wdGlvbnMucHJvdG90eXBlLmdldFJlc2V0SHRtbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVzZXRIdG1sO1xuICAgICAgICB9O1xuICAgICAgICBPcHRpb25zLnByb3RvdHlwZS5nZXREZXNlbGVjdEh0bWwgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRlc2VsZWN0SHRtbDtcbiAgICAgICAgfTtcbiAgICAgICAgT3B0aW9ucy5wcm90b3R5cGUuaXNIaWRkZW5PbkJsdXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhpZGVPbkJsdXI7XG4gICAgICAgIH07XG4gICAgICAgIE9wdGlvbnMucHJvdG90eXBlLmlzSGlkZGVuT25TZWxlY3QgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhpZGVPbkJsdXIgJiYgdGhpcy5oaWRlT25TZWxlY3Q7XG4gICAgICAgIH07XG4gICAgICAgIE9wdGlvbnMucHJvdG90eXBlLmdldElucHV0Rm9ybWF0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5pbnB1dEZvcm1hdDtcbiAgICAgICAgfTtcbiAgICAgICAgT3B0aW9ucy5wcm90b3R5cGUuaXNQb3NpdGlvbkZpeGluZ0VuYWJsZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmhpZGVPbkJsdXIgJiYgdGhpcy5wb3NpdGlvbkZpeGluZztcbiAgICAgICAgfTtcbiAgICAgICAgT3B0aW9ucy5wcm90b3R5cGUuZ2V0VG9kYXkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRvZGF5ICE9PSBudWxsXG4gICAgICAgICAgICAgICAgPyBuZXcgRGF0ZSh0aGlzLnRvZGF5LmdldFRpbWUoKSlcbiAgICAgICAgICAgICAgICA6IFRoZURhdGVwaWNrZXIuSGVscGVyLnJlc2V0VGltZShuZXcgRGF0ZSgpKTtcbiAgICAgICAgfTtcbiAgICAgICAgT3B0aW9ucy5wcm90b3R5cGUuY2hlY2tDb25zdHJhaW50cyA9IGZ1bmN0aW9uKG1pbkRhdGUsIG1heERhdGUpIHtcbiAgICAgICAgICAgIGlmIChtaW5EYXRlICE9PSBudWxsICYmIG1heERhdGUgIT09IG51bGwgJiYgbWluRGF0ZS5nZXRUaW1lKCkgPiBtYXhEYXRlLmdldFRpbWUoKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWluIGRhdGUgY2Fubm90IGJlIGhpZ2hlciB0aGVuIG1heCBkYXRlLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBPcHRpb25zLnByb3RvdHlwZS5jYWxjdWxhdGVNb250aENvcnJlY3Rpb24gPSBmdW5jdGlvbihtb250aCkge1xuICAgICAgICAgICAgdmFyIG1pbk1vbnRoID0gdGhpcy5nZXRNaW5Nb250aCgpO1xuICAgICAgICAgICAgaWYgKG1pbk1vbnRoICE9PSBudWxsICYmIG1vbnRoLmdldFRpbWUoKSA8IG1pbk1vbnRoLmdldFRpbWUoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtaW5Nb250aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBtYXhNb250aCA9IHRoaXMuZ2V0TWF4TW9udGgoKTtcbiAgICAgICAgICAgIGlmIChtYXhNb250aCAhPT0gbnVsbCAmJiBtb250aC5nZXRUaW1lKCkgPiBtYXhNb250aC5nZXRUaW1lKCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWF4TW9udGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfTtcbiAgICAgICAgT3B0aW9ucy5wcm90b3R5cGUuY2FsY3VsYXRlRGF0ZUNvcnJlY3Rpb24gPSBmdW5jdGlvbihkYXRlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5taW5EYXRlICE9PSBudWxsICYmIGRhdGUuZ2V0VGltZSgpIDwgdGhpcy5taW5EYXRlLmdldFRpbWUoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZSh0aGlzLm1pbkRhdGUuZ2V0VGltZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLm1heERhdGUgIT09IG51bGwgJiYgZGF0ZS5nZXRUaW1lKCkgPiB0aGlzLm1heERhdGUuZ2V0VGltZSgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHRoaXMubWF4RGF0ZS5nZXRUaW1lKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH07XG4gICAgICAgIE9wdGlvbnMucHJvdG90eXBlLm9uRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50VHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgICAgICAgIHRoaXMubGlzdGVuZXJzW2V2ZW50VHlwZV0ucHVzaChcbiAgICAgICAgICAgICAgICBUaGVEYXRlcGlja2VyLkhlbHBlci5jaGVja0Z1bmN0aW9uKCdFdmVudCBsaXN0ZW5lcicsIGxpc3RlbmVyLCBmYWxzZSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH07XG4gICAgICAgIE9wdGlvbnMucHJvdG90eXBlLm9mZkV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbihldmVudFR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICAgICAgICBsaXN0ZW5lciA9IFRoZURhdGVwaWNrZXIuSGVscGVyLmNoZWNrRnVuY3Rpb24oJ0V2ZW50IGxpc3RlbmVyJywgbGlzdGVuZXIpO1xuICAgICAgICAgICAgaWYgKGxpc3RlbmVyID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5saXN0ZW5lcnNbZXZlbnRUeXBlXSA9IFtdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgbmV3TGlzdGVuZXJzID0gW107XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMubGlzdGVuZXJzW2V2ZW50VHlwZV0ubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmxpc3RlbmVyc1tldmVudFR5cGVdW2luZGV4XSAhPT0gbGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0xpc3RlbmVycy5wdXNoKHRoaXMubGlzdGVuZXJzW2V2ZW50VHlwZV1baW5kZXhdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmxpc3RlbmVyc1tldmVudFR5cGVdID0gbmV3TGlzdGVuZXJzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBPcHRpb25zLnByb3RvdHlwZS50cmlnZ2VyRXZlbnQgPSBmdW5jdGlvbihldmVudFR5cGUsIGNhbGxlcikge1xuICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMubGlzdGVuZXJzW2V2ZW50VHlwZV0ubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNhbGxlcih0aGlzLmxpc3RlbmVyc1tldmVudFR5cGVdW2luZGV4XSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIE9wdGlvbnM7XG4gICAgfSkoKTtcbiAgICBUaGVEYXRlcGlja2VyLk9wdGlvbnMgPSBPcHRpb25zO1xufSkoVGhlRGF0ZXBpY2tlciB8fCAoVGhlRGF0ZXBpY2tlciA9IHt9KSk7XG52YXIgVGhlRGF0ZXBpY2tlcjtcbihmdW5jdGlvbihUaGVEYXRlcGlja2VyKSB7XG4gICAgdmFyIE1vdmVEaXJlY3Rpb247XG4gICAgKGZ1bmN0aW9uKE1vdmVEaXJlY3Rpb24pIHtcbiAgICAgICAgTW92ZURpcmVjdGlvblsoTW92ZURpcmVjdGlvblsnTGVmdCddID0gLTEpXSA9ICdMZWZ0JztcbiAgICAgICAgTW92ZURpcmVjdGlvblsoTW92ZURpcmVjdGlvblsnVXAnXSA9IC03KV0gPSAnVXAnO1xuICAgICAgICBNb3ZlRGlyZWN0aW9uWyhNb3ZlRGlyZWN0aW9uWydSaWdodCddID0gMSldID0gJ1JpZ2h0JztcbiAgICAgICAgTW92ZURpcmVjdGlvblsoTW92ZURpcmVjdGlvblsnRG93biddID0gNyldID0gJ0Rvd24nO1xuICAgIH0pKChNb3ZlRGlyZWN0aW9uID0gVGhlRGF0ZXBpY2tlci5Nb3ZlRGlyZWN0aW9uIHx8IChUaGVEYXRlcGlja2VyLk1vdmVEaXJlY3Rpb24gPSB7fSkpKTtcbiAgICB2YXIgVmlld01vZGVsID0gKGZ1bmN0aW9uKCkge1xuICAgICAgICBmdW5jdGlvbiBWaWV3TW9kZWwob3B0aW9ucywgZGF0ZXBpY2tlcikge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgICAgIHRoaXMuZGF0ZXBpY2tlciA9IGRhdGVwaWNrZXI7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkRGF0ZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRNb250aCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmhpZ2hsaWdodGVkRGF5ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuaXNIaWdobGlnaHRlZERheUZvY3VzZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnRlbXBsYXRlID0gbmV3IFRoZURhdGVwaWNrZXIuVGVtcGxhdGUoXG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLFxuICAgICAgICAgICAgICAgIG5ldyBUaGVEYXRlcGlja2VyLkh0bWxIZWxwZXIodGhpcy5vcHRpb25zKSxcbiAgICAgICAgICAgICAgICBkYXRlcGlja2VyLmNvbnRhaW5lcixcbiAgICAgICAgICAgICAgICBkYXRlcGlja2VyLmlucHV0ICE9PSBudWxsXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIFZpZXdNb2RlbC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RQb3NzaWJsZURhdGUoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjb3JyZWN0TW9udGggPSB0aGlzLm9wdGlvbnMuY29ycmVjdE1vbnRoKHRoaXMuZ2V0Q3VycmVudE1vbnRoKCkpO1xuICAgICAgICAgICAgaWYgKHRoaXMuZ29Ub01vbnRoKG51bGwsIGNvcnJlY3RNb250aCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnRlbXBsYXRlLnJlbmRlcih0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuZGF0ZXBpY2tlci51cGRhdGVJbnB1dCgpO1xuICAgICAgICB9O1xuICAgICAgICBWaWV3TW9kZWwucHJvdG90eXBlLnNldEFjdGl2ZSA9IGZ1bmN0aW9uKGV2ZW50LCB2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLnRyaWdnZXJPbkJlZm9yZU9wZW5BbmRDbG9zZShldmVudCwgdmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5hY3RpdmUgPSB2YWx1ZTtcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuaXNIaWRkZW5PbkJsdXIoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJPbk9wZW5BbmRDbG9zZShldmVudCwgdmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH07XG4gICAgICAgIFZpZXdNb2RlbC5wcm90b3R5cGUuaXNBY3RpdmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFjdGl2ZTtcbiAgICAgICAgfTtcbiAgICAgICAgVmlld01vZGVsLnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRlcGlja2VyLmNsb3NlKGV2ZW50KTtcbiAgICAgICAgfTtcbiAgICAgICAgVmlld01vZGVsLnByb3RvdHlwZS5nZXRDdXJyZW50TW9udGggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRNb250aCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudE1vbnRoID0gdGhpcy5vcHRpb25zLmdldEluaXRpYWxNb250aCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudE1vbnRoO1xuICAgICAgICB9O1xuICAgICAgICBWaWV3TW9kZWwucHJvdG90eXBlLmNhbkdvQmFjayA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIG5ld01vbnRoID0gbmV3IERhdGUodGhpcy5nZXRDdXJyZW50TW9udGgoKS5nZXRUaW1lKCkpO1xuICAgICAgICAgICAgbmV3TW9udGguc2V0TW9udGgobmV3TW9udGguZ2V0TW9udGgoKSAtIDEpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FuR29Ub01vbnRoKG5ld01vbnRoKTtcbiAgICAgICAgfTtcbiAgICAgICAgVmlld01vZGVsLnByb3RvdHlwZS5jYW5Hb0ZvcndhcmQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBuZXdNb250aCA9IG5ldyBEYXRlKHRoaXMuZ2V0Q3VycmVudE1vbnRoKCkuZ2V0VGltZSgpKTtcbiAgICAgICAgICAgIG5ld01vbnRoLnNldE1vbnRoKG5ld01vbnRoLmdldE1vbnRoKCkgKyAxKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNhbkdvVG9Nb250aChuZXdNb250aCk7XG4gICAgICAgIH07XG4gICAgICAgIFZpZXdNb2RlbC5wcm90b3R5cGUuY2FuR29Ub01vbnRoID0gZnVuY3Rpb24obW9udGgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuaXNNb250aEluVmFsaWRpdHkobW9udGgpO1xuICAgICAgICB9O1xuICAgICAgICBWaWV3TW9kZWwucHJvdG90eXBlLmdvQmFjayA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgbmV3TW9udGggPSBuZXcgRGF0ZSh0aGlzLmdldEN1cnJlbnRNb250aCgpLmdldFRpbWUoKSk7XG4gICAgICAgICAgICBuZXdNb250aC5zZXRNb250aChuZXdNb250aC5nZXRNb250aCgpIC0gMSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nb1RvTW9udGgoZXZlbnQsIG5ld01vbnRoKTtcbiAgICAgICAgfTtcbiAgICAgICAgVmlld01vZGVsLnByb3RvdHlwZS5nb0ZvcndhcmQgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgdmFyIG5ld01vbnRoID0gbmV3IERhdGUodGhpcy5nZXRDdXJyZW50TW9udGgoKS5nZXRUaW1lKCkpO1xuICAgICAgICAgICAgbmV3TW9udGguc2V0TW9udGgobmV3TW9udGguZ2V0TW9udGgoKSArIDEpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ29Ub01vbnRoKGV2ZW50LCBuZXdNb250aCk7XG4gICAgICAgIH07XG4gICAgICAgIFZpZXdNb2RlbC5wcm90b3R5cGUuZ29Ub01vbnRoID0gZnVuY3Rpb24oZXZlbnQsIG1vbnRoLCBkb0NhbmNlbEhpZ2hsaWdodCkge1xuICAgICAgICAgICAgaWYgKGRvQ2FuY2VsSGlnaGxpZ2h0ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICBkb0NhbmNlbEhpZ2hsaWdodCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtb250aCA9IFRoZURhdGVwaWNrZXIuSGVscGVyLnJlc2V0VGltZShuZXcgRGF0ZShtb250aC5nZXRUaW1lKCkpKTtcbiAgICAgICAgICAgIG1vbnRoLnNldERhdGUoMSk7XG4gICAgICAgICAgICBpZiAobW9udGguZ2V0VGltZSgpID09PSB0aGlzLmdldEN1cnJlbnRNb250aCgpLmdldFRpbWUoKSB8fCAhdGhpcy5jYW5Hb1RvTW9udGgobW9udGgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLnRyaWdnZXJPbkJlZm9yZU1vbnRoQ2hhbmdlKGV2ZW50LCBtb250aCwgdGhpcy5jdXJyZW50TW9udGgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jdXJyZW50TW9udGggPSBtb250aDtcbiAgICAgICAgICAgIGlmICghZG9DYW5jZWxIaWdobGlnaHQgfHwgIXRoaXMuY2FuY2VsSGlnaGxpZ2h0KCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50cmlnZ2VyT25Nb250aENoYW5nZShldmVudCwgbW9udGgsIHRoaXMuY3VycmVudE1vbnRoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9O1xuICAgICAgICBWaWV3TW9kZWwucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBpc01vbnRoQ2hhbmdlZCA9IHRoaXMuZ29Ub01vbnRoKGV2ZW50LCB0aGlzLm9wdGlvbnMuZ2V0SW5pdGlhbE1vbnRoKCkpO1xuICAgICAgICAgICAgdmFyIGlzRGF5U2VsZWN0ZWQgPSB0aGlzLnNlbGVjdEluaXRpYWxEYXRlKGV2ZW50KTtcbiAgICAgICAgICAgIHJldHVybiBpc01vbnRoQ2hhbmdlZCB8fCBpc0RheVNlbGVjdGVkO1xuICAgICAgICB9O1xuICAgICAgICBWaWV3TW9kZWwucHJvdG90eXBlLnNlbGVjdERheSA9IGZ1bmN0aW9uKFxuICAgICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgICBkYXRlLFxuICAgICAgICAgICAgZG9VcGRhdGVNb250aCxcbiAgICAgICAgICAgIGRvSGlnaGxpZ2h0LFxuICAgICAgICAgICAgY2FuVG9nZ2xlXG4gICAgICAgICkge1xuICAgICAgICAgICAgaWYgKGRvVXBkYXRlTW9udGggPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIGRvVXBkYXRlTW9udGggPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRvSGlnaGxpZ2h0ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICBkb0hpZ2hsaWdodCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNhblRvZ2dsZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgY2FuVG9nZ2xlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNhbmNlbFNlbGVjdGlvbihldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZGF5O1xuICAgICAgICAgICAgaWYgKGRhdGUgaW5zdGFuY2VvZiBUaGVEYXRlcGlja2VyLkRheSkge1xuICAgICAgICAgICAgICAgIGRheSA9IGRhdGU7XG4gICAgICAgICAgICAgICAgZGF0ZSA9IGRheS5nZXREYXRlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRheSA9IHRoaXMuY3JlYXRlRGF5KGRhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFkYXkuaXNBdmFpbGFibGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF5LmlzRXF1YWxUb0RhdGUodGhpcy5zZWxlY3RlZERhdGUpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNhblRvZ2dsZSAmJiB0aGlzLm9wdGlvbnMuaGFzVG9nZ2xlU2VsZWN0aW9uKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FuY2VsU2VsZWN0aW9uKGV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHByZXZpb3VzRGF5ID0gdGhpcy5zZWxlY3RlZERhdGUgIT09IG51bGwgPyB0aGlzLmNyZWF0ZURheSh0aGlzLnNlbGVjdGVkRGF0ZSkgOiBudWxsO1xuICAgICAgICAgICAgaWYgKCF0aGlzLnRyaWdnZXJPbkJlZm9yZVNlbGVjdChldmVudCwgZGF5LCBwcmV2aW91c0RheSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkRGF0ZSA9IGRheS5nZXREYXRlKCk7XG4gICAgICAgICAgICBpZiAoZG9IaWdobGlnaHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmhpZ2hsaWdodGVkRGF5ID0gZGF5O1xuICAgICAgICAgICAgICAgIHRoaXMuaXNIaWdobGlnaHRlZERheUZvY3VzZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFkb1VwZGF0ZU1vbnRoIHx8ICF0aGlzLmdvVG9Nb250aChldmVudCwgZGF0ZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbmRlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50cmlnZ2VyT25TZWxlY3QoZXZlbnQsIGRheSwgcHJldmlvdXNEYXkpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH07XG4gICAgICAgIFZpZXdNb2RlbC5wcm90b3R5cGUuc2VsZWN0TmVhcmVzdERhdGUgPSBmdW5jdGlvbihldmVudCwgZGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0RGF5KGV2ZW50LCB0aGlzLm9wdGlvbnMuZmluZE5lYXJlc3RBdmFpbGFibGVEYXRlKGRhdGUpKTtcbiAgICAgICAgfTtcbiAgICAgICAgVmlld01vZGVsLnByb3RvdHlwZS5zZWxlY3RQb3NzaWJsZURhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0RGF5KFxuICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuZmluZFBvc3NpYmxlQXZhaWxhYmxlRGF0ZSh0aGlzLnNlbGVjdGVkRGF0ZSksXG4gICAgICAgICAgICAgICAgICAgIGZhbHNlXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKCEoZXJyb3IgaW5zdGFuY2VvZiBUaGVEYXRlcGlja2VyLkF2YWlsYWJsZURhdGVOb3RGb3VuZEV4Y2VwdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNhbmNlbFNlbGVjdGlvbihudWxsLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgVmlld01vZGVsLnByb3RvdHlwZS5zZWxlY3RJbml0aWFsRGF0ZSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbGVjdERheShldmVudCwgdGhpcy5vcHRpb25zLmdldEluaXRpYWxEYXRlKCksIGZhbHNlKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKCEoZXJyb3IgaW5zdGFuY2VvZiBUaGVEYXRlcGlja2VyLkF2YWlsYWJsZURhdGVOb3RGb3VuZEV4Y2VwdGlvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNhbmNlbFNlbGVjdGlvbihudWxsLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgVmlld01vZGVsLnByb3RvdHlwZS5oaWdobGlnaHREYXkgPSBmdW5jdGlvbihldmVudCwgZGF5LCBkb1VwZGF0ZU1vbnRoKSB7XG4gICAgICAgICAgICBpZiAoZG9VcGRhdGVNb250aCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgZG9VcGRhdGVNb250aCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFkYXkuaXNBdmFpbGFibGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF5LmlzRXF1YWxUb0RheSh0aGlzLmhpZ2hsaWdodGVkRGF5KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuaGlnaGxpZ2h0ZWREYXkgPSBkYXk7XG4gICAgICAgICAgICB0aGlzLmlzSGlnaGxpZ2h0ZWREYXlGb2N1c2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBkYXRlID0gZGF5LmdldERhdGUoKTtcbiAgICAgICAgICAgIGlmICghZG9VcGRhdGVNb250aCB8fCAhdGhpcy5nb1RvTW9udGgoZXZlbnQsIGRhdGUsIGZhbHNlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgVmlld01vZGVsLnByb3RvdHlwZS5oaWdobGlnaHRGaXJzdEF2YWlsYWJsZURheSA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKHRoaXMuZ2V0Q3VycmVudE1vbnRoKCkuZ2V0VGltZSgpKTtcbiAgICAgICAgICAgIHZhciBtYXhEYXRlID0gdGhpcy5vcHRpb25zLmdldE1heERhdGUoKTtcbiAgICAgICAgICAgIHZhciBkYXkgPSB0aGlzLmNyZWF0ZURheShkYXRlKTtcbiAgICAgICAgICAgIHdoaWxlICghZGF5LmlzQXZhaWxhYmxlKSB7XG4gICAgICAgICAgICAgICAgZGF0ZS5zZXREYXRlKGRheS5kYXlOdW1iZXIgKyAxKTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0ZS5nZXREYXRlKCkgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChtYXhEYXRlICE9PSBudWxsICYmIGRhdGUuZ2V0VGltZSgpID4gbWF4RGF0ZS5nZXRUaW1lKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRheSA9IHRoaXMuY3JlYXRlRGF5KGRhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaGlnaGxpZ2h0RGF5KGV2ZW50LCBkYXkpO1xuICAgICAgICB9O1xuICAgICAgICBWaWV3TW9kZWwucHJvdG90eXBlLmhpZ2hsaWdodFNpYmxpbmdEYXkgPSBmdW5jdGlvbihldmVudCwgZGF5LCBkaXJlY3Rpb24pIHtcbiAgICAgICAgICAgIHZhciBuZXdEYXkgPSBkYXk7XG4gICAgICAgICAgICB2YXIgZGF0ZSA9IG5ld0RheS5nZXREYXRlKCk7XG4gICAgICAgICAgICB2YXIgbWF4TG9vcHMgPSAxMDAwO1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIGRhdGUuc2V0RGF0ZShuZXdEYXkuZGF5TnVtYmVyICsgZGlyZWN0aW9uKTtcbiAgICAgICAgICAgICAgICBuZXdEYXkgPSB0aGlzLmNyZWF0ZURheShkYXRlKTtcbiAgICAgICAgICAgICAgICBpZiAoIW5ld0RheS5pc0luVmFsaWRpdHkpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1heExvb3BzLS07XG4gICAgICAgICAgICB9IHdoaWxlICghbmV3RGF5LmlzQXZhaWxhYmxlICYmIG1heExvb3BzID4gMCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5oaWdobGlnaHREYXkoZXZlbnQsIG5ld0RheSwgdHJ1ZSk7XG4gICAgICAgIH07XG4gICAgICAgIFZpZXdNb2RlbC5wcm90b3R5cGUuY2FuY2VsU2VsZWN0aW9uID0gZnVuY3Rpb24oZXZlbnQsIGZvcmNlKSB7XG4gICAgICAgICAgICBpZiAoZm9yY2UgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIGZvcmNlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5pc0FsbG93ZWRFbXB0eSgpICYmICFmb3JjZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkRGF0ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBwcmV2aW91c0RheSA9IHRoaXMuY3JlYXRlRGF5KHRoaXMuc2VsZWN0ZWREYXRlKTtcbiAgICAgICAgICAgIGlmICghdGhpcy50cmlnZ2VyT25CZWZvcmVTZWxlY3QoZXZlbnQsIG51bGwsIHByZXZpb3VzRGF5KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWREYXRlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyKCk7XG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJPblNlbGVjdChldmVudCwgbnVsbCwgcHJldmlvdXNEYXkpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH07XG4gICAgICAgIFZpZXdNb2RlbC5wcm90b3R5cGUuY2FuY2VsSGlnaGxpZ2h0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5oaWdobGlnaHRlZERheSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuaGlnaGxpZ2h0ZWREYXkgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXIoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9O1xuICAgICAgICBWaWV3TW9kZWwucHJvdG90eXBlLmdldFdlZWtEYXlzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgd2Vla0RheXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGRheSA9IDA7IGRheSA8IDc7IGRheSsrKSB7XG4gICAgICAgICAgICAgICAgd2Vla0RheXMucHVzaCgodGhpcy5vcHRpb25zLmdldEZpcnN0RGF5T2ZXZWVrKCkgKyBkYXkpICUgNyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gd2Vla0RheXM7XG4gICAgICAgIH07XG4gICAgICAgIFZpZXdNb2RlbC5wcm90b3R5cGUuZ2V0V2Vla3MgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBkYXRlO1xuICAgICAgICAgICAgdmFyIGRheXMgPSBbXTtcbiAgICAgICAgICAgIHZhciBjdXJyZW50TW9udGggPSB0aGlzLmdldEN1cnJlbnRNb250aCgpO1xuICAgICAgICAgICAgdmFyIGZpcnN0RGF0ZU9mTW9udGggPSBuZXcgRGF0ZShjdXJyZW50TW9udGguZ2V0RnVsbFllYXIoKSwgY3VycmVudE1vbnRoLmdldE1vbnRoKCksIDEpO1xuICAgICAgICAgICAgdmFyIGxhc3RNb250aERheXNDb3VudCA9IG5ldyBEYXRlKFxuICAgICAgICAgICAgICAgIGN1cnJlbnRNb250aC5nZXRGdWxsWWVhcigpLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRNb250aC5nZXRNb250aCgpLFxuICAgICAgICAgICAgICAgIDBcbiAgICAgICAgICAgICkuZ2V0RGF0ZSgpO1xuICAgICAgICAgICAgdmFyIHByZXBlbmREYXlzQ291bnQgPVxuICAgICAgICAgICAgICAgIChmaXJzdERhdGVPZk1vbnRoLmdldERheSgpIC0gdGhpcy5vcHRpb25zLmdldEZpcnN0RGF5T2ZXZWVrKCkgKyA3KSAlIDc7XG4gICAgICAgICAgICBmb3IgKFxuICAgICAgICAgICAgICAgIGRhdGUgPSBsYXN0TW9udGhEYXlzQ291bnQgLSBwcmVwZW5kRGF5c0NvdW50ICsgMTtcbiAgICAgICAgICAgICAgICBkYXRlIDw9IGxhc3RNb250aERheXNDb3VudDtcbiAgICAgICAgICAgICAgICBkYXRlKytcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHZhciBkYXkgPSB0aGlzLmNyZWF0ZURheShcbiAgICAgICAgICAgICAgICAgICAgbmV3IERhdGUoY3VycmVudE1vbnRoLmdldEZ1bGxZZWFyKCksIGN1cnJlbnRNb250aC5nZXRNb250aCgpIC0gMSwgZGF0ZSlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGRheS5pc1Zpc2libGUgPSB0aGlzLm9wdGlvbnMuYXJlRGF5c091dE9mTW9udGhWaXNpYmxlKCk7XG4gICAgICAgICAgICAgICAgZGF5LmlzSW5DdXJyZW50TW9udGggPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBkYXlzLnB1c2goZGF5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBsYXN0RGF0ZU9mTW9udGggPSBuZXcgRGF0ZShcbiAgICAgICAgICAgICAgICBjdXJyZW50TW9udGguZ2V0RnVsbFllYXIoKSxcbiAgICAgICAgICAgICAgICBjdXJyZW50TW9udGguZ2V0TW9udGgoKSArIDEsXG4gICAgICAgICAgICAgICAgMFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHZhciBtb250aERheXNDb3VudCA9IGxhc3REYXRlT2ZNb250aC5nZXREYXRlKCk7XG4gICAgICAgICAgICBmb3IgKGRhdGUgPSAxOyBkYXRlIDw9IG1vbnRoRGF5c0NvdW50OyBkYXRlKyspIHtcbiAgICAgICAgICAgICAgICBkYXlzLnB1c2goXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlRGF5KFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IERhdGUoY3VycmVudE1vbnRoLmdldEZ1bGxZZWFyKCksIGN1cnJlbnRNb250aC5nZXRNb250aCgpLCBkYXRlKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBhcHBlbmREYXlzQ291bnQgPVxuICAgICAgICAgICAgICAgIDYgLSAoKGxhc3REYXRlT2ZNb250aC5nZXREYXkoKSAtIHRoaXMub3B0aW9ucy5nZXRGaXJzdERheU9mV2VlaygpICsgNykgJSA3KTtcbiAgICAgICAgICAgIGZvciAoZGF0ZSA9IDE7IGRhdGUgPD0gYXBwZW5kRGF5c0NvdW50OyBkYXRlKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF5ID0gdGhpcy5jcmVhdGVEYXkoXG4gICAgICAgICAgICAgICAgICAgIG5ldyBEYXRlKGN1cnJlbnRNb250aC5nZXRGdWxsWWVhcigpLCBjdXJyZW50TW9udGguZ2V0TW9udGgoKSArIDEsIGRhdGUpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBkYXkuaXNWaXNpYmxlID0gdGhpcy5vcHRpb25zLmFyZURheXNPdXRPZk1vbnRoVmlzaWJsZSgpO1xuICAgICAgICAgICAgICAgIGRheS5pc0luQ3VycmVudE1vbnRoID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZGF5cy5wdXNoKGRheSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmhhc0ZpeGVkUm93c0NvdW50KCkpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBkYXRlXzQgPSBhcHBlbmREYXlzQ291bnQgKyAxOyBkYXlzLmxlbmd0aCA8IDYgKiA3OyBkYXRlXzQrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGF5ID0gdGhpcy5jcmVhdGVEYXkoXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXcgRGF0ZShjdXJyZW50TW9udGguZ2V0RnVsbFllYXIoKSwgY3VycmVudE1vbnRoLmdldE1vbnRoKCkgKyAxLCBkYXRlXzQpXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGRheS5pc1Zpc2libGUgPSB0aGlzLm9wdGlvbnMuYXJlRGF5c091dE9mTW9udGhWaXNpYmxlKCk7XG4gICAgICAgICAgICAgICAgICAgIGRheS5pc0luQ3VycmVudE1vbnRoID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGRheXMucHVzaChkYXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB3ZWVrcyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXlzLmxlbmd0aDsgaSArPSA3KSB7XG4gICAgICAgICAgICAgICAgd2Vla3MucHVzaChkYXlzLnNsaWNlKGksIGkgKyA3KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gd2Vla3M7XG4gICAgICAgIH07XG4gICAgICAgIFZpZXdNb2RlbC5wcm90b3R5cGUudHJpZ2dlcktleVByZXNzID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICBUaGVEYXRlcGlja2VyLkhlbHBlci5pbkFycmF5KFxuICAgICAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgICAgICBUaGVEYXRlcGlja2VyLktleUNvZGUuTGVmdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFRoZURhdGVwaWNrZXIuS2V5Q29kZS5VcCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFRoZURhdGVwaWNrZXIuS2V5Q29kZS5SaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFRoZURhdGVwaWNrZXIuS2V5Q29kZS5Eb3duLFxuICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICBldmVudC5rZXlDb2RlXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgVGhlRGF0ZXBpY2tlci5IZWxwZXIucHJldmVudERlZmF1bHQoZXZlbnQpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmhpZ2hsaWdodGVkRGF5ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGlnaGxpZ2h0U2libGluZ0RheShcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oaWdobGlnaHRlZERheSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNsYXRlS2V5Q29kZVRvTW92ZURpcmVjdGlvbihldmVudC5rZXlDb2RlKVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWREYXRlICE9PSBudWxsICYmXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWREYXRlLmdldEZ1bGxZZWFyKCkgPT09IHRoaXMuZ2V0Q3VycmVudE1vbnRoKCkuZ2V0RnVsbFllYXIoKSAmJlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkRGF0ZS5nZXRNb250aCgpID09PSB0aGlzLmdldEN1cnJlbnRNb250aCgpLmdldE1vbnRoKClcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oaWdobGlnaHRTaWJsaW5nRGF5KFxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZURheSh0aGlzLnNlbGVjdGVkRGF0ZSksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zbGF0ZUtleUNvZGVUb01vdmVEaXJlY3Rpb24oZXZlbnQua2V5Q29kZSlcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZ2hsaWdodEZpcnN0QXZhaWxhYmxlRGF5KGV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIFZpZXdNb2RlbC5wcm90b3R5cGUudHJpZ2dlck9uQmVmb3JlU2VsZWN0ID0gZnVuY3Rpb24oZXZlbnQsIGRheSwgcHJldmlvdXNEYXkpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLnRyaWdnZXJFdmVudChUaGVEYXRlcGlja2VyLkV2ZW50VHlwZS5CZWZvcmVTZWxlY3QsIGZ1bmN0aW9uKFxuICAgICAgICAgICAgICAgIGxpc3RlbmVyXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbGlzdGVuZXIuY2FsbChfdGhpcy5kYXRlcGlja2VyLCBldmVudCwgZGF5LCBwcmV2aW91c0RheSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgVmlld01vZGVsLnByb3RvdHlwZS50cmlnZ2VyT25TZWxlY3QgPSBmdW5jdGlvbihldmVudCwgZGF5LCBwcmV2aW91c0RheSkge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucy50cmlnZ2VyRXZlbnQoVGhlRGF0ZXBpY2tlci5FdmVudFR5cGUuU2VsZWN0LCBmdW5jdGlvbihsaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBsaXN0ZW5lci5jYWxsKF90aGlzLmRhdGVwaWNrZXIsIGV2ZW50LCBkYXksIHByZXZpb3VzRGF5KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBWaWV3TW9kZWwucHJvdG90eXBlLnRyaWdnZXJPbkJlZm9yZU9wZW5BbmRDbG9zZSA9IGZ1bmN0aW9uKGV2ZW50LCBpc09wZW5pbmcpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLnRyaWdnZXJFdmVudChUaGVEYXRlcGlja2VyLkV2ZW50VHlwZS5CZWZvcmVPcGVuQW5kQ2xvc2UsIGZ1bmN0aW9uKFxuICAgICAgICAgICAgICAgIGxpc3RlbmVyXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbGlzdGVuZXIuY2FsbChfdGhpcy5kYXRlcGlja2VyLCBldmVudCwgaXNPcGVuaW5nKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBWaWV3TW9kZWwucHJvdG90eXBlLnRyaWdnZXJPbk9wZW5BbmRDbG9zZSA9IGZ1bmN0aW9uKGV2ZW50LCBpc09wZW5pbmcpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMudHJpZ2dlckV2ZW50KFRoZURhdGVwaWNrZXIuRXZlbnRUeXBlLk9wZW5BbmRDbG9zZSwgZnVuY3Rpb24obGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbGlzdGVuZXIuY2FsbChfdGhpcy5kYXRlcGlja2VyLCBldmVudCwgaXNPcGVuaW5nKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBWaWV3TW9kZWwucHJvdG90eXBlLnRyaWdnZXJPbkJlZm9yZU1vbnRoQ2hhbmdlID0gZnVuY3Rpb24oZXZlbnQsIG1vbnRoLCBwcmV2aW91c01vbnRoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy50cmlnZ2VyRXZlbnQoVGhlRGF0ZXBpY2tlci5FdmVudFR5cGUuQmVmb3JlTW9udGhDaGFuZ2UsIGZ1bmN0aW9uKFxuICAgICAgICAgICAgICAgIGxpc3RlbmVyXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbGlzdGVuZXIuY2FsbChfdGhpcy5kYXRlcGlja2VyLCBldmVudCwgbW9udGgsIHByZXZpb3VzTW9udGgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIFZpZXdNb2RlbC5wcm90b3R5cGUudHJpZ2dlck9uTW9udGhDaGFuZ2UgPSBmdW5jdGlvbihldmVudCwgbW9udGgsIHByZXZpb3VzTW9udGgpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMudHJpZ2dlckV2ZW50KFRoZURhdGVwaWNrZXIuRXZlbnRUeXBlLk1vbnRoQ2hhbmdlLCBmdW5jdGlvbihsaXN0ZW5lcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBsaXN0ZW5lci5jYWxsKF90aGlzLmRhdGVwaWNrZXIsIGV2ZW50LCBtb250aCwgcHJldmlvdXNNb250aCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgVmlld01vZGVsLnByb3RvdHlwZS5jcmVhdGVEYXkgPSBmdW5jdGlvbihkYXRlKSB7XG4gICAgICAgICAgICBkYXRlID0gVGhlRGF0ZXBpY2tlci5IZWxwZXIucmVzZXRUaW1lKG5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpKSk7XG4gICAgICAgICAgICB2YXIgdG9kYXkgPSB0aGlzLm9wdGlvbnMuZ2V0VG9kYXkoKTtcbiAgICAgICAgICAgIHZhciBkYXkgPSBuZXcgVGhlRGF0ZXBpY2tlci5EYXkoZGF0ZSk7XG4gICAgICAgICAgICBkYXkuaXNUb2RheSA9IGRhdGUuZ2V0VGltZSgpID09PSB0b2RheS5nZXRUaW1lKCk7XG4gICAgICAgICAgICBkYXkuaXNQYXN0ID0gZGF0ZS5nZXRUaW1lKCkgPCB0b2RheS5nZXRUaW1lKCk7XG4gICAgICAgICAgICBkYXkuaXNJblZhbGlkaXR5ID0gdGhpcy5vcHRpb25zLmlzRGF0ZUluVmFsaWRpdHkoZGF0ZSk7XG4gICAgICAgICAgICBkYXkuaXNBdmFpbGFibGUgPSBkYXkuaXNJblZhbGlkaXR5ICYmIHRoaXMub3B0aW9ucy5pc0RhdGVBdmFpbGFibGUoZGF0ZSk7XG4gICAgICAgICAgICBpZiAoZGF5LmlzQXZhaWxhYmxlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRheS5pc0VxdWFsVG9EYXRlKHRoaXMuc2VsZWN0ZWREYXRlKSkge1xuICAgICAgICAgICAgICAgICAgICBkYXkuaXNTZWxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkYXkuaXNFcXVhbFRvRGF5KHRoaXMuaGlnaGxpZ2h0ZWREYXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRheS5pc0hpZ2hsaWdodGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNIaWdobGlnaHRlZERheUZvY3VzZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRheS5pc0ZvY3VzZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0hpZ2hsaWdodGVkRGF5Rm9jdXNlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRheTtcbiAgICAgICAgfTtcbiAgICAgICAgVmlld01vZGVsLnByb3RvdHlwZS50cmFuc2xhdGVLZXlDb2RlVG9Nb3ZlRGlyZWN0aW9uID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAgICAgICAgIGNhc2UgVGhlRGF0ZXBpY2tlci5LZXlDb2RlLkxlZnQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNb3ZlRGlyZWN0aW9uLkxlZnQ7XG4gICAgICAgICAgICAgICAgY2FzZSBUaGVEYXRlcGlja2VyLktleUNvZGUuVXA6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNb3ZlRGlyZWN0aW9uLlVwO1xuICAgICAgICAgICAgICAgIGNhc2UgVGhlRGF0ZXBpY2tlci5LZXlDb2RlLlJpZ2h0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTW92ZURpcmVjdGlvbi5SaWdodDtcbiAgICAgICAgICAgICAgICBjYXNlIFRoZURhdGVwaWNrZXIuS2V5Q29kZS5Eb3duOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTW92ZURpcmVjdGlvbi5Eb3duO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBrZXkgY29kZTogJyArIGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBWaWV3TW9kZWw7XG4gICAgfSkoKTtcbiAgICBUaGVEYXRlcGlja2VyLlZpZXdNb2RlbCA9IFZpZXdNb2RlbDtcbn0pKFRoZURhdGVwaWNrZXIgfHwgKFRoZURhdGVwaWNrZXIgPSB7fSkpO1xudmFyIFRoZURhdGVwaWNrZXI7XG4oZnVuY3Rpb24oVGhlRGF0ZXBpY2tlcikge1xuICAgIHZhciBUZW1wbGF0ZSA9IChmdW5jdGlvbigpIHtcbiAgICAgICAgZnVuY3Rpb24gVGVtcGxhdGUob3B0aW9ucywgaHRtbEhlbHBlciwgY29udGFpbmVyLCBoYXNJbnB1dCkge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgICAgIHRoaXMuaHRtbEhlbHBlciA9IGh0bWxIZWxwZXI7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICAgICAgICAgIHRoaXMuaGFzSW5wdXQgPSBoYXNJbnB1dDtcbiAgICAgICAgICAgIHRoaXMubWFpbkVsZW1lbnQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5jb250cm9sRWxlbWVudCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmdvQmFja0VsZW1lbnQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5nb0ZvcndhcmRFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMudGl0bGVFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMudGl0bGVDb250ZW50RWxlbWVudCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnJlc2V0RWxlbWVudCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmNsb3NlRWxlbWVudCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLm1vbnRoU2VsZWN0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMubW9udGhFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMueWVhclNlbGVjdCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLnllYXJFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMubW9udGhBbmRZZWFyU2VsZWN0ID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMubW9udGhBbmRZZWFyRWxlbWVudCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLndlZWtzRWxlbWVudHMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuZGF5c0VsZW1lbnRzID0gW107XG4gICAgICAgICAgICB0aGlzLmRheXNCdXR0b25zRWxlbWVudHMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuZGF5c0NvbnRlbnRzRWxlbWVudHMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICBUZW1wbGF0ZS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24odmlld01vZGVsKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5tYWluRWxlbWVudCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc0lucHV0ICYmIHRoaXMub3B0aW9ucy5pc0hpZGRlbk9uQmx1cigpICYmICF2aWV3TW9kZWwuaXNBY3RpdmUoKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlU2tlbGV0b24odmlld01vZGVsKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZU1haW5FbGVtZW50KHZpZXdNb2RlbCk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVRvcEVsZW1lbnQodmlld01vZGVsKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGl0bGVFbGVtZW50KHZpZXdNb2RlbCk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUNsb3NlRWxlbWVudCh2aWV3TW9kZWwpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVSZXNldEVsZW1lbnQodmlld01vZGVsKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlR29CYWNrRWxlbWVudCh2aWV3TW9kZWwpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVHb0ZvcndhcmRFbGVtZW50KHZpZXdNb2RlbCk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZU1vbnRoRWxlbWVudCh2aWV3TW9kZWwpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVZZWFyRWxlbWVudCh2aWV3TW9kZWwpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVNb250aEFuZFllYXJFbGVtZW50KHZpZXdNb2RlbCk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVdlZWtzRWxlbWVudHModmlld01vZGVsKTtcbiAgICAgICAgfTtcbiAgICAgICAgVGVtcGxhdGUucHJvdG90eXBlLmNyZWF0ZVNrZWxldG9uID0gZnVuY3Rpb24odmlld01vZGVsKSB7XG4gICAgICAgICAgICB2YXIgbWFpbiA9IHRoaXMuaHRtbEhlbHBlci5jcmVhdGVEaXYoJ21haW4nKTtcbiAgICAgICAgICAgIG1haW4uYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVIZWFkZXJFbGVtZW50KHZpZXdNb2RlbCkpO1xuICAgICAgICAgICAgbWFpbi5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZUJvZHlFbGVtZW50KHZpZXdNb2RlbCkpO1xuICAgICAgICAgICAgdGhpcy5tYWluRWxlbWVudCA9IG1haW47XG4gICAgICAgICAgICByZXR1cm4gbWFpbjtcbiAgICAgICAgfTtcbiAgICAgICAgVGVtcGxhdGUucHJvdG90eXBlLnVwZGF0ZU1haW5FbGVtZW50ID0gZnVuY3Rpb24odmlld01vZGVsKSB7XG4gICAgICAgICAgICB0aGlzLm1haW5FbGVtZW50LnN0eWxlLmRpc3BsYXkgPVxuICAgICAgICAgICAgICAgICF0aGlzLmhhc0lucHV0IHx8IHZpZXdNb2RlbC5pc0FjdGl2ZSgpIHx8ICF0aGlzLm9wdGlvbnMuaXNIaWRkZW5PbkJsdXIoKVxuICAgICAgICAgICAgICAgICAgICA/ICcnXG4gICAgICAgICAgICAgICAgICAgIDogJ25vbmUnO1xuICAgICAgICB9O1xuICAgICAgICBUZW1wbGF0ZS5wcm90b3R5cGUuY3JlYXRlQm9keUVsZW1lbnQgPSBmdW5jdGlvbih2aWV3TW9kZWwpIHtcbiAgICAgICAgICAgIHZhciBib2R5ID0gdGhpcy5odG1sSGVscGVyLmNyZWF0ZURpdignYm9keScpO1xuICAgICAgICAgICAgYm9keS5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZVRhYmxlRWxlbWVudCh2aWV3TW9kZWwpKTtcbiAgICAgICAgICAgIHJldHVybiBib2R5O1xuICAgICAgICB9O1xuICAgICAgICBUZW1wbGF0ZS5wcm90b3R5cGUuY3JlYXRlSGVhZGVyRWxlbWVudCA9IGZ1bmN0aW9uKHZpZXdNb2RlbCkge1xuICAgICAgICAgICAgdmFyIGhlYWRlciA9IHRoaXMuaHRtbEhlbHBlci5jcmVhdGVEaXYoJ2hlYWRlcicpO1xuICAgICAgICAgICAgdmFyIHRvcCA9IHRoaXMuaHRtbEhlbHBlci5jcmVhdGVEaXYoJ3RvcCcpO1xuICAgICAgICAgICAgaGVhZGVyLmFwcGVuZENoaWxkKHRvcCk7XG4gICAgICAgICAgICB0b3AuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVUaXRsZUVsZW1lbnQodmlld01vZGVsKSk7XG4gICAgICAgICAgICB2YXIgY29udHJvbCA9IHRoaXMuaHRtbEhlbHBlci5jcmVhdGVEaXYoJ2NvbnRyb2wnKTtcbiAgICAgICAgICAgIHRvcC5hcHBlbmRDaGlsZChjb250cm9sKTtcbiAgICAgICAgICAgIGNvbnRyb2wuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVSZXNldEVsZW1lbnQodmlld01vZGVsKSk7XG4gICAgICAgICAgICBjb250cm9sLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlQ2xvc2VFbGVtZW50KHZpZXdNb2RlbCkpO1xuICAgICAgICAgICAgdmFyIG5hdmlnYXRpb24gPSB0aGlzLmh0bWxIZWxwZXIuY3JlYXRlRGl2KCduYXZpZ2F0aW9uJyk7XG4gICAgICAgICAgICBoZWFkZXIuYXBwZW5kQ2hpbGQobmF2aWdhdGlvbik7XG4gICAgICAgICAgICBuYXZpZ2F0aW9uLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlR29CYWNrRWxlbWVudCh2aWV3TW9kZWwpKTtcbiAgICAgICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuaHRtbEhlbHBlci5jcmVhdGVEaXYoJ3N0YXRlJyk7XG4gICAgICAgICAgICBuYXZpZ2F0aW9uLmFwcGVuZENoaWxkKHN0YXRlKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuaXNNb250aEFuZFllYXJTZXBhcmF0ZWQoKSkge1xuICAgICAgICAgICAgICAgIHN0YXRlLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlTW9udGhFbGVtZW50KHZpZXdNb2RlbCkpO1xuICAgICAgICAgICAgICAgIHN0YXRlLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlWWVhckVsZW1lbnQodmlld01vZGVsKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0YXRlLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlTW9udGhBbmRZZWFyRWxlbWVudCh2aWV3TW9kZWwpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5hdmlnYXRpb24uYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVHb0ZvcndhcmRFbGVtZW50KHZpZXdNb2RlbCkpO1xuICAgICAgICAgICAgdGhpcy5jb250cm9sRWxlbWVudCA9IGNvbnRyb2w7XG4gICAgICAgICAgICByZXR1cm4gaGVhZGVyO1xuICAgICAgICB9O1xuICAgICAgICBUZW1wbGF0ZS5wcm90b3R5cGUudXBkYXRlVG9wRWxlbWVudCA9IGZ1bmN0aW9uKHZpZXdNb2RlbCkge1xuICAgICAgICAgICAgdmFyIGlzVmlzaWJsZSA9XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmdldFRpdGxlKCkgIT09ICcnIHx8XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLmlzUmVzZXRCdXR0b25TaG93bigpIHx8XG4gICAgICAgICAgICAgICAgKHRoaXMuaGFzSW5wdXQgJiYgdGhpcy5vcHRpb25zLmlzQ2xvc2VCdXR0b25TaG93bigpKTtcbiAgICAgICAgICAgIHRoaXMuY29udHJvbEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IGlzVmlzaWJsZSA/ICcnIDogJ25vbmUnO1xuICAgICAgICAgICAgdGhpcy50aXRsZUVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IGlzVmlzaWJsZSA/ICcnIDogJ25vbmUnO1xuICAgICAgICB9O1xuICAgICAgICBUZW1wbGF0ZS5wcm90b3R5cGUuY3JlYXRlVGl0bGVFbGVtZW50ID0gZnVuY3Rpb24odmlld01vZGVsKSB7XG4gICAgICAgICAgICB2YXIgdGl0bGVFbGVtZW50ID0gdGhpcy5odG1sSGVscGVyLmNyZWF0ZURpdigndGl0bGUnKTtcbiAgICAgICAgICAgIHZhciB0aXRsZUNvbnRlbnQgPSB0aGlzLmh0bWxIZWxwZXIuY3JlYXRlU3BhbigpO1xuICAgICAgICAgICAgdGl0bGVFbGVtZW50LmFwcGVuZENoaWxkKHRpdGxlQ29udGVudCk7XG4gICAgICAgICAgICB0aGlzLmh0bWxIZWxwZXIuYWRkQ2xhc3ModGl0bGVDb250ZW50LCAndGl0bGUtY29udGVudCcpO1xuICAgICAgICAgICAgdGhpcy50aXRsZUVsZW1lbnQgPSB0aXRsZUVsZW1lbnQ7XG4gICAgICAgICAgICB0aGlzLnRpdGxlQ29udGVudEVsZW1lbnQgPSB0aXRsZUNvbnRlbnQ7XG4gICAgICAgICAgICByZXR1cm4gdGl0bGVFbGVtZW50O1xuICAgICAgICB9O1xuICAgICAgICBUZW1wbGF0ZS5wcm90b3R5cGUudXBkYXRlVGl0bGVFbGVtZW50ID0gZnVuY3Rpb24odmlld01vZGVsKSB7XG4gICAgICAgICAgICB2YXIgdGl0bGUgPSB0aGlzLm9wdGlvbnMuZ2V0VGl0bGUoKTtcbiAgICAgICAgICAgIHRoaXMudGl0bGVDb250ZW50RWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gdGl0bGUgIT09ICcnID8gJycgOiAnbm9uZSc7XG4gICAgICAgICAgICB0aGlzLnRpdGxlQ29udGVudEVsZW1lbnQuaW5uZXJUZXh0ID0gdGl0bGU7XG4gICAgICAgIH07XG4gICAgICAgIFRlbXBsYXRlLnByb3RvdHlwZS5jcmVhdGVSZXNldEVsZW1lbnQgPSBmdW5jdGlvbih2aWV3TW9kZWwpIHtcbiAgICAgICAgICAgIHZhciByZXNldEVsZW1lbnQgPSB0aGlzLmh0bWxIZWxwZXIuY3JlYXRlRGl2KCdyZXNldCcpO1xuICAgICAgICAgICAgdmFyIHJlc2V0QnV0dG9uID0gdGhpcy5odG1sSGVscGVyLmNyZWF0ZUFuY2hvcihmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgIHZpZXdNb2RlbC5yZXNldChldmVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJlc2V0QnV0dG9uLmlubmVySFRNTCA9IHRoaXMub3B0aW9ucy5nZXRSZXNldEh0bWwoKTtcbiAgICAgICAgICAgIHJlc2V0RWxlbWVudC5hcHBlbmRDaGlsZChyZXNldEJ1dHRvbik7XG4gICAgICAgICAgICB0aGlzLnJlc2V0RWxlbWVudCA9IHJlc2V0RWxlbWVudDtcbiAgICAgICAgICAgIHJldHVybiByZXNldEVsZW1lbnQ7XG4gICAgICAgIH07XG4gICAgICAgIFRlbXBsYXRlLnByb3RvdHlwZS51cGRhdGVSZXNldEVsZW1lbnQgPSBmdW5jdGlvbih2aWV3TW9kZWwpIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXRFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSB0aGlzLm9wdGlvbnMuaXNSZXNldEJ1dHRvblNob3duKCkgPyAnJyA6ICdub25lJztcbiAgICAgICAgfTtcbiAgICAgICAgVGVtcGxhdGUucHJvdG90eXBlLmNyZWF0ZUNsb3NlRWxlbWVudCA9IGZ1bmN0aW9uKHZpZXdNb2RlbCkge1xuICAgICAgICAgICAgdmFyIGNsb3NlRWxlbWVudCA9IHRoaXMuaHRtbEhlbHBlci5jcmVhdGVEaXYoJ2Nsb3NlJyk7XG4gICAgICAgICAgICB2YXIgY2xvc2VCdXR0b24gPSB0aGlzLmh0bWxIZWxwZXIuY3JlYXRlQW5jaG9yKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgdmlld01vZGVsLmNsb3NlKGV2ZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY2xvc2VCdXR0b24uaW5uZXJIVE1MID0gdGhpcy5vcHRpb25zLmdldENsb3NlSHRtbCgpO1xuICAgICAgICAgICAgY2xvc2VFbGVtZW50LmFwcGVuZENoaWxkKGNsb3NlQnV0dG9uKTtcbiAgICAgICAgICAgIHRoaXMuY2xvc2VFbGVtZW50ID0gY2xvc2VFbGVtZW50O1xuICAgICAgICAgICAgcmV0dXJuIGNsb3NlRWxlbWVudDtcbiAgICAgICAgfTtcbiAgICAgICAgVGVtcGxhdGUucHJvdG90eXBlLnVwZGF0ZUNsb3NlRWxlbWVudCA9IGZ1bmN0aW9uKHZpZXdNb2RlbCkge1xuICAgICAgICAgICAgdGhpcy5jbG9zZUVsZW1lbnQuc3R5bGUuZGlzcGxheSA9XG4gICAgICAgICAgICAgICAgdGhpcy5oYXNJbnB1dCAmJiB0aGlzLm9wdGlvbnMuaXNDbG9zZUJ1dHRvblNob3duKCkgPyAnJyA6ICdub25lJztcbiAgICAgICAgfTtcbiAgICAgICAgVGVtcGxhdGUucHJvdG90eXBlLmNyZWF0ZUdvQmFja0VsZW1lbnQgPSBmdW5jdGlvbih2aWV3TW9kZWwpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUdvRWxlbWVudCh2aWV3TW9kZWwsIGZhbHNlKTtcbiAgICAgICAgfTtcbiAgICAgICAgVGVtcGxhdGUucHJvdG90eXBlLmNyZWF0ZUdvRm9yd2FyZEVsZW1lbnQgPSBmdW5jdGlvbih2aWV3TW9kZWwpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUdvRWxlbWVudCh2aWV3TW9kZWwsIHRydWUpO1xuICAgICAgICB9O1xuICAgICAgICBUZW1wbGF0ZS5wcm90b3R5cGUuY3JlYXRlR29FbGVtZW50ID0gZnVuY3Rpb24odmlld01vZGVsLCBkaXJlY3Rpb25Gb3J3YXJkKSB7XG4gICAgICAgICAgICB2YXIgZ29FbGVtZW50ID0gdGhpcy5odG1sSGVscGVyLmNyZWF0ZURpdignZ28nKTtcbiAgICAgICAgICAgIHRoaXMuaHRtbEhlbHBlci5hZGRDbGFzcyhnb0VsZW1lbnQsIGRpcmVjdGlvbkZvcndhcmQgPyAnZ28tbmV4dCcgOiAnZ28tcHJldmlvdXMnKTtcbiAgICAgICAgICAgIHZhciBnb0J1dHRvbiA9IHRoaXMuaHRtbEhlbHBlci5jcmVhdGVBbmNob3IoZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZGlyZWN0aW9uRm9yd2FyZCkge1xuICAgICAgICAgICAgICAgICAgICB2aWV3TW9kZWwuZ29Gb3J3YXJkKGV2ZW50KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2aWV3TW9kZWwuZ29CYWNrKGV2ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGdvQnV0dG9uLmlubmVySFRNTCA9IGRpcmVjdGlvbkZvcndhcmRcbiAgICAgICAgICAgICAgICA/IHRoaXMub3B0aW9ucy5nZXRHb0ZvcndhcmRIdG1sKClcbiAgICAgICAgICAgICAgICA6IHRoaXMub3B0aW9ucy5nZXRHb0JhY2tIdG1sKCk7XG4gICAgICAgICAgICBnb0VsZW1lbnQuYXBwZW5kQ2hpbGQoZ29CdXR0b24pO1xuICAgICAgICAgICAgaWYgKGRpcmVjdGlvbkZvcndhcmQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdvRm9yd2FyZEVsZW1lbnQgPSBnb0J1dHRvbjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5nb0JhY2tFbGVtZW50ID0gZ29CdXR0b247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZ29FbGVtZW50O1xuICAgICAgICB9O1xuICAgICAgICBUZW1wbGF0ZS5wcm90b3R5cGUudXBkYXRlR29CYWNrRWxlbWVudCA9IGZ1bmN0aW9uKHZpZXdNb2RlbCkge1xuICAgICAgICAgICAgdGhpcy5nb0JhY2tFbGVtZW50LnN0eWxlLnZpc2liaWxpdHkgPSB2aWV3TW9kZWwuY2FuR29CYWNrKCkgPyAndmlzaWJsZScgOiAnaGlkZGVuJztcbiAgICAgICAgfTtcbiAgICAgICAgVGVtcGxhdGUucHJvdG90eXBlLnVwZGF0ZUdvRm9yd2FyZEVsZW1lbnQgPSBmdW5jdGlvbih2aWV3TW9kZWwpIHtcbiAgICAgICAgICAgIHRoaXMuZ29Gb3J3YXJkRWxlbWVudC5zdHlsZS52aXNpYmlsaXR5ID0gdmlld01vZGVsLmNhbkdvRm9yd2FyZCgpXG4gICAgICAgICAgICAgICAgPyAndmlzaWJsZSdcbiAgICAgICAgICAgICAgICA6ICdoaWRkZW4nO1xuICAgICAgICB9O1xuICAgICAgICBUZW1wbGF0ZS5wcm90b3R5cGUuY3JlYXRlTW9udGhFbGVtZW50ID0gZnVuY3Rpb24odmlld01vZGVsKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIG1vbnRoTnVtYmVyID0gMDsgbW9udGhOdW1iZXIgPCAxMjsgbW9udGhOdW1iZXIrKykge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBtb250aE51bWJlciArICcnLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogdGhpcy5vcHRpb25zLnRyYW5zbGF0b3IudHJhbnNsYXRlTW9udGgobW9udGhOdW1iZXIpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHNlbGVjdEVsZW1lbnQgPSB0aGlzLmh0bWxIZWxwZXIuY3JlYXRlU2VsZWN0SW5wdXQob3B0aW9ucywgZnVuY3Rpb24oXG4gICAgICAgICAgICAgICAgZXZlbnQsXG4gICAgICAgICAgICAgICAgbW9udGhOdW1iZXJcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50TW9udGggPSB2aWV3TW9kZWwuZ2V0Q3VycmVudE1vbnRoKCk7XG4gICAgICAgICAgICAgICAgdmFyIG5ld01vbnRoID0gbmV3IERhdGUoY3VycmVudE1vbnRoLmdldFRpbWUoKSk7XG4gICAgICAgICAgICAgICAgbmV3TW9udGguc2V0TW9udGgocGFyc2VJbnQobW9udGhOdW1iZXIsIDEwKSk7XG4gICAgICAgICAgICAgICAgaWYgKCF2aWV3TW9kZWwuZ29Ub01vbnRoKGV2ZW50LCBuZXdNb250aCkpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMubW9udGhTZWxlY3QudmFsdWUgPSBjdXJyZW50TW9udGguZ2V0TW9udGgoKSArICcnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIG1vbnRoRWxlbWVudCA9IHRoaXMuaHRtbEhlbHBlci5jcmVhdGVEaXYoJ21vbnRoJyk7XG4gICAgICAgICAgICB2YXIgbW9udGhDb250ZW50ID0gdGhpcy5odG1sSGVscGVyLmNyZWF0ZVNwYW4oKTtcbiAgICAgICAgICAgIG1vbnRoRWxlbWVudC5hcHBlbmRDaGlsZChzZWxlY3RFbGVtZW50KTtcbiAgICAgICAgICAgIG1vbnRoRWxlbWVudC5hcHBlbmRDaGlsZChtb250aENvbnRlbnQpO1xuICAgICAgICAgICAgdGhpcy5tb250aEVsZW1lbnQgPSBtb250aENvbnRlbnQ7XG4gICAgICAgICAgICB0aGlzLm1vbnRoU2VsZWN0ID0gc2VsZWN0RWxlbWVudDtcbiAgICAgICAgICAgIHJldHVybiBtb250aEVsZW1lbnQ7XG4gICAgICAgIH07XG4gICAgICAgIFRlbXBsYXRlLnByb3RvdHlwZS51cGRhdGVNb250aEVsZW1lbnQgPSBmdW5jdGlvbih2aWV3TW9kZWwpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLm1vbnRoRWxlbWVudCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjdXJyZW50TW9udGggPSB2aWV3TW9kZWwuZ2V0Q3VycmVudE1vbnRoKCkuZ2V0TW9udGgoKTtcbiAgICAgICAgICAgIHRoaXMubW9udGhFbGVtZW50LmlubmVyVGV4dCA9IHRoaXMub3B0aW9ucy50cmFuc2xhdG9yLnRyYW5zbGF0ZU1vbnRoKGN1cnJlbnRNb250aCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5pc01vbnRoQXNEcm9wZG93bigpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tb250aFNlbGVjdC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgICAgIHRoaXMubW9udGhFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdmFsdWVzQ291bnQgPSAwO1xuICAgICAgICAgICAgZm9yICh2YXIgbW9udGhOdW1iZXIgPSAwOyBtb250aE51bWJlciA8IDEyOyBtb250aE51bWJlcisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5ld01vbnRoID0gbmV3IERhdGUodmlld01vZGVsLmdldEN1cnJlbnRNb250aCgpLmdldFRpbWUoKSk7XG4gICAgICAgICAgICAgICAgbmV3TW9udGguc2V0TW9udGgobW9udGhOdW1iZXIpO1xuICAgICAgICAgICAgICAgIHZhciBvcHRpb24gPSB0aGlzLm1vbnRoU2VsZWN0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdvcHRpb24nKVttb250aE51bWJlcl07XG4gICAgICAgICAgICAgICAgdmFyIGNhbkdvVG9Nb250aCA9IHZpZXdNb2RlbC5jYW5Hb1RvTW9udGgobmV3TW9udGgpO1xuICAgICAgICAgICAgICAgIG9wdGlvbi5kaXNhYmxlZCA9ICFjYW5Hb1RvTW9udGg7XG4gICAgICAgICAgICAgICAgb3B0aW9uLnN0eWxlLmRpc3BsYXkgPSBjYW5Hb1RvTW9udGggPyAnJyA6ICdub25lJztcbiAgICAgICAgICAgICAgICB2YWx1ZXNDb3VudCArPSBjYW5Hb1RvTW9udGggPyAxIDogMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubW9udGhTZWxlY3QudmFsdWUgPSBjdXJyZW50TW9udGggKyAnJztcbiAgICAgICAgICAgIHRoaXMubW9udGhTZWxlY3Quc3R5bGUuZGlzcGxheSA9IHZhbHVlc0NvdW50ID4gMSA/ICcnIDogJ25vbmUnO1xuICAgICAgICAgICAgdGhpcy5tb250aEVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IHZhbHVlc0NvdW50ID4gMSA/ICdub25lJyA6ICcnO1xuICAgICAgICB9O1xuICAgICAgICBUZW1wbGF0ZS5wcm90b3R5cGUuY3JlYXRlWWVhckVsZW1lbnQgPSBmdW5jdGlvbih2aWV3TW9kZWwpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgc2VsZWN0RWxlbWVudCA9IHRoaXMuaHRtbEhlbHBlci5jcmVhdGVTZWxlY3RJbnB1dChbXSwgZnVuY3Rpb24oZXZlbnQsIHllYXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudE1vbnRoID0gdmlld01vZGVsLmdldEN1cnJlbnRNb250aCgpO1xuICAgICAgICAgICAgICAgIHZhciBuZXdNb250aCA9IG5ldyBEYXRlKGN1cnJlbnRNb250aC5nZXRUaW1lKCkpO1xuICAgICAgICAgICAgICAgIG5ld01vbnRoLnNldEZ1bGxZZWFyKHBhcnNlSW50KHllYXIsIDEwKSk7XG4gICAgICAgICAgICAgICAgdmFyIG1pbk1vbnRoID0gX3RoaXMub3B0aW9ucy5nZXRNaW5Nb250aCgpO1xuICAgICAgICAgICAgICAgIHZhciBtYXhNb250aCA9IF90aGlzLm9wdGlvbnMuZ2V0TWF4TW9udGgoKTtcbiAgICAgICAgICAgICAgICBpZiAobWluTW9udGggIT09IG51bGwgJiYgbmV3TW9udGguZ2V0VGltZSgpIDwgbWluTW9udGguZ2V0VGltZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld01vbnRoID0gbWluTW9udGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChtYXhNb250aCAhPT0gbnVsbCAmJiBuZXdNb250aC5nZXRUaW1lKCkgPiBtYXhNb250aC5nZXRUaW1lKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3TW9udGggPSBtYXhNb250aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCF2aWV3TW9kZWwuZ29Ub01vbnRoKGV2ZW50LCBuZXdNb250aCkpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMueWVhclNlbGVjdC52YWx1ZSA9IGN1cnJlbnRNb250aC5nZXRGdWxsWWVhcigpICsgJyc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgeWVhckVsZW1lbnQgPSB0aGlzLmh0bWxIZWxwZXIuY3JlYXRlRGl2KCd5ZWFyJyk7XG4gICAgICAgICAgICB2YXIgeWVhckNvbnRlbnQgPSB0aGlzLmh0bWxIZWxwZXIuY3JlYXRlU3BhbigpO1xuICAgICAgICAgICAgeWVhckVsZW1lbnQuYXBwZW5kQ2hpbGQoc2VsZWN0RWxlbWVudCk7XG4gICAgICAgICAgICB5ZWFyRWxlbWVudC5hcHBlbmRDaGlsZCh5ZWFyQ29udGVudCk7XG4gICAgICAgICAgICB0aGlzLnllYXJFbGVtZW50ID0geWVhckNvbnRlbnQ7XG4gICAgICAgICAgICB0aGlzLnllYXJTZWxlY3QgPSBzZWxlY3RFbGVtZW50O1xuICAgICAgICAgICAgcmV0dXJuIHllYXJFbGVtZW50O1xuICAgICAgICB9O1xuICAgICAgICBUZW1wbGF0ZS5wcm90b3R5cGUudXBkYXRlWWVhckVsZW1lbnQgPSBmdW5jdGlvbih2aWV3TW9kZWwpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnllYXJFbGVtZW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGN1cnJlbnRZZWFyID0gdmlld01vZGVsLmdldEN1cnJlbnRNb250aCgpLmdldEZ1bGxZZWFyKCk7XG4gICAgICAgICAgICB0aGlzLnllYXJFbGVtZW50LmlubmVyVGV4dCA9IGN1cnJlbnRZZWFyICsgJyc7XG4gICAgICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5pc1llYXJBc0Ryb3Bkb3duKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnllYXJTZWxlY3Quc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgICAgICB0aGlzLnllYXJFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbWluRGF0ZSA9IHRoaXMub3B0aW9ucy5nZXRNaW5EYXRlKCk7XG4gICAgICAgICAgICB2YXIgbWF4RGF0ZSA9IHRoaXMub3B0aW9ucy5nZXRNYXhEYXRlKCk7XG4gICAgICAgICAgICB2YXIgbWluWWVhciA9IG1pbkRhdGUgIT09IG51bGwgPyBtaW5EYXRlLmdldEZ1bGxZZWFyKCkgOiBudWxsO1xuICAgICAgICAgICAgdmFyIG1heFllYXIgPSBtYXhEYXRlICE9PSBudWxsID8gbWF4RGF0ZS5nZXRGdWxsWWVhcigpIDogbnVsbDtcbiAgICAgICAgICAgIHZhciByYW5nZSA9IHRoaXMuY2FsY3VsYXRlRHJvcGRvd25SYW5nZShjdXJyZW50WWVhciwgbWluWWVhciwgbWF4WWVhcik7XG4gICAgICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMueWVhclNlbGVjdC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnb3B0aW9uJyk7XG4gICAgICAgICAgICB2YXIgZGlmZiA9IHRoaXMuY2FsY3VsYXRlRHJvcGRvd25EaWZmKG9wdGlvbnMsIHJhbmdlLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgZGlmZi5yZW1vdmUubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy55ZWFyU2VsZWN0LnJlbW92ZUNoaWxkKGRpZmYucmVtb3ZlW2luZGV4XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IGRpZmYucHJlcGVuZC5sZW5ndGggLSAxOyBpbmRleCA+PSAwOyBpbmRleC0tKSB7XG4gICAgICAgICAgICAgICAgdGhpcy55ZWFyU2VsZWN0Lmluc2VydEJlZm9yZShcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5odG1sSGVscGVyLmNyZWF0ZVNlbGVjdE9wdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpZmYucHJlcGVuZFtpbmRleF0gKyAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpZmYucHJlcGVuZFtpbmRleF0gKyAnJ1xuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnllYXJTZWxlY3QuZmlyc3RDaGlsZFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgZGlmZi5hcHBlbmQubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy55ZWFyU2VsZWN0LmFwcGVuZENoaWxkKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmh0bWxIZWxwZXIuY3JlYXRlU2VsZWN0T3B0aW9uKFxuICAgICAgICAgICAgICAgICAgICAgICAgZGlmZi5hcHBlbmRbaW5kZXhdICsgJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBkaWZmLmFwcGVuZFtpbmRleF0gKyAnJ1xuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMueWVhclNlbGVjdC52YWx1ZSA9IGN1cnJlbnRZZWFyICsgJyc7XG4gICAgICAgICAgICB0aGlzLnllYXJTZWxlY3Quc3R5bGUuZGlzcGxheSA9IHJhbmdlLmZyb20gPCByYW5nZS50byA/ICcnIDogJ25vbmUnO1xuICAgICAgICAgICAgdGhpcy55ZWFyRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gcmFuZ2UuZnJvbSA8IHJhbmdlLnRvID8gJ25vbmUnIDogJyc7XG4gICAgICAgIH07XG4gICAgICAgIFRlbXBsYXRlLnByb3RvdHlwZS5jcmVhdGVNb250aEFuZFllYXJFbGVtZW50ID0gZnVuY3Rpb24odmlld01vZGVsKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgdmFyIG1vbnRoQW5kWWVhciA9IHRoaXMuaHRtbEhlbHBlci5jcmVhdGVEaXYoJ21vbnRoLXllYXInKTtcbiAgICAgICAgICAgIHZhciBzZWxlY3RFbGVtZW50ID0gdGhpcy5odG1sSGVscGVyLmNyZWF0ZVNlbGVjdElucHV0KFtdLCBmdW5jdGlvbihldmVudCwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudE1vbnRoID0gdmlld01vZGVsLmdldEN1cnJlbnRNb250aCgpO1xuICAgICAgICAgICAgICAgIHZhciBuZXdNb250aCA9IG5ldyBEYXRlKGN1cnJlbnRNb250aC5nZXRUaW1lKCkpO1xuICAgICAgICAgICAgICAgIHZhciBkYXRhID0gX3RoaXMucGFyc2VNb250aEFuZFllYXJPcHRpb25WYWx1ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgbmV3TW9udGguc2V0RnVsbFllYXIoZGF0YS55ZWFyKTtcbiAgICAgICAgICAgICAgICBuZXdNb250aC5zZXRNb250aChkYXRhLm1vbnRoKTtcbiAgICAgICAgICAgICAgICBpZiAoIXZpZXdNb2RlbC5nb1RvTW9udGgoZXZlbnQsIG5ld01vbnRoKSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5tb250aEFuZFllYXJTZWxlY3QudmFsdWUgPSBfdGhpcy5nZXRNb250aEFuZFllYXJPcHRpb25WYWx1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb250aDogY3VycmVudE1vbnRoLmdldE1vbnRoKCksXG4gICAgICAgICAgICAgICAgICAgICAgICB5ZWFyOiBjdXJyZW50TW9udGguZ2V0RnVsbFllYXIoKSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgbW9udGhBbmRZZWFyQ29udGVudCA9IHRoaXMuaHRtbEhlbHBlci5jcmVhdGVTcGFuKCk7XG4gICAgICAgICAgICB0aGlzLm1vbnRoQW5kWWVhckVsZW1lbnQgPSBtb250aEFuZFllYXJDb250ZW50O1xuICAgICAgICAgICAgdGhpcy5tb250aEFuZFllYXJTZWxlY3QgPSBzZWxlY3RFbGVtZW50O1xuICAgICAgICAgICAgbW9udGhBbmRZZWFyLmFwcGVuZENoaWxkKG1vbnRoQW5kWWVhckNvbnRlbnQpO1xuICAgICAgICAgICAgbW9udGhBbmRZZWFyLmFwcGVuZENoaWxkKHNlbGVjdEVsZW1lbnQpO1xuICAgICAgICAgICAgcmV0dXJuIG1vbnRoQW5kWWVhcjtcbiAgICAgICAgfTtcbiAgICAgICAgVGVtcGxhdGUucHJvdG90eXBlLnVwZGF0ZU1vbnRoQW5kWWVhckVsZW1lbnQgPSBmdW5jdGlvbih2aWV3TW9kZWwpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICBpZiAodGhpcy5tb250aEFuZFllYXJFbGVtZW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGN1cnJlbnRNb250aCA9IHZpZXdNb2RlbC5nZXRDdXJyZW50TW9udGgoKTtcbiAgICAgICAgICAgIHZhciBjdXJyZW50RGF0YSA9IHtcbiAgICAgICAgICAgICAgICBtb250aDogY3VycmVudE1vbnRoLmdldE1vbnRoKCksXG4gICAgICAgICAgICAgICAgeWVhcjogY3VycmVudE1vbnRoLmdldEZ1bGxZZWFyKCksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRJbmRleCA9IHRoaXMuY2FsY3VsYXRlTW9udGhBbmRZZWFySW5kZXgoY3VycmVudERhdGEpO1xuICAgICAgICAgICAgdGhpcy5tb250aEFuZFllYXJFbGVtZW50LmlubmVyVGV4dCA9IHRoaXMudHJhbnNsYXRlTW9udGhBbmRZZWFyKGN1cnJlbnREYXRhKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zLmlzWWVhckFzRHJvcGRvd24oKSB8fCAhdGhpcy5vcHRpb25zLmlzTW9udGhBc0Ryb3Bkb3duKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vbnRoQW5kWWVhclNlbGVjdC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgICAgIHRoaXMubW9udGhBbmRZZWFyRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG1pbkRhdGUgPSB0aGlzLm9wdGlvbnMuZ2V0TWluRGF0ZSgpO1xuICAgICAgICAgICAgdmFyIG1heERhdGUgPSB0aGlzLm9wdGlvbnMuZ2V0TWF4RGF0ZSgpO1xuICAgICAgICAgICAgdmFyIG1pbkluZGV4ID1cbiAgICAgICAgICAgICAgICBtaW5EYXRlICE9PSBudWxsID8gbWluRGF0ZS5nZXRGdWxsWWVhcigpICogMTIgKyBtaW5EYXRlLmdldE1vbnRoKCkgOiBudWxsO1xuICAgICAgICAgICAgdmFyIG1heEluZGV4ID1cbiAgICAgICAgICAgICAgICBtYXhEYXRlICE9PSBudWxsID8gbWF4RGF0ZS5nZXRGdWxsWWVhcigpICogMTIgKyBtYXhEYXRlLmdldE1vbnRoKCkgOiBudWxsO1xuICAgICAgICAgICAgdmFyIHJhbmdlID0gdGhpcy5jYWxjdWxhdGVEcm9wZG93blJhbmdlKGN1cnJlbnRJbmRleCwgbWluSW5kZXgsIG1heEluZGV4KTtcbiAgICAgICAgICAgIHZhciBvcHRpb25zID0gdGhpcy5tb250aEFuZFllYXJTZWxlY3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ29wdGlvbicpO1xuICAgICAgICAgICAgdmFyIGRpZmYgPSB0aGlzLmNhbGN1bGF0ZURyb3Bkb3duRGlmZihvcHRpb25zLCByYW5nZSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuY2FsY3VsYXRlTW9udGhBbmRZZWFySW5kZXgoX3RoaXMucGFyc2VNb250aEFuZFllYXJPcHRpb25WYWx1ZSh2YWx1ZSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgZGlmZi5yZW1vdmUubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tb250aEFuZFllYXJTZWxlY3QucmVtb3ZlQ2hpbGQoZGlmZi5yZW1vdmVbaW5kZXhdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gZGlmZi5wcmVwZW5kLmxlbmd0aCAtIDE7IGluZGV4ID49IDA7IGluZGV4LS0pIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHRoaXMuZ2V0TW9udGhBbmRZZWFyQnlJbmRleChkaWZmLnByZXBlbmRbaW5kZXhdKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1vbnRoQW5kWWVhclNlbGVjdC5pbnNlcnRCZWZvcmUoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaHRtbEhlbHBlci5jcmVhdGVTZWxlY3RPcHRpb24oXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdldE1vbnRoQW5kWWVhck9wdGlvblZhbHVlKGRhdGEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2xhdGVNb250aEFuZFllYXIoZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb250aEFuZFllYXJTZWxlY3QuZmlyc3RDaGlsZFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgZGlmZi5hcHBlbmQubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLmdldE1vbnRoQW5kWWVhckJ5SW5kZXgoZGlmZi5hcHBlbmRbaW5kZXhdKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1vbnRoQW5kWWVhclNlbGVjdC5hcHBlbmRDaGlsZChcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5odG1sSGVscGVyLmNyZWF0ZVNlbGVjdE9wdGlvbihcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0TW9udGhBbmRZZWFyT3B0aW9uVmFsdWUoZGF0YSksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zbGF0ZU1vbnRoQW5kWWVhcihkYXRhKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubW9udGhBbmRZZWFyU2VsZWN0LnZhbHVlID0gdGhpcy5nZXRNb250aEFuZFllYXJPcHRpb25WYWx1ZShjdXJyZW50RGF0YSk7XG4gICAgICAgICAgICB0aGlzLm1vbnRoQW5kWWVhclNlbGVjdC5zdHlsZS5kaXNwbGF5ID0gcmFuZ2UuZnJvbSA8IHJhbmdlLnRvID8gJycgOiAnbm9uZSc7XG4gICAgICAgICAgICB0aGlzLm1vbnRoQW5kWWVhckVsZW1lbnQuc3R5bGUuZGlzcGxheSA9IHJhbmdlLmZyb20gPCByYW5nZS50byA/ICdub25lJyA6ICcnO1xuICAgICAgICB9O1xuICAgICAgICBUZW1wbGF0ZS5wcm90b3R5cGUudHJhbnNsYXRlTW9udGhBbmRZZWFyID0gZnVuY3Rpb24oZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy50cmFuc2xhdG9yLnRyYW5zbGF0ZU1vbnRoKGRhdGEubW9udGgpICsgJyAnICsgZGF0YS55ZWFyO1xuICAgICAgICB9O1xuICAgICAgICBUZW1wbGF0ZS5wcm90b3R5cGUuY2FsY3VsYXRlTW9udGhBbmRZZWFySW5kZXggPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YS55ZWFyICogMTIgKyBkYXRhLm1vbnRoO1xuICAgICAgICB9O1xuICAgICAgICBUZW1wbGF0ZS5wcm90b3R5cGUuZ2V0TW9udGhBbmRZZWFyQnlJbmRleCA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHllYXI6IE1hdGguZmxvb3IoaW5kZXggLyAxMiksXG4gICAgICAgICAgICAgICAgbW9udGg6IGluZGV4ICUgMTIsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgICAgICBUZW1wbGF0ZS5wcm90b3R5cGUuZ2V0TW9udGhBbmRZZWFyT3B0aW9uVmFsdWUgPSBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YS55ZWFyICsgJy0nICsgZGF0YS5tb250aDtcbiAgICAgICAgfTtcbiAgICAgICAgVGVtcGxhdGUucHJvdG90eXBlLnBhcnNlTW9udGhBbmRZZWFyT3B0aW9uVmFsdWUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIHBhcnRzID0gdmFsdWUuc3BsaXQoJy0nKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbW9udGg6IHBhcnNlSW50KHBhcnRzWzFdLCAxMCksXG4gICAgICAgICAgICAgICAgeWVhcjogcGFyc2VJbnQocGFydHNbMF0sIDEwKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICAgIFRlbXBsYXRlLnByb3RvdHlwZS5jYWxjdWxhdGVEcm9wZG93blJhbmdlID0gZnVuY3Rpb24oY3VycmVudCwgbWluLCBtYXgpIHtcbiAgICAgICAgICAgIHZhciBsaW1pdCA9IHRoaXMub3B0aW9ucy5nZXREcm9wZG93bkl0ZW1zTGltaXQoKSAtIDE7XG4gICAgICAgICAgICB2YXIgbWF4QXBwZW5kID0gTWF0aC5jZWlsKGxpbWl0IC8gMik7XG4gICAgICAgICAgICB2YXIgZnJvbSA9IGN1cnJlbnQgLSAobGltaXQgLSBtYXhBcHBlbmQpO1xuICAgICAgICAgICAgdmFyIHRvID0gY3VycmVudCArIG1heEFwcGVuZDtcbiAgICAgICAgICAgIGlmIChtaW4gIT09IG51bGwgJiYgZnJvbSA8IG1pbikge1xuICAgICAgICAgICAgICAgIHRvICs9IG1pbiAtIGZyb207XG4gICAgICAgICAgICAgICAgaWYgKG1heCAhPT0gbnVsbCAmJiB0byA+IG1heCkge1xuICAgICAgICAgICAgICAgICAgICB0byA9IG1heDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZnJvbSA9IG1pbjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWF4ICE9PSBudWxsICYmIHRvID4gbWF4KSB7XG4gICAgICAgICAgICAgICAgZnJvbSAtPSB0byAtIG1heDtcbiAgICAgICAgICAgICAgICBpZiAobWluICE9PSBudWxsICYmIGZyb20gPCBtaW4pIHtcbiAgICAgICAgICAgICAgICAgICAgZnJvbSA9IG1pbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdG8gPSBtYXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGZyb206IGZyb20sXG4gICAgICAgICAgICAgICAgdG86IHRvLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgVGVtcGxhdGUucHJvdG90eXBlLmNhbGN1bGF0ZURyb3Bkb3duRGlmZiA9IGZ1bmN0aW9uKG9wdGlvbnMsIG5ld1JhbmdlLCBnZXROdW1lcmljYWwpIHtcbiAgICAgICAgICAgIHZhciBmaXJzdE9wdGlvbiA9IG9wdGlvbnMubGVuZ3RoID4gMCA/IGdldE51bWVyaWNhbChvcHRpb25zWzBdLnZhbHVlKSA6IG51bGw7XG4gICAgICAgICAgICB2YXIgbGFzdE9wdGlvbiA9XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5sZW5ndGggPiAwID8gZ2V0TnVtZXJpY2FsKG9wdGlvbnNbb3B0aW9ucy5sZW5ndGggLSAxXS52YWx1ZSkgOiBudWxsO1xuICAgICAgICAgICAgdmFyIHByZXBlbmQgPSBbXTtcbiAgICAgICAgICAgIHZhciBhcHBlbmQgPSBbXTtcbiAgICAgICAgICAgIHZhciByZW1vdmUgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIHZhbHVlID0gbmV3UmFuZ2UuZnJvbTsgdmFsdWUgPD0gbmV3UmFuZ2UudG87IHZhbHVlKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoZmlyc3RPcHRpb24gPT09IG51bGwgfHwgdmFsdWUgPCBmaXJzdE9wdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBwcmVwZW5kLnB1c2godmFsdWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPiBsYXN0T3B0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZC5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgb3B0aW9ucy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBnZXROdW1lcmljYWwob3B0aW9uc1tpbmRleF0udmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IG5ld1JhbmdlLmZyb20gfHwgdmFsdWUgPiBuZXdSYW5nZS50bykge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmUucHVzaChvcHRpb25zW2luZGV4XSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBwcmVwZW5kOiBwcmVwZW5kLFxuICAgICAgICAgICAgICAgIGFwcGVuZDogYXBwZW5kLFxuICAgICAgICAgICAgICAgIHJlbW92ZTogcmVtb3ZlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICAgICAgVGVtcGxhdGUucHJvdG90eXBlLmNyZWF0ZVRhYmxlRWxlbWVudCA9IGZ1bmN0aW9uKHZpZXdNb2RlbCkge1xuICAgICAgICAgICAgdmFyIHRhYmxlSGVhZGVyID0gdGhpcy5jcmVhdGVUYWJsZUhlYWRlckVsZW1lbnQodmlld01vZGVsKTtcbiAgICAgICAgICAgIHZhciB0YWJsZUJvZHkgPSB0aGlzLmNyZWF0ZVRhYmxlQm9keUVsZW1lbnQodmlld01vZGVsKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmh0bWxIZWxwZXIuY3JlYXRlVGFibGUoJ2NhbGVuZGFyJywgdGFibGVIZWFkZXIsIHRhYmxlQm9keSk7XG4gICAgICAgIH07XG4gICAgICAgIFRlbXBsYXRlLnByb3RvdHlwZS5jcmVhdGVUYWJsZUhlYWRlckVsZW1lbnQgPSBmdW5jdGlvbih2aWV3TW9kZWwpIHtcbiAgICAgICAgICAgIHZhciB3ZWVrRGF5cyA9IHZpZXdNb2RlbC5nZXRXZWVrRGF5cygpO1xuICAgICAgICAgICAgdmFyIGNlbGxzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgd2Vla0RheXMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRheU9mV2VlayA9IHdlZWtEYXlzW2luZGV4XTtcbiAgICAgICAgICAgICAgICBjZWxscy5wdXNoKHRoaXMuY3JlYXRlVGFibGVIZWFkZXJDZWxsRWxlbWVudCh2aWV3TW9kZWwsIGRheU9mV2VlaykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaHRtbEhlbHBlci5jcmVhdGVUYWJsZUhlYWRlcignY2FsZW5kYXItaGVhZGVyJywgY2VsbHMpO1xuICAgICAgICB9O1xuICAgICAgICBUZW1wbGF0ZS5wcm90b3R5cGUuY3JlYXRlVGFibGVIZWFkZXJDZWxsRWxlbWVudCA9IGZ1bmN0aW9uKHZpZXdNb2RlbCwgZGF5T2ZXZWVrKSB7XG4gICAgICAgICAgICB2YXIgaGVhZGVyQ2VsbCA9IHRoaXMuaHRtbEhlbHBlci5jcmVhdGVUYWJsZUhlYWRlckNlbGwoJ3dlZWstZGF5Jyk7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgZGF5T2ZXZWVrID09PSBUaGVEYXRlcGlja2VyLkRheU9mV2Vlay5TYXR1cmRheSB8fFxuICAgICAgICAgICAgICAgIGRheU9mV2VlayA9PT0gVGhlRGF0ZXBpY2tlci5EYXlPZldlZWsuU3VuZGF5XG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmh0bWxIZWxwZXIuYWRkQ2xhc3MoaGVhZGVyQ2VsbCwgJ3dlZWstZGF5LS13ZWVrZW5kJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBoZWFkZXJDZWxsLmlubmVyVGV4dCA9IHRoaXMub3B0aW9ucy50cmFuc2xhdG9yLnRyYW5zbGF0ZURheU9mV2VlayhkYXlPZldlZWspO1xuICAgICAgICAgICAgcmV0dXJuIGhlYWRlckNlbGw7XG4gICAgICAgIH07XG4gICAgICAgIFRlbXBsYXRlLnByb3RvdHlwZS5jcmVhdGVUYWJsZUJvZHlFbGVtZW50ID0gZnVuY3Rpb24odmlld01vZGVsKSB7XG4gICAgICAgICAgICB0aGlzLmRheXNFbGVtZW50cyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5kYXlzQnV0dG9uc0VsZW1lbnRzID0gW107XG4gICAgICAgICAgICB0aGlzLmRheXNDb250ZW50c0VsZW1lbnRzID0gW107XG4gICAgICAgICAgICB2YXIgcm93cyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IDY7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICByb3dzLnB1c2godGhpcy5jcmVhdGVUYWJsZVJvd0VsZW1lbnQodmlld01vZGVsKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLndlZWtzRWxlbWVudHMgPSByb3dzO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaHRtbEhlbHBlci5jcmVhdGVUYWJsZUJvZHkoJ2NhbGVuZGFyLWJvZHknLCByb3dzKTtcbiAgICAgICAgfTtcbiAgICAgICAgVGVtcGxhdGUucHJvdG90eXBlLnVwZGF0ZVdlZWtzRWxlbWVudHMgPSBmdW5jdGlvbih2aWV3TW9kZWwpIHtcbiAgICAgICAgICAgIHZhciB3ZWVrcyA9IHZpZXdNb2RlbC5nZXRXZWVrcygpO1xuICAgICAgICAgICAgZm9yICh2YXIgd2Vla0luZGV4ID0gMDsgd2Vla0luZGV4IDwgdGhpcy53ZWVrc0VsZW1lbnRzLmxlbmd0aDsgd2Vla0luZGV4KyspIHtcbiAgICAgICAgICAgICAgICB2YXIgd2Vla0VsZW1lbnQgPSB0aGlzLndlZWtzRWxlbWVudHNbd2Vla0luZGV4XTtcbiAgICAgICAgICAgICAgICB2YXIgd2VlayA9IHdlZWtzLmxlbmd0aCA+IHdlZWtJbmRleCA/IHdlZWtzW3dlZWtJbmRleF0gOiBudWxsO1xuICAgICAgICAgICAgICAgIHdlZWtFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSB3ZWVrICE9PSBudWxsID8gJycgOiAnbm9uZSc7XG4gICAgICAgICAgICAgICAgaWYgKHdlZWsgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXlJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXlJbmRleCA8IHRoaXMuZGF5c0VsZW1lbnRzW3dlZWtJbmRleF0ubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF5SW5kZXgrK1xuICAgICAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlRGF5RWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWV3TW9kZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXlzRWxlbWVudHNbd2Vla0luZGV4XVtkYXlJbmRleF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXlzQnV0dG9uc0VsZW1lbnRzW3dlZWtJbmRleF1bZGF5SW5kZXhdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF5c0NvbnRlbnRzRWxlbWVudHNbd2Vla0luZGV4XVtkYXlJbmRleF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2Vla1tkYXlJbmRleF1cbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIFRlbXBsYXRlLnByb3RvdHlwZS5jcmVhdGVUYWJsZVJvd0VsZW1lbnQgPSBmdW5jdGlvbih2aWV3TW9kZWwpIHtcbiAgICAgICAgICAgIHZhciBjZWxscyA9IFtdO1xuICAgICAgICAgICAgdmFyIGNlbGxzQnV0dG9ucyA9IFtdO1xuICAgICAgICAgICAgdmFyIGNlbGxzQ29udGVudHMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCA3OyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNlbGwgPSB0aGlzLmh0bWxIZWxwZXIuY3JlYXRlVGFibGVDZWxsKCk7XG4gICAgICAgICAgICAgICAgdmFyIGNlbGxCdXR0b24gPSB0aGlzLmNyZWF0ZVRhYmxlQ2VsbEJ1dHRvbkVsZW1lbnQodmlld01vZGVsKTtcbiAgICAgICAgICAgICAgICB2YXIgY2VsbENvbnRlbnQgPSB0aGlzLmNyZWF0ZVRhYmxlQ2VsbENvbnRlbnRFbGVtZW50KHZpZXdNb2RlbCk7XG4gICAgICAgICAgICAgICAgY2VsbHMucHVzaChjZWxsKTtcbiAgICAgICAgICAgICAgICBjZWxsc0J1dHRvbnMucHVzaChjZWxsQnV0dG9uKTtcbiAgICAgICAgICAgICAgICBjZWxsc0NvbnRlbnRzLnB1c2goY2VsbENvbnRlbnQpO1xuICAgICAgICAgICAgICAgIGNlbGwuYXBwZW5kQ2hpbGQoY2VsbEJ1dHRvbik7XG4gICAgICAgICAgICAgICAgY2VsbEJ1dHRvbi5hcHBlbmRDaGlsZChjZWxsQ29udGVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRheXNFbGVtZW50cy5wdXNoKGNlbGxzKTtcbiAgICAgICAgICAgIHRoaXMuZGF5c0J1dHRvbnNFbGVtZW50cy5wdXNoKGNlbGxzQnV0dG9ucyk7XG4gICAgICAgICAgICB0aGlzLmRheXNDb250ZW50c0VsZW1lbnRzLnB1c2goY2VsbHNDb250ZW50cyk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5odG1sSGVscGVyLmNyZWF0ZVRhYmxlUm93KCd3ZWVrJywgY2VsbHMpO1xuICAgICAgICB9O1xuICAgICAgICBUZW1wbGF0ZS5wcm90b3R5cGUudXBkYXRlRGF5RWxlbWVudCA9IGZ1bmN0aW9uKFxuICAgICAgICAgICAgdmlld01vZGVsLFxuICAgICAgICAgICAgZGF5RWxlbWVudCxcbiAgICAgICAgICAgIGRheUJ1dHRvbkVsZW1lbnQsXG4gICAgICAgICAgICBkYXlDb250ZW50RWxlbWVudCxcbiAgICAgICAgICAgIGRheVxuICAgICAgICApIHtcbiAgICAgICAgICAgIGRheUJ1dHRvbkVsZW1lbnQuZGF5ID0gZGF5O1xuICAgICAgICAgICAgZGF5RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RhdGEtZGF0ZScsIGRheS5nZXRGb3JtYXR0ZWQoKSk7XG4gICAgICAgICAgICBkYXlFbGVtZW50LmNsYXNzTmFtZSA9ICcnO1xuICAgICAgICAgICAgdGhpcy5odG1sSGVscGVyLmFkZENsYXNzKGRheUVsZW1lbnQsICdjZWxsJyk7XG4gICAgICAgICAgICB0aGlzLm9wdGlvbnMudXBkYXRlQ2VsbFN0cnVjdHVyZShkYXlDb250ZW50RWxlbWVudCwgZGF5KTtcbiAgICAgICAgICAgIGlmICghZGF5LmlzVmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIGRheUJ1dHRvbkVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdocmVmJyk7XG4gICAgICAgICAgICAgICAgZGF5QnV0dG9uRWxlbWVudC5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5odG1sSGVscGVyLmFkZENsYXNzKGRheUVsZW1lbnQsICdkYXknKTtcbiAgICAgICAgICAgIGlmIChkYXkuaXNUb2RheSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaHRtbEhlbHBlci5hZGRDbGFzcyhkYXlFbGVtZW50LCAnZGF5LS10b2RheScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRheS5pc1Bhc3QpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmh0bWxIZWxwZXIuYWRkQ2xhc3MoZGF5RWxlbWVudCwgJ2RheS0tcGFzdCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRheS5pc1dlZWtlbmQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmh0bWxIZWxwZXIuYWRkQ2xhc3MoZGF5RWxlbWVudCwgJ2RheS0td2Vla2VuZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFkYXkuaXNBdmFpbGFibGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmh0bWxIZWxwZXIuYWRkQ2xhc3MoZGF5RWxlbWVudCwgJ2RheS0tdW5hdmFpbGFibGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZGF5LmlzSW5DdXJyZW50TW9udGgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmh0bWxIZWxwZXIuYWRkQ2xhc3MoZGF5RWxlbWVudCwgJ2RheS0tb3V0c2lkZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRheS5pc0hpZ2hsaWdodGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5odG1sSGVscGVyLmFkZENsYXNzKGRheUVsZW1lbnQsICdkYXktLWhpZ2hsaWdodGVkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF5LmlzU2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmh0bWxIZWxwZXIuYWRkQ2xhc3MoZGF5RWxlbWVudCwgJ2RheS0tc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjdXN0b21DbGFzc2VzID0gdGhpcy5vcHRpb25zLmdldENlbGxDbGFzc2VzKGRheSk7XG4gICAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgY3VzdG9tQ2xhc3Nlcy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICBkYXlFbGVtZW50LmNsYXNzTmFtZSArPSAnICcgKyBjdXN0b21DbGFzc2VzW2luZGV4XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRheUJ1dHRvbkVsZW1lbnQuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcbiAgICAgICAgICAgIGlmIChkYXkuaXNBdmFpbGFibGUpIHtcbiAgICAgICAgICAgICAgICBkYXlCdXR0b25FbGVtZW50LmhyZWYgPSAnIyc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRheUJ1dHRvbkVsZW1lbnQucmVtb3ZlQXR0cmlidXRlKCdocmVmJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF5LmlzRm9jdXNlZCkge1xuICAgICAgICAgICAgICAgIGRheUJ1dHRvbkVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgVGVtcGxhdGUucHJvdG90eXBlLmNyZWF0ZVRhYmxlQ2VsbEJ1dHRvbkVsZW1lbnQgPSBmdW5jdGlvbih2aWV3TW9kZWwpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgY2VsbEJ1dHRvbiA9IHRoaXMuaHRtbEhlbHBlci5jcmVhdGVBbmNob3IoZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJldmlvdXMgPSB2aWV3TW9kZWwuc2VsZWN0ZWREYXRlO1xuICAgICAgICAgICAgICAgIHZhciBpc1NlbGVjdGVkID0gdmlld01vZGVsLnNlbGVjdERheShldmVudCwgY2VsbEJ1dHRvbi5kYXksIGZhbHNlLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgIF90aGlzLm9wdGlvbnMuaXNIaWRkZW5PblNlbGVjdCgpICYmXG4gICAgICAgICAgICAgICAgICAgIChpc1NlbGVjdGVkIHx8IChwcmV2aW91cyAhPT0gbnVsbCAmJiBjZWxsQnV0dG9uLmRheS5pc0VxdWFsVG9EYXRlKHByZXZpb3VzKSkpXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIHZpZXdNb2RlbC5jbG9zZShldmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjZWxsQnV0dG9uLm9uZm9jdXMgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgIHZpZXdNb2RlbC5oaWdobGlnaHREYXkoZXZlbnQgfHwgd2luZG93LmV2ZW50LCBjZWxsQnV0dG9uLmRheSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY2VsbEJ1dHRvbi5vbm1vdXNlZW50ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2aWV3TW9kZWwuY2FuY2VsSGlnaGxpZ2h0KCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY2VsbEJ1dHRvbi5vbm1vdXNlbGVhdmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2aWV3TW9kZWwuY2FuY2VsSGlnaGxpZ2h0KCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIGNlbGxCdXR0b247XG4gICAgICAgIH07XG4gICAgICAgIFRlbXBsYXRlLnByb3RvdHlwZS5jcmVhdGVUYWJsZUNlbGxDb250ZW50RWxlbWVudCA9IGZ1bmN0aW9uKHZpZXdNb2RlbCkge1xuICAgICAgICAgICAgdmFyIGNlbGxDb250ZW50ID0gdGhpcy5vcHRpb25zLmdldENlbGxTdHJ1Y3R1cmUoKTtcbiAgICAgICAgICAgIHRoaXMuaHRtbEhlbHBlci5hZGRDbGFzcyhjZWxsQ29udGVudCwgJ2RheS1jb250ZW50Jyk7XG4gICAgICAgICAgICByZXR1cm4gY2VsbENvbnRlbnQ7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBUZW1wbGF0ZTtcbiAgICB9KSgpO1xuICAgIFRoZURhdGVwaWNrZXIuVGVtcGxhdGUgPSBUZW1wbGF0ZTtcbn0pKFRoZURhdGVwaWNrZXIgfHwgKFRoZURhdGVwaWNrZXIgPSB7fSkpO1xuXG5leHBvcnQgZGVmYXVsdCBUaGVEYXRlcGlja2VyO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@helsingborg-stad/styleguide/source/js/the-datepicker.js\n");

/***/ }),

/***/ "./node_modules/@helsingborg-stad/styleguide/source/js/tile.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@helsingborg-stad/styleguide/source/js/tile.js ***!
  \*********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Tiles; });\n/* harmony import */ var masonry_layout__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! masonry-layout */ \"./node_modules/masonry-layout/masonry.js\");\n/* harmony import */ var masonry_layout__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(masonry_layout__WEBPACK_IMPORTED_MODULE_0__);\n\n\nclass Tiles {\n    constructor() {\n        this.itemSelector = '.c-tile__item';\n        this.tileSizer = '.c-tile__sizer';\n        this.containerSelector = '.c-tile__container';\n    }\n\n    initTiles () {\n        if (document.querySelectorAll('.c-tile__container').length > 0) {\n            const msnry = new masonry_layout__WEBPACK_IMPORTED_MODULE_0___default.a( this.containerSelector, {\n                columnWidth: this.tileSizer,\n                itemSelector: this.itemSelector\n            });\n        }\n    }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGhlbHNpbmdib3JnLXN0YWQvc3R5bGVndWlkZS9zb3VyY2UvanMvdGlsZS5qcz8zZDE1Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQXFDOztBQUV0QjtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDhCQUE4QixxREFBTztBQUNyQztBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9AaGVsc2luZ2Jvcmctc3RhZC9zdHlsZWd1aWRlL3NvdXJjZS9qcy90aWxlLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE1hc29ucnkgZnJvbSAnbWFzb25yeS1sYXlvdXQnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUaWxlcyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuaXRlbVNlbGVjdG9yID0gJy5jLXRpbGVfX2l0ZW0nO1xuICAgICAgICB0aGlzLnRpbGVTaXplciA9ICcuYy10aWxlX19zaXplcic7XG4gICAgICAgIHRoaXMuY29udGFpbmVyU2VsZWN0b3IgPSAnLmMtdGlsZV9fY29udGFpbmVyJztcbiAgICB9XG5cbiAgICBpbml0VGlsZXMgKCkge1xuICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmMtdGlsZV9fY29udGFpbmVyJykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgbXNucnkgPSBuZXcgTWFzb25yeSggdGhpcy5jb250YWluZXJTZWxlY3Rvciwge1xuICAgICAgICAgICAgICAgIGNvbHVtbldpZHRoOiB0aGlzLnRpbGVTaXplcixcbiAgICAgICAgICAgICAgICBpdGVtU2VsZWN0b3I6IHRoaXMuaXRlbVNlbGVjdG9yXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@helsingborg-stad/styleguide/source/js/tile.js\n");

/***/ }),

/***/ "./node_modules/@helsingborg-stad/styleguide/source/js/toggle.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@helsingborg-stad/styleguide/source/js/toggle.js ***!
  \***********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return ToggleClasses; });\nclass ToggleClasses {\n    constructor() {\n        this.TRIGGER = 'js-toggle-trigger';\n        this.ITEM = 'js-toggle-item';\n        this.CLASS = 'js-toggle-class';\n        this.GROUP = 'js-toggle-group';\n        this.PRESSED = 'aria-pressed';\n        this.observeTriggers();\n    }\n\n    togglePressedTrigger (pressedTriggerId, groupId, pressedTrigger) {\n        let query = `[${this.ITEM}=\"${pressedTriggerId}\"]`;\n        let item = document.querySelector(query);\n        let toggleClass = item.getAttribute(this.CLASS);\n        let ariaPressed = pressedTrigger.getAttribute(this.PRESSED);\n\n        item.classList.toggle(toggleClass);\n\n        if(ariaPressed) this.toggleAriaPressed(ariaPressed, pressedTrigger);\n\n        if(groupId) this.toggleIdleGroupMembers(groupId, pressedTriggerId, toggleClass);\n    }\n\n    toggleIdleGroupMembers (groupId, pressedTriggerId, toggleClass) {\n        let query = `[${this.GROUP}=\"${groupId}\"][${this.TRIGGER}]:not([${this.TRIGGER}=\"${pressedTriggerId}\"])`\n        let idleTriggers = document.querySelectorAll(query);\n\n        idleTriggers.forEach((idleTrigger=>{\n            this.removeClassFromTriggeredItem(idleTrigger, toggleClass);\n\n            let ariaPressed = idleTrigger.getAttribute(this.PRESSED);\n\n            if(ariaPressed) this.toggleAriaPressed(ariaPressed, idleTrigger, true);\n        }));\n    }\n\n    removeClassFromTriggeredItem (idleTrigger, toggleClass) {\n        let id = idleTrigger.getAttribute(this.TRIGGER);\n        let triggeredItem = document.querySelector(`[${this.ITEM}=\"${id}\"]`);\n\n        triggeredItem.classList.remove(toggleClass);\n    }\n\n    toggleAriaPressed (ariaPressed, element, idle = false) {\n        if(ariaPressed === 'false' && !idle){\n            element.setAttribute(this.PRESSED, 'true');\n        }else{\n            element.setAttribute(this.PRESSED, 'false');\n        }\n    }\n\n    applyToggle (event = null) {\n        let triggers = document.querySelectorAll(`[${this.TRIGGER}]`);\n\n        if(event) {\n            let newTriggers = []\n            event.forEach((record)=>{\n                record.addedNodes.forEach((node) =>{\n                    if(node.getAttribute && node.getAttribute('js-toggle-trigger')) {\n                        newTriggers.push(node);\n                    }\n                })\n            })\n            triggers = newTriggers;\n        }\n\n        triggers.forEach( (trigger)=>{\n            trigger.addEventListener('click', (event) => {\n                let triggerId = trigger.getAttribute(this.TRIGGER);\n                let groupId = trigger.getAttribute(this.GROUP);\n                \n                this.togglePressedTrigger(triggerId, groupId, trigger);\n            });\n        })\n    }\n\n    observeTriggers(){\n        \n        const container = document.documentElement || document.body;\n        const observerOptions = {\n            childList: true,\n            subtree: true,\n        };\n \n        const observer = new MutationObserver((event) => {\n            this.applyToggle(event);\n        });\n        \n        observer.observe(container, observerOptions);    \n    }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGhlbHNpbmdib3JnLXN0YWQvc3R5bGVndWlkZS9zb3VyY2UvanMvdG9nZ2xlLmpzP2RkYjEiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLHdCQUF3QixVQUFVLElBQUksaUJBQWlCO0FBQ3ZEO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0Esd0JBQXdCLFdBQVcsSUFBSSxRQUFRLEtBQUssYUFBYSxTQUFTLGFBQWEsSUFBSSxpQkFBaUI7QUFDNUc7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0EsdURBQXVELFVBQVUsSUFBSSxHQUFHOztBQUV4RTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxxREFBcUQsYUFBYTs7QUFFbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7O0FBRVQscUQ7QUFDQTtBQUNBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL0BoZWxzaW5nYm9yZy1zdGFkL3N0eWxlZ3VpZGUvc291cmNlL2pzL3RvZ2dsZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIFRvZ2dsZUNsYXNzZXMge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLlRSSUdHRVIgPSAnanMtdG9nZ2xlLXRyaWdnZXInO1xuICAgICAgICB0aGlzLklURU0gPSAnanMtdG9nZ2xlLWl0ZW0nO1xuICAgICAgICB0aGlzLkNMQVNTID0gJ2pzLXRvZ2dsZS1jbGFzcyc7XG4gICAgICAgIHRoaXMuR1JPVVAgPSAnanMtdG9nZ2xlLWdyb3VwJztcbiAgICAgICAgdGhpcy5QUkVTU0VEID0gJ2FyaWEtcHJlc3NlZCc7XG4gICAgICAgIHRoaXMub2JzZXJ2ZVRyaWdnZXJzKCk7XG4gICAgfVxuXG4gICAgdG9nZ2xlUHJlc3NlZFRyaWdnZXIgKHByZXNzZWRUcmlnZ2VySWQsIGdyb3VwSWQsIHByZXNzZWRUcmlnZ2VyKSB7XG4gICAgICAgIGxldCBxdWVyeSA9IGBbJHt0aGlzLklURU19PVwiJHtwcmVzc2VkVHJpZ2dlcklkfVwiXWA7XG4gICAgICAgIGxldCBpdGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihxdWVyeSk7XG4gICAgICAgIGxldCB0b2dnbGVDbGFzcyA9IGl0ZW0uZ2V0QXR0cmlidXRlKHRoaXMuQ0xBU1MpO1xuICAgICAgICBsZXQgYXJpYVByZXNzZWQgPSBwcmVzc2VkVHJpZ2dlci5nZXRBdHRyaWJ1dGUodGhpcy5QUkVTU0VEKTtcblxuICAgICAgICBpdGVtLmNsYXNzTGlzdC50b2dnbGUodG9nZ2xlQ2xhc3MpO1xuXG4gICAgICAgIGlmKGFyaWFQcmVzc2VkKSB0aGlzLnRvZ2dsZUFyaWFQcmVzc2VkKGFyaWFQcmVzc2VkLCBwcmVzc2VkVHJpZ2dlcik7XG5cbiAgICAgICAgaWYoZ3JvdXBJZCkgdGhpcy50b2dnbGVJZGxlR3JvdXBNZW1iZXJzKGdyb3VwSWQsIHByZXNzZWRUcmlnZ2VySWQsIHRvZ2dsZUNsYXNzKTtcbiAgICB9XG5cbiAgICB0b2dnbGVJZGxlR3JvdXBNZW1iZXJzIChncm91cElkLCBwcmVzc2VkVHJpZ2dlcklkLCB0b2dnbGVDbGFzcykge1xuICAgICAgICBsZXQgcXVlcnkgPSBgWyR7dGhpcy5HUk9VUH09XCIke2dyb3VwSWR9XCJdWyR7dGhpcy5UUklHR0VSfV06bm90KFske3RoaXMuVFJJR0dFUn09XCIke3ByZXNzZWRUcmlnZ2VySWR9XCJdKWBcbiAgICAgICAgbGV0IGlkbGVUcmlnZ2VycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwocXVlcnkpO1xuXG4gICAgICAgIGlkbGVUcmlnZ2Vycy5mb3JFYWNoKChpZGxlVHJpZ2dlcj0+e1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVDbGFzc0Zyb21UcmlnZ2VyZWRJdGVtKGlkbGVUcmlnZ2VyLCB0b2dnbGVDbGFzcyk7XG5cbiAgICAgICAgICAgIGxldCBhcmlhUHJlc3NlZCA9IGlkbGVUcmlnZ2VyLmdldEF0dHJpYnV0ZSh0aGlzLlBSRVNTRUQpO1xuXG4gICAgICAgICAgICBpZihhcmlhUHJlc3NlZCkgdGhpcy50b2dnbGVBcmlhUHJlc3NlZChhcmlhUHJlc3NlZCwgaWRsZVRyaWdnZXIsIHRydWUpO1xuICAgICAgICB9KSk7XG4gICAgfVxuXG4gICAgcmVtb3ZlQ2xhc3NGcm9tVHJpZ2dlcmVkSXRlbSAoaWRsZVRyaWdnZXIsIHRvZ2dsZUNsYXNzKSB7XG4gICAgICAgIGxldCBpZCA9IGlkbGVUcmlnZ2VyLmdldEF0dHJpYnV0ZSh0aGlzLlRSSUdHRVIpO1xuICAgICAgICBsZXQgdHJpZ2dlcmVkSXRlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFske3RoaXMuSVRFTX09XCIke2lkfVwiXWApO1xuXG4gICAgICAgIHRyaWdnZXJlZEl0ZW0uY2xhc3NMaXN0LnJlbW92ZSh0b2dnbGVDbGFzcyk7XG4gICAgfVxuXG4gICAgdG9nZ2xlQXJpYVByZXNzZWQgKGFyaWFQcmVzc2VkLCBlbGVtZW50LCBpZGxlID0gZmFsc2UpIHtcbiAgICAgICAgaWYoYXJpYVByZXNzZWQgPT09ICdmYWxzZScgJiYgIWlkbGUpe1xuICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUodGhpcy5QUkVTU0VELCAndHJ1ZScpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKHRoaXMuUFJFU1NFRCwgJ2ZhbHNlJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhcHBseVRvZ2dsZSAoZXZlbnQgPSBudWxsKSB7XG4gICAgICAgIGxldCB0cmlnZ2VycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYFske3RoaXMuVFJJR0dFUn1dYCk7XG5cbiAgICAgICAgaWYoZXZlbnQpIHtcbiAgICAgICAgICAgIGxldCBuZXdUcmlnZ2VycyA9IFtdXG4gICAgICAgICAgICBldmVudC5mb3JFYWNoKChyZWNvcmQpPT57XG4gICAgICAgICAgICAgICAgcmVjb3JkLmFkZGVkTm9kZXMuZm9yRWFjaCgobm9kZSkgPT57XG4gICAgICAgICAgICAgICAgICAgIGlmKG5vZGUuZ2V0QXR0cmlidXRlICYmIG5vZGUuZ2V0QXR0cmlidXRlKCdqcy10b2dnbGUtdHJpZ2dlcicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdUcmlnZ2Vycy5wdXNoKG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB0cmlnZ2VycyA9IG5ld1RyaWdnZXJzO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJpZ2dlcnMuZm9yRWFjaCggKHRyaWdnZXIpPT57XG4gICAgICAgICAgICB0cmlnZ2VyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IHRyaWdnZXJJZCA9IHRyaWdnZXIuZ2V0QXR0cmlidXRlKHRoaXMuVFJJR0dFUik7XG4gICAgICAgICAgICAgICAgbGV0IGdyb3VwSWQgPSB0cmlnZ2VyLmdldEF0dHJpYnV0ZSh0aGlzLkdST1VQKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZVByZXNzZWRUcmlnZ2VyKHRyaWdnZXJJZCwgZ3JvdXBJZCwgdHJpZ2dlcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBvYnNlcnZlVHJpZ2dlcnMoKXtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCB8fCBkb2N1bWVudC5ib2R5O1xuICAgICAgICBjb25zdCBvYnNlcnZlck9wdGlvbnMgPSB7XG4gICAgICAgICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICAgICAgICBzdWJ0cmVlOiB0cnVlLFxuICAgICAgICB9O1xuIFxuICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKChldmVudCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5hcHBseVRvZ2dsZShldmVudCk7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShjb250YWluZXIsIG9ic2VydmVyT3B0aW9ucyk7ICAgIFxuICAgIH1cbn0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@helsingborg-stad/styleguide/source/js/toggle.js\n");

/***/ }),

/***/ "./node_modules/ansi-regex/index.js":
/*!******************************************!*\
  !*** ./node_modules/ansi-regex/index.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nmodule.exports = function () {\n\treturn /[\\u001b\\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-PRZcf-nqry=><]/g;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW5zaS1yZWdleC9pbmRleC5qcz85ZWVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQSw2QkFBNkIsWUFBWSxJQUFJLElBQUksTUFBTSxJQUFJO0FBQzNEIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL2Fuc2ktcmVnZXgvaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICgpIHtcblx0cmV0dXJuIC9bXFx1MDAxYlxcdTAwOWJdW1soKSM7P10qKD86WzAtOV17MSw0fSg/OjtbMC05XXswLDR9KSopP1swLTlBLVBSWmNmLW5xcnk9PjxdL2c7XG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/ansi-regex/index.js\n");

/***/ }),

/***/ "./node_modules/ansi-styles/index.js":
/*!*******************************************!*\
  !*** ./node_modules/ansi-styles/index.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(module) {\n\nfunction assembleStyles () {\n\tvar styles = {\n\t\tmodifiers: {\n\t\t\treset: [0, 0],\n\t\t\tbold: [1, 22], // 21 isn't widely supported and 22 does the same thing\n\t\t\tdim: [2, 22],\n\t\t\titalic: [3, 23],\n\t\t\tunderline: [4, 24],\n\t\t\tinverse: [7, 27],\n\t\t\thidden: [8, 28],\n\t\t\tstrikethrough: [9, 29]\n\t\t},\n\t\tcolors: {\n\t\t\tblack: [30, 39],\n\t\t\tred: [31, 39],\n\t\t\tgreen: [32, 39],\n\t\t\tyellow: [33, 39],\n\t\t\tblue: [34, 39],\n\t\t\tmagenta: [35, 39],\n\t\t\tcyan: [36, 39],\n\t\t\twhite: [37, 39],\n\t\t\tgray: [90, 39]\n\t\t},\n\t\tbgColors: {\n\t\t\tbgBlack: [40, 49],\n\t\t\tbgRed: [41, 49],\n\t\t\tbgGreen: [42, 49],\n\t\t\tbgYellow: [43, 49],\n\t\t\tbgBlue: [44, 49],\n\t\t\tbgMagenta: [45, 49],\n\t\t\tbgCyan: [46, 49],\n\t\t\tbgWhite: [47, 49]\n\t\t}\n\t};\n\n\t// fix humans\n\tstyles.colors.grey = styles.colors.gray;\n\n\tObject.keys(styles).forEach(function (groupName) {\n\t\tvar group = styles[groupName];\n\n\t\tObject.keys(group).forEach(function (styleName) {\n\t\t\tvar style = group[styleName];\n\n\t\t\tstyles[styleName] = group[styleName] = {\n\t\t\t\topen: '\\u001b[' + style[0] + 'm',\n\t\t\t\tclose: '\\u001b[' + style[1] + 'm'\n\t\t\t};\n\t\t});\n\n\t\tObject.defineProperty(styles, groupName, {\n\t\t\tvalue: group,\n\t\t\tenumerable: false\n\t\t});\n\t});\n\n\treturn styles;\n}\n\nObject.defineProperty(module, 'exports', {\n\tenumerable: true,\n\tget: assembleStyles\n});\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/module.js */ \"./node_modules/webpack/buildin/module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW5zaS1zdHlsZXMvaW5kZXguanM/OGEzMCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSw4Q0FBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCxFQUFFOztBQUVGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9hbnNpLXN0eWxlcy9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcblxuZnVuY3Rpb24gYXNzZW1ibGVTdHlsZXMgKCkge1xuXHR2YXIgc3R5bGVzID0ge1xuXHRcdG1vZGlmaWVyczoge1xuXHRcdFx0cmVzZXQ6IFswLCAwXSxcblx0XHRcdGJvbGQ6IFsxLCAyMl0sIC8vIDIxIGlzbid0IHdpZGVseSBzdXBwb3J0ZWQgYW5kIDIyIGRvZXMgdGhlIHNhbWUgdGhpbmdcblx0XHRcdGRpbTogWzIsIDIyXSxcblx0XHRcdGl0YWxpYzogWzMsIDIzXSxcblx0XHRcdHVuZGVybGluZTogWzQsIDI0XSxcblx0XHRcdGludmVyc2U6IFs3LCAyN10sXG5cdFx0XHRoaWRkZW46IFs4LCAyOF0sXG5cdFx0XHRzdHJpa2V0aHJvdWdoOiBbOSwgMjldXG5cdFx0fSxcblx0XHRjb2xvcnM6IHtcblx0XHRcdGJsYWNrOiBbMzAsIDM5XSxcblx0XHRcdHJlZDogWzMxLCAzOV0sXG5cdFx0XHRncmVlbjogWzMyLCAzOV0sXG5cdFx0XHR5ZWxsb3c6IFszMywgMzldLFxuXHRcdFx0Ymx1ZTogWzM0LCAzOV0sXG5cdFx0XHRtYWdlbnRhOiBbMzUsIDM5XSxcblx0XHRcdGN5YW46IFszNiwgMzldLFxuXHRcdFx0d2hpdGU6IFszNywgMzldLFxuXHRcdFx0Z3JheTogWzkwLCAzOV1cblx0XHR9LFxuXHRcdGJnQ29sb3JzOiB7XG5cdFx0XHRiZ0JsYWNrOiBbNDAsIDQ5XSxcblx0XHRcdGJnUmVkOiBbNDEsIDQ5XSxcblx0XHRcdGJnR3JlZW46IFs0MiwgNDldLFxuXHRcdFx0YmdZZWxsb3c6IFs0MywgNDldLFxuXHRcdFx0YmdCbHVlOiBbNDQsIDQ5XSxcblx0XHRcdGJnTWFnZW50YTogWzQ1LCA0OV0sXG5cdFx0XHRiZ0N5YW46IFs0NiwgNDldLFxuXHRcdFx0YmdXaGl0ZTogWzQ3LCA0OV1cblx0XHR9XG5cdH07XG5cblx0Ly8gZml4IGh1bWFuc1xuXHRzdHlsZXMuY29sb3JzLmdyZXkgPSBzdHlsZXMuY29sb3JzLmdyYXk7XG5cblx0T2JqZWN0LmtleXMoc3R5bGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChncm91cE5hbWUpIHtcblx0XHR2YXIgZ3JvdXAgPSBzdHlsZXNbZ3JvdXBOYW1lXTtcblxuXHRcdE9iamVjdC5rZXlzKGdyb3VwKS5mb3JFYWNoKGZ1bmN0aW9uIChzdHlsZU5hbWUpIHtcblx0XHRcdHZhciBzdHlsZSA9IGdyb3VwW3N0eWxlTmFtZV07XG5cblx0XHRcdHN0eWxlc1tzdHlsZU5hbWVdID0gZ3JvdXBbc3R5bGVOYW1lXSA9IHtcblx0XHRcdFx0b3BlbjogJ1xcdTAwMWJbJyArIHN0eWxlWzBdICsgJ20nLFxuXHRcdFx0XHRjbG9zZTogJ1xcdTAwMWJbJyArIHN0eWxlWzFdICsgJ20nXG5cdFx0XHR9O1xuXHRcdH0pO1xuXG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KHN0eWxlcywgZ3JvdXBOYW1lLCB7XG5cdFx0XHR2YWx1ZTogZ3JvdXAsXG5cdFx0XHRlbnVtZXJhYmxlOiBmYWxzZVxuXHRcdH0pO1xuXHR9KTtcblxuXHRyZXR1cm4gc3R5bGVzO1xufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCAnZXhwb3J0cycsIHtcblx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0Z2V0OiBhc3NlbWJsZVN0eWxlc1xufSk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/ansi-styles/index.js\n");

/***/ }),

/***/ "./node_modules/chalk/index.js":
/*!*************************************!*\
  !*** ./node_modules/chalk/index.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(process) {\nvar escapeStringRegexp = __webpack_require__(/*! escape-string-regexp */ \"./node_modules/escape-string-regexp/index.js\");\nvar ansiStyles = __webpack_require__(/*! ansi-styles */ \"./node_modules/ansi-styles/index.js\");\nvar stripAnsi = __webpack_require__(/*! strip-ansi */ \"./node_modules/strip-ansi/index.js\");\nvar hasAnsi = __webpack_require__(/*! has-ansi */ \"./node_modules/has-ansi/index.js\");\nvar supportsColor = __webpack_require__(/*! supports-color */ \"./node_modules/supports-color/index.js\");\nvar defineProps = Object.defineProperties;\nvar isSimpleWindowsTerm = process.platform === 'win32' && !/^xterm/i.test(process.env.TERM);\n\nfunction Chalk(options) {\n\t// detect mode if not set manually\n\tthis.enabled = !options || options.enabled === undefined ? supportsColor : options.enabled;\n}\n\n// use bright blue on Windows as the normal blue color is illegible\nif (isSimpleWindowsTerm) {\n\tansiStyles.blue.open = '\\u001b[94m';\n}\n\nvar styles = (function () {\n\tvar ret = {};\n\n\tObject.keys(ansiStyles).forEach(function (key) {\n\t\tansiStyles[key].closeRe = new RegExp(escapeStringRegexp(ansiStyles[key].close), 'g');\n\n\t\tret[key] = {\n\t\t\tget: function () {\n\t\t\t\treturn build.call(this, this._styles.concat(key));\n\t\t\t}\n\t\t};\n\t});\n\n\treturn ret;\n})();\n\nvar proto = defineProps(function chalk() {}, styles);\n\nfunction build(_styles) {\n\tvar builder = function () {\n\t\treturn applyStyle.apply(builder, arguments);\n\t};\n\n\tbuilder._styles = _styles;\n\tbuilder.enabled = this.enabled;\n\t// __proto__ is used because we must return a function, but there is\n\t// no way to create a function with a different prototype.\n\t/* eslint-disable no-proto */\n\tbuilder.__proto__ = proto;\n\n\treturn builder;\n}\n\nfunction applyStyle() {\n\t// support varags, but simply cast to string in case there's only one arg\n\tvar args = arguments;\n\tvar argsLen = args.length;\n\tvar str = argsLen !== 0 && String(arguments[0]);\n\n\tif (argsLen > 1) {\n\t\t// don't slice `arguments`, it prevents v8 optimizations\n\t\tfor (var a = 1; a < argsLen; a++) {\n\t\t\tstr += ' ' + args[a];\n\t\t}\n\t}\n\n\tif (!this.enabled || !str) {\n\t\treturn str;\n\t}\n\n\tvar nestedStyles = this._styles;\n\tvar i = nestedStyles.length;\n\n\t// Turns out that on Windows dimmed gray text becomes invisible in cmd.exe,\n\t// see https://github.com/chalk/chalk/issues/58\n\t// If we're on Windows and we're dealing with a gray color, temporarily make 'dim' a noop.\n\tvar originalDim = ansiStyles.dim.open;\n\tif (isSimpleWindowsTerm && (nestedStyles.indexOf('gray') !== -1 || nestedStyles.indexOf('grey') !== -1)) {\n\t\tansiStyles.dim.open = '';\n\t}\n\n\twhile (i--) {\n\t\tvar code = ansiStyles[nestedStyles[i]];\n\n\t\t// Replace any instances already present with a re-opening code\n\t\t// otherwise only the part of the string until said closing code\n\t\t// will be colored, and the rest will simply be 'plain'.\n\t\tstr = code.open + str.replace(code.closeRe, code.open) + code.close;\n\t}\n\n\t// Reset the original 'dim' if we changed it to work around the Windows dimmed gray issue.\n\tansiStyles.dim.open = originalDim;\n\n\treturn str;\n}\n\nfunction init() {\n\tvar ret = {};\n\n\tObject.keys(styles).forEach(function (name) {\n\t\tret[name] = {\n\t\t\tget: function () {\n\t\t\t\treturn build.call(this, [name]);\n\t\t\t}\n\t\t};\n\t});\n\n\treturn ret;\n}\n\ndefineProps(Chalk.prototype, init());\n\nmodule.exports = new Chalk();\nmodule.exports.styles = ansiStyles;\nmodule.exports.hasColor = hasAnsi;\nmodule.exports.stripColor = stripAnsi;\nmodule.exports.supportsColor = supportsColor;\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../process/browser.js */ \"./node_modules/process/browser.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2hhbGsvaW5kZXguanM/ZTA5NCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSwrQ0FBYTtBQUNiLHlCQUF5QixtQkFBTyxDQUFDLDBFQUFzQjtBQUN2RCxpQkFBaUIsbUJBQU8sQ0FBQyx3REFBYTtBQUN0QyxnQkFBZ0IsbUJBQU8sQ0FBQyxzREFBWTtBQUNwQyxjQUFjLG1CQUFPLENBQUMsa0RBQVU7QUFDaEMsb0JBQW9CLG1CQUFPLENBQUMsOERBQWdCO0FBQzVDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFOztBQUVGO0FBQ0EsQ0FBQzs7QUFFRCwyQ0FBMkM7O0FBRTNDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGlCQUFpQixhQUFhO0FBQzlCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvY2hhbGsvaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG52YXIgZXNjYXBlU3RyaW5nUmVnZXhwID0gcmVxdWlyZSgnZXNjYXBlLXN0cmluZy1yZWdleHAnKTtcbnZhciBhbnNpU3R5bGVzID0gcmVxdWlyZSgnYW5zaS1zdHlsZXMnKTtcbnZhciBzdHJpcEFuc2kgPSByZXF1aXJlKCdzdHJpcC1hbnNpJyk7XG52YXIgaGFzQW5zaSA9IHJlcXVpcmUoJ2hhcy1hbnNpJyk7XG52YXIgc3VwcG9ydHNDb2xvciA9IHJlcXVpcmUoJ3N1cHBvcnRzLWNvbG9yJyk7XG52YXIgZGVmaW5lUHJvcHMgPSBPYmplY3QuZGVmaW5lUHJvcGVydGllcztcbnZhciBpc1NpbXBsZVdpbmRvd3NUZXJtID0gcHJvY2Vzcy5wbGF0Zm9ybSA9PT0gJ3dpbjMyJyAmJiAhL154dGVybS9pLnRlc3QocHJvY2Vzcy5lbnYuVEVSTSk7XG5cbmZ1bmN0aW9uIENoYWxrKG9wdGlvbnMpIHtcblx0Ly8gZGV0ZWN0IG1vZGUgaWYgbm90IHNldCBtYW51YWxseVxuXHR0aGlzLmVuYWJsZWQgPSAhb3B0aW9ucyB8fCBvcHRpb25zLmVuYWJsZWQgPT09IHVuZGVmaW5lZCA/IHN1cHBvcnRzQ29sb3IgOiBvcHRpb25zLmVuYWJsZWQ7XG59XG5cbi8vIHVzZSBicmlnaHQgYmx1ZSBvbiBXaW5kb3dzIGFzIHRoZSBub3JtYWwgYmx1ZSBjb2xvciBpcyBpbGxlZ2libGVcbmlmIChpc1NpbXBsZVdpbmRvd3NUZXJtKSB7XG5cdGFuc2lTdHlsZXMuYmx1ZS5vcGVuID0gJ1xcdTAwMWJbOTRtJztcbn1cblxudmFyIHN0eWxlcyA9IChmdW5jdGlvbiAoKSB7XG5cdHZhciByZXQgPSB7fTtcblxuXHRPYmplY3Qua2V5cyhhbnNpU3R5bGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcblx0XHRhbnNpU3R5bGVzW2tleV0uY2xvc2VSZSA9IG5ldyBSZWdFeHAoZXNjYXBlU3RyaW5nUmVnZXhwKGFuc2lTdHlsZXNba2V5XS5jbG9zZSksICdnJyk7XG5cblx0XHRyZXRba2V5XSA9IHtcblx0XHRcdGdldDogZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRyZXR1cm4gYnVpbGQuY2FsbCh0aGlzLCB0aGlzLl9zdHlsZXMuY29uY2F0KGtleSkpO1xuXHRcdFx0fVxuXHRcdH07XG5cdH0pO1xuXG5cdHJldHVybiByZXQ7XG59KSgpO1xuXG52YXIgcHJvdG8gPSBkZWZpbmVQcm9wcyhmdW5jdGlvbiBjaGFsaygpIHt9LCBzdHlsZXMpO1xuXG5mdW5jdGlvbiBidWlsZChfc3R5bGVzKSB7XG5cdHZhciBidWlsZGVyID0gZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiBhcHBseVN0eWxlLmFwcGx5KGJ1aWxkZXIsIGFyZ3VtZW50cyk7XG5cdH07XG5cblx0YnVpbGRlci5fc3R5bGVzID0gX3N0eWxlcztcblx0YnVpbGRlci5lbmFibGVkID0gdGhpcy5lbmFibGVkO1xuXHQvLyBfX3Byb3RvX18gaXMgdXNlZCBiZWNhdXNlIHdlIG11c3QgcmV0dXJuIGEgZnVuY3Rpb24sIGJ1dCB0aGVyZSBpc1xuXHQvLyBubyB3YXkgdG8gY3JlYXRlIGEgZnVuY3Rpb24gd2l0aCBhIGRpZmZlcmVudCBwcm90b3R5cGUuXG5cdC8qIGVzbGludC1kaXNhYmxlIG5vLXByb3RvICovXG5cdGJ1aWxkZXIuX19wcm90b19fID0gcHJvdG87XG5cblx0cmV0dXJuIGJ1aWxkZXI7XG59XG5cbmZ1bmN0aW9uIGFwcGx5U3R5bGUoKSB7XG5cdC8vIHN1cHBvcnQgdmFyYWdzLCBidXQgc2ltcGx5IGNhc3QgdG8gc3RyaW5nIGluIGNhc2UgdGhlcmUncyBvbmx5IG9uZSBhcmdcblx0dmFyIGFyZ3MgPSBhcmd1bWVudHM7XG5cdHZhciBhcmdzTGVuID0gYXJncy5sZW5ndGg7XG5cdHZhciBzdHIgPSBhcmdzTGVuICE9PSAwICYmIFN0cmluZyhhcmd1bWVudHNbMF0pO1xuXG5cdGlmIChhcmdzTGVuID4gMSkge1xuXHRcdC8vIGRvbid0IHNsaWNlIGBhcmd1bWVudHNgLCBpdCBwcmV2ZW50cyB2OCBvcHRpbWl6YXRpb25zXG5cdFx0Zm9yICh2YXIgYSA9IDE7IGEgPCBhcmdzTGVuOyBhKyspIHtcblx0XHRcdHN0ciArPSAnICcgKyBhcmdzW2FdO1xuXHRcdH1cblx0fVxuXG5cdGlmICghdGhpcy5lbmFibGVkIHx8ICFzdHIpIHtcblx0XHRyZXR1cm4gc3RyO1xuXHR9XG5cblx0dmFyIG5lc3RlZFN0eWxlcyA9IHRoaXMuX3N0eWxlcztcblx0dmFyIGkgPSBuZXN0ZWRTdHlsZXMubGVuZ3RoO1xuXG5cdC8vIFR1cm5zIG91dCB0aGF0IG9uIFdpbmRvd3MgZGltbWVkIGdyYXkgdGV4dCBiZWNvbWVzIGludmlzaWJsZSBpbiBjbWQuZXhlLFxuXHQvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL2NoYWxrL2NoYWxrL2lzc3Vlcy81OFxuXHQvLyBJZiB3ZSdyZSBvbiBXaW5kb3dzIGFuZCB3ZSdyZSBkZWFsaW5nIHdpdGggYSBncmF5IGNvbG9yLCB0ZW1wb3JhcmlseSBtYWtlICdkaW0nIGEgbm9vcC5cblx0dmFyIG9yaWdpbmFsRGltID0gYW5zaVN0eWxlcy5kaW0ub3Blbjtcblx0aWYgKGlzU2ltcGxlV2luZG93c1Rlcm0gJiYgKG5lc3RlZFN0eWxlcy5pbmRleE9mKCdncmF5JykgIT09IC0xIHx8IG5lc3RlZFN0eWxlcy5pbmRleE9mKCdncmV5JykgIT09IC0xKSkge1xuXHRcdGFuc2lTdHlsZXMuZGltLm9wZW4gPSAnJztcblx0fVxuXG5cdHdoaWxlIChpLS0pIHtcblx0XHR2YXIgY29kZSA9IGFuc2lTdHlsZXNbbmVzdGVkU3R5bGVzW2ldXTtcblxuXHRcdC8vIFJlcGxhY2UgYW55IGluc3RhbmNlcyBhbHJlYWR5IHByZXNlbnQgd2l0aCBhIHJlLW9wZW5pbmcgY29kZVxuXHRcdC8vIG90aGVyd2lzZSBvbmx5IHRoZSBwYXJ0IG9mIHRoZSBzdHJpbmcgdW50aWwgc2FpZCBjbG9zaW5nIGNvZGVcblx0XHQvLyB3aWxsIGJlIGNvbG9yZWQsIGFuZCB0aGUgcmVzdCB3aWxsIHNpbXBseSBiZSAncGxhaW4nLlxuXHRcdHN0ciA9IGNvZGUub3BlbiArIHN0ci5yZXBsYWNlKGNvZGUuY2xvc2VSZSwgY29kZS5vcGVuKSArIGNvZGUuY2xvc2U7XG5cdH1cblxuXHQvLyBSZXNldCB0aGUgb3JpZ2luYWwgJ2RpbScgaWYgd2UgY2hhbmdlZCBpdCB0byB3b3JrIGFyb3VuZCB0aGUgV2luZG93cyBkaW1tZWQgZ3JheSBpc3N1ZS5cblx0YW5zaVN0eWxlcy5kaW0ub3BlbiA9IG9yaWdpbmFsRGltO1xuXG5cdHJldHVybiBzdHI7XG59XG5cbmZ1bmN0aW9uIGluaXQoKSB7XG5cdHZhciByZXQgPSB7fTtcblxuXHRPYmplY3Qua2V5cyhzdHlsZXMpLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcblx0XHRyZXRbbmFtZV0gPSB7XG5cdFx0XHRnZXQ6IGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0cmV0dXJuIGJ1aWxkLmNhbGwodGhpcywgW25hbWVdKTtcblx0XHRcdH1cblx0XHR9O1xuXHR9KTtcblxuXHRyZXR1cm4gcmV0O1xufVxuXG5kZWZpbmVQcm9wcyhDaGFsay5wcm90b3R5cGUsIGluaXQoKSk7XG5cbm1vZHVsZS5leHBvcnRzID0gbmV3IENoYWxrKCk7XG5tb2R1bGUuZXhwb3J0cy5zdHlsZXMgPSBhbnNpU3R5bGVzO1xubW9kdWxlLmV4cG9ydHMuaGFzQ29sb3IgPSBoYXNBbnNpO1xubW9kdWxlLmV4cG9ydHMuc3RyaXBDb2xvciA9IHN0cmlwQW5zaTtcbm1vZHVsZS5leHBvcnRzLnN1cHBvcnRzQ29sb3IgPSBzdXBwb3J0c0NvbG9yO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/chalk/index.js\n");

/***/ }),

/***/ "./node_modules/desandro-matches-selector/matches-selector.js":
/*!********************************************************************!*\
  !*** ./node_modules/desandro-matches-selector/matches-selector.js ***!
  \********************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n * matchesSelector v2.0.2\n * matchesSelector( element, '.selector' )\n * MIT license\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true */\n\n( function( window, factory ) {\n  /*global define: false, module: false */\n  'use strict';\n  // universal module definition\n  if ( true ) {\n    // AMD\n    !(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :\n\t\t\t\t__WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n\n}( window, function factory() {\n  'use strict';\n\n  var matchesMethod = ( function() {\n    var ElemProto = window.Element.prototype;\n    // check for the standard method name first\n    if ( ElemProto.matches ) {\n      return 'matches';\n    }\n    // check un-prefixed\n    if ( ElemProto.matchesSelector ) {\n      return 'matchesSelector';\n    }\n    // check vendor prefixes\n    var prefixes = [ 'webkit', 'moz', 'ms', 'o' ];\n\n    for ( var i=0; i < prefixes.length; i++ ) {\n      var prefix = prefixes[i];\n      var method = prefix + 'MatchesSelector';\n      if ( ElemProto[ method ] ) {\n        return method;\n      }\n    }\n  })();\n\n  return function matchesSelector( elem, selector ) {\n    return elem[ matchesMethod ]( selector );\n  };\n\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGVzYW5kcm8tbWF0Y2hlcy1zZWxlY3Rvci9tYXRjaGVzLXNlbGVjdG9yLmpzP2M3NDUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sSUFBeUM7QUFDaEQ7QUFDQSxJQUFJLG9DQUFRLE9BQU87QUFBQTtBQUFBO0FBQUE7QUFBQSxvR0FBRTtBQUNyQixHQUFHLE1BQU0sRUFNTjs7QUFFSCxDQUFDO0FBQ0Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGtCQUFrQixxQkFBcUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7O0FBRUEsQ0FBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9kZXNhbmRyby1tYXRjaGVzLXNlbGVjdG9yL21hdGNoZXMtc2VsZWN0b3IuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIG1hdGNoZXNTZWxlY3RvciB2Mi4wLjJcbiAqIG1hdGNoZXNTZWxlY3RvciggZWxlbWVudCwgJy5zZWxlY3RvcicgKVxuICogTUlUIGxpY2Vuc2VcbiAqL1xuXG4vKmpzaGludCBicm93c2VyOiB0cnVlLCBzdHJpY3Q6IHRydWUsIHVuZGVmOiB0cnVlLCB1bnVzZWQ6IHRydWUgKi9cblxuKCBmdW5jdGlvbiggd2luZG93LCBmYWN0b3J5ICkge1xuICAvKmdsb2JhbCBkZWZpbmU6IGZhbHNlLCBtb2R1bGU6IGZhbHNlICovXG4gICd1c2Ugc3RyaWN0JztcbiAgLy8gdW5pdmVyc2FsIG1vZHVsZSBkZWZpbml0aW9uXG4gIGlmICggdHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgKSB7XG4gICAgLy8gQU1EXG4gICAgZGVmaW5lKCBmYWN0b3J5ICk7XG4gIH0gZWxzZSBpZiAoIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMgKSB7XG4gICAgLy8gQ29tbW9uSlNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBicm93c2VyIGdsb2JhbFxuICAgIHdpbmRvdy5tYXRjaGVzU2VsZWN0b3IgPSBmYWN0b3J5KCk7XG4gIH1cblxufSggd2luZG93LCBmdW5jdGlvbiBmYWN0b3J5KCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIG1hdGNoZXNNZXRob2QgPSAoIGZ1bmN0aW9uKCkge1xuICAgIHZhciBFbGVtUHJvdG8gPSB3aW5kb3cuRWxlbWVudC5wcm90b3R5cGU7XG4gICAgLy8gY2hlY2sgZm9yIHRoZSBzdGFuZGFyZCBtZXRob2QgbmFtZSBmaXJzdFxuICAgIGlmICggRWxlbVByb3RvLm1hdGNoZXMgKSB7XG4gICAgICByZXR1cm4gJ21hdGNoZXMnO1xuICAgIH1cbiAgICAvLyBjaGVjayB1bi1wcmVmaXhlZFxuICAgIGlmICggRWxlbVByb3RvLm1hdGNoZXNTZWxlY3RvciApIHtcbiAgICAgIHJldHVybiAnbWF0Y2hlc1NlbGVjdG9yJztcbiAgICB9XG4gICAgLy8gY2hlY2sgdmVuZG9yIHByZWZpeGVzXG4gICAgdmFyIHByZWZpeGVzID0gWyAnd2Via2l0JywgJ21veicsICdtcycsICdvJyBdO1xuXG4gICAgZm9yICggdmFyIGk9MDsgaSA8IHByZWZpeGVzLmxlbmd0aDsgaSsrICkge1xuICAgICAgdmFyIHByZWZpeCA9IHByZWZpeGVzW2ldO1xuICAgICAgdmFyIG1ldGhvZCA9IHByZWZpeCArICdNYXRjaGVzU2VsZWN0b3InO1xuICAgICAgaWYgKCBFbGVtUHJvdG9bIG1ldGhvZCBdICkge1xuICAgICAgICByZXR1cm4gbWV0aG9kO1xuICAgICAgfVxuICAgIH1cbiAgfSkoKTtcblxuICByZXR1cm4gZnVuY3Rpb24gbWF0Y2hlc1NlbGVjdG9yKCBlbGVtLCBzZWxlY3RvciApIHtcbiAgICByZXR1cm4gZWxlbVsgbWF0Y2hlc01ldGhvZCBdKCBzZWxlY3RvciApO1xuICB9O1xuXG59KSk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/desandro-matches-selector/matches-selector.js\n");

/***/ }),

/***/ "./node_modules/escape-string-regexp/index.js":
/*!****************************************************!*\
  !*** ./node_modules/escape-string-regexp/index.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar matchOperatorsRe = /[|\\\\{}()[\\]^$+*?.]/g;\n\nmodule.exports = function (str) {\n\tif (typeof str !== 'string') {\n\t\tthrow new TypeError('Expected a string');\n\t}\n\n\treturn str.replace(matchOperatorsRe, '\\\\$&');\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZXNjYXBlLXN0cmluZy1yZWdleHAvaW5kZXguanM/YTMxOCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTs7QUFFYiw4QkFBOEI7O0FBRTlCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZXNjYXBlLXN0cmluZy1yZWdleHAvaW5kZXguanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBtYXRjaE9wZXJhdG9yc1JlID0gL1t8XFxcXHt9KClbXFxdXiQrKj8uXS9nO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzdHIpIHtcblx0aWYgKHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgYSBzdHJpbmcnKTtcblx0fVxuXG5cdHJldHVybiBzdHIucmVwbGFjZShtYXRjaE9wZXJhdG9yc1JlLCAnXFxcXCQmJyk7XG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/escape-string-regexp/index.js\n");

/***/ }),

/***/ "./node_modules/ev-emitter/ev-emitter.js":
/*!***********************************************!*\
  !*** ./node_modules/ev-emitter/ev-emitter.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n * EvEmitter v1.1.0\n * Lil' event emitter\n * MIT License\n */\n\n/* jshint unused: true, undef: true, strict: true */\n\n( function( global, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, window */\n  if ( true ) {\n    // AMD - RequireJS\n    !(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :\n\t\t\t\t__WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n\n}( typeof window != 'undefined' ? window : this, function() {\n\n\"use strict\";\n\nfunction EvEmitter() {}\n\nvar proto = EvEmitter.prototype;\n\nproto.on = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // set events hash\n  var events = this._events = this._events || {};\n  // set listeners array\n  var listeners = events[ eventName ] = events[ eventName ] || [];\n  // only add once\n  if ( listeners.indexOf( listener ) == -1 ) {\n    listeners.push( listener );\n  }\n\n  return this;\n};\n\nproto.once = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // add event\n  this.on( eventName, listener );\n  // set once flag\n  // set onceEvents hash\n  var onceEvents = this._onceEvents = this._onceEvents || {};\n  // set onceListeners object\n  var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || {};\n  // set flag\n  onceListeners[ listener ] = true;\n\n  return this;\n};\n\nproto.off = function( eventName, listener ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  var index = listeners.indexOf( listener );\n  if ( index != -1 ) {\n    listeners.splice( index, 1 );\n  }\n\n  return this;\n};\n\nproto.emitEvent = function( eventName, args ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  // copy over to avoid interference if .off() in listener\n  listeners = listeners.slice(0);\n  args = args || [];\n  // once stuff\n  var onceListeners = this._onceEvents && this._onceEvents[ eventName ];\n\n  for ( var i=0; i < listeners.length; i++ ) {\n    var listener = listeners[i]\n    var isOnce = onceListeners && onceListeners[ listener ];\n    if ( isOnce ) {\n      // remove listener\n      // remove before trigger to prevent recursion\n      this.off( eventName, listener );\n      // unset once flag\n      delete onceListeners[ listener ];\n    }\n    // trigger listener\n    listener.apply( this, args );\n  }\n\n  return this;\n};\n\nproto.allOff = function() {\n  delete this._events;\n  delete this._onceEvents;\n};\n\nreturn EvEmitter;\n\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZXYtZW1pdHRlci9ldi1lbWl0dGVyLmpzPzA5NDkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLElBQXlDO0FBQ2hEO0FBQ0EsSUFBSSxvQ0FBUSxPQUFPO0FBQUE7QUFBQTtBQUFBO0FBQUEsb0dBQUU7QUFDckIsR0FBRyxNQUFNLEVBTU47O0FBRUgsQ0FBQzs7QUFFRDs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGdCQUFnQixzQkFBc0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsQ0FBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9ldi1lbWl0dGVyL2V2LWVtaXR0ZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEV2RW1pdHRlciB2MS4xLjBcbiAqIExpbCcgZXZlbnQgZW1pdHRlclxuICogTUlUIExpY2Vuc2VcbiAqL1xuXG4vKiBqc2hpbnQgdW51c2VkOiB0cnVlLCB1bmRlZjogdHJ1ZSwgc3RyaWN0OiB0cnVlICovXG5cbiggZnVuY3Rpb24oIGdsb2JhbCwgZmFjdG9yeSApIHtcbiAgLy8gdW5pdmVyc2FsIG1vZHVsZSBkZWZpbml0aW9uXG4gIC8qIGpzaGludCBzdHJpY3Q6IGZhbHNlICovIC8qIGdsb2JhbHMgZGVmaW5lLCBtb2R1bGUsIHdpbmRvdyAqL1xuICBpZiAoIHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kICkge1xuICAgIC8vIEFNRCAtIFJlcXVpcmVKU1xuICAgIGRlZmluZSggZmFjdG9yeSApO1xuICB9IGVsc2UgaWYgKCB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzICkge1xuICAgIC8vIENvbW1vbkpTIC0gQnJvd3NlcmlmeSwgV2VicGFja1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICB9IGVsc2Uge1xuICAgIC8vIEJyb3dzZXIgZ2xvYmFsc1xuICAgIGdsb2JhbC5FdkVtaXR0ZXIgPSBmYWN0b3J5KCk7XG4gIH1cblxufSggdHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHRoaXMsIGZ1bmN0aW9uKCkge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gRXZFbWl0dGVyKCkge31cblxudmFyIHByb3RvID0gRXZFbWl0dGVyLnByb3RvdHlwZTtcblxucHJvdG8ub24gPSBmdW5jdGlvbiggZXZlbnROYW1lLCBsaXN0ZW5lciApIHtcbiAgaWYgKCAhZXZlbnROYW1lIHx8ICFsaXN0ZW5lciApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gc2V0IGV2ZW50cyBoYXNoXG4gIHZhciBldmVudHMgPSB0aGlzLl9ldmVudHMgPSB0aGlzLl9ldmVudHMgfHwge307XG4gIC8vIHNldCBsaXN0ZW5lcnMgYXJyYXlcbiAgdmFyIGxpc3RlbmVycyA9IGV2ZW50c1sgZXZlbnROYW1lIF0gPSBldmVudHNbIGV2ZW50TmFtZSBdIHx8IFtdO1xuICAvLyBvbmx5IGFkZCBvbmNlXG4gIGlmICggbGlzdGVuZXJzLmluZGV4T2YoIGxpc3RlbmVyICkgPT0gLTEgKSB7XG4gICAgbGlzdGVuZXJzLnB1c2goIGxpc3RlbmVyICk7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbnByb3RvLm9uY2UgPSBmdW5jdGlvbiggZXZlbnROYW1lLCBsaXN0ZW5lciApIHtcbiAgaWYgKCAhZXZlbnROYW1lIHx8ICFsaXN0ZW5lciApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gYWRkIGV2ZW50XG4gIHRoaXMub24oIGV2ZW50TmFtZSwgbGlzdGVuZXIgKTtcbiAgLy8gc2V0IG9uY2UgZmxhZ1xuICAvLyBzZXQgb25jZUV2ZW50cyBoYXNoXG4gIHZhciBvbmNlRXZlbnRzID0gdGhpcy5fb25jZUV2ZW50cyA9IHRoaXMuX29uY2VFdmVudHMgfHwge307XG4gIC8vIHNldCBvbmNlTGlzdGVuZXJzIG9iamVjdFxuICB2YXIgb25jZUxpc3RlbmVycyA9IG9uY2VFdmVudHNbIGV2ZW50TmFtZSBdID0gb25jZUV2ZW50c1sgZXZlbnROYW1lIF0gfHwge307XG4gIC8vIHNldCBmbGFnXG4gIG9uY2VMaXN0ZW5lcnNbIGxpc3RlbmVyIF0gPSB0cnVlO1xuXG4gIHJldHVybiB0aGlzO1xufTtcblxucHJvdG8ub2ZmID0gZnVuY3Rpb24oIGV2ZW50TmFtZSwgbGlzdGVuZXIgKSB7XG4gIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudHMgJiYgdGhpcy5fZXZlbnRzWyBldmVudE5hbWUgXTtcbiAgaWYgKCAhbGlzdGVuZXJzIHx8ICFsaXN0ZW5lcnMubGVuZ3RoICkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgaW5kZXggPSBsaXN0ZW5lcnMuaW5kZXhPZiggbGlzdGVuZXIgKTtcbiAgaWYgKCBpbmRleCAhPSAtMSApIHtcbiAgICBsaXN0ZW5lcnMuc3BsaWNlKCBpbmRleCwgMSApO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5wcm90by5lbWl0RXZlbnQgPSBmdW5jdGlvbiggZXZlbnROYW1lLCBhcmdzICkge1xuICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzICYmIHRoaXMuX2V2ZW50c1sgZXZlbnROYW1lIF07XG4gIGlmICggIWxpc3RlbmVycyB8fCAhbGlzdGVuZXJzLmxlbmd0aCApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gY29weSBvdmVyIHRvIGF2b2lkIGludGVyZmVyZW5jZSBpZiAub2ZmKCkgaW4gbGlzdGVuZXJcbiAgbGlzdGVuZXJzID0gbGlzdGVuZXJzLnNsaWNlKDApO1xuICBhcmdzID0gYXJncyB8fCBbXTtcbiAgLy8gb25jZSBzdHVmZlxuICB2YXIgb25jZUxpc3RlbmVycyA9IHRoaXMuX29uY2VFdmVudHMgJiYgdGhpcy5fb25jZUV2ZW50c1sgZXZlbnROYW1lIF07XG5cbiAgZm9yICggdmFyIGk9MDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKyApIHtcbiAgICB2YXIgbGlzdGVuZXIgPSBsaXN0ZW5lcnNbaV1cbiAgICB2YXIgaXNPbmNlID0gb25jZUxpc3RlbmVycyAmJiBvbmNlTGlzdGVuZXJzWyBsaXN0ZW5lciBdO1xuICAgIGlmICggaXNPbmNlICkge1xuICAgICAgLy8gcmVtb3ZlIGxpc3RlbmVyXG4gICAgICAvLyByZW1vdmUgYmVmb3JlIHRyaWdnZXIgdG8gcHJldmVudCByZWN1cnNpb25cbiAgICAgIHRoaXMub2ZmKCBldmVudE5hbWUsIGxpc3RlbmVyICk7XG4gICAgICAvLyB1bnNldCBvbmNlIGZsYWdcbiAgICAgIGRlbGV0ZSBvbmNlTGlzdGVuZXJzWyBsaXN0ZW5lciBdO1xuICAgIH1cbiAgICAvLyB0cmlnZ2VyIGxpc3RlbmVyXG4gICAgbGlzdGVuZXIuYXBwbHkoIHRoaXMsIGFyZ3MgKTtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufTtcblxucHJvdG8uYWxsT2ZmID0gZnVuY3Rpb24oKSB7XG4gIGRlbGV0ZSB0aGlzLl9ldmVudHM7XG4gIGRlbGV0ZSB0aGlzLl9vbmNlRXZlbnRzO1xufTtcblxucmV0dXJuIEV2RW1pdHRlcjtcblxufSkpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/ev-emitter/ev-emitter.js\n");

/***/ }),

/***/ "./node_modules/fizzy-ui-utils/utils.js":
/*!**********************************************!*\
  !*** ./node_modules/fizzy-ui-utils/utils.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n * Fizzy UI utils v2.0.7\n * MIT license\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n\n  if ( true ) {\n    // AMD\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n      __webpack_require__(/*! desandro-matches-selector/matches-selector */ \"./node_modules/desandro-matches-selector/matches-selector.js\")\n    ], __WEBPACK_AMD_DEFINE_RESULT__ = (function( matchesSelector ) {\n      return factory( window, matchesSelector );\n    }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n\n}( window, function factory( window, matchesSelector ) {\n\n'use strict';\n\nvar utils = {};\n\n// ----- extend ----- //\n\n// extends objects\nutils.extend = function( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n};\n\n// ----- modulo ----- //\n\nutils.modulo = function( num, div ) {\n  return ( ( num % div ) + div ) % div;\n};\n\n// ----- makeArray ----- //\n\nvar arraySlice = Array.prototype.slice;\n\n// turn element or nodeList into an array\nutils.makeArray = function( obj ) {\n  if ( Array.isArray( obj ) ) {\n    // use object if already an array\n    return obj;\n  }\n  // return empty array if undefined or null. #6\n  if ( obj === null || obj === undefined ) {\n    return [];\n  }\n\n  var isArrayLike = typeof obj == 'object' && typeof obj.length == 'number';\n  if ( isArrayLike ) {\n    // convert nodeList to array\n    return arraySlice.call( obj );\n  }\n\n  // array of single index\n  return [ obj ];\n};\n\n// ----- removeFrom ----- //\n\nutils.removeFrom = function( ary, obj ) {\n  var index = ary.indexOf( obj );\n  if ( index != -1 ) {\n    ary.splice( index, 1 );\n  }\n};\n\n// ----- getParent ----- //\n\nutils.getParent = function( elem, selector ) {\n  while ( elem.parentNode && elem != document.body ) {\n    elem = elem.parentNode;\n    if ( matchesSelector( elem, selector ) ) {\n      return elem;\n    }\n  }\n};\n\n// ----- getQueryElement ----- //\n\n// use element as selector string\nutils.getQueryElement = function( elem ) {\n  if ( typeof elem == 'string' ) {\n    return document.querySelector( elem );\n  }\n  return elem;\n};\n\n// ----- handleEvent ----- //\n\n// enable .ontype to trigger from .addEventListener( elem, 'type' )\nutils.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\n// ----- filterFindElements ----- //\n\nutils.filterFindElements = function( elems, selector ) {\n  // make array of elems\n  elems = utils.makeArray( elems );\n  var ffElems = [];\n\n  elems.forEach( function( elem ) {\n    // check that elem is an actual element\n    if ( !( elem instanceof HTMLElement ) ) {\n      return;\n    }\n    // add elem if no selector\n    if ( !selector ) {\n      ffElems.push( elem );\n      return;\n    }\n    // filter & find items if we have a selector\n    // filter\n    if ( matchesSelector( elem, selector ) ) {\n      ffElems.push( elem );\n    }\n    // find children\n    var childElems = elem.querySelectorAll( selector );\n    // concat childElems to filterFound array\n    for ( var i=0; i < childElems.length; i++ ) {\n      ffElems.push( childElems[i] );\n    }\n  });\n\n  return ffElems;\n};\n\n// ----- debounceMethod ----- //\n\nutils.debounceMethod = function( _class, methodName, threshold ) {\n  threshold = threshold || 100;\n  // original method\n  var method = _class.prototype[ methodName ];\n  var timeoutName = methodName + 'Timeout';\n\n  _class.prototype[ methodName ] = function() {\n    var timeout = this[ timeoutName ];\n    clearTimeout( timeout );\n\n    var args = arguments;\n    var _this = this;\n    this[ timeoutName ] = setTimeout( function() {\n      method.apply( _this, args );\n      delete _this[ timeoutName ];\n    }, threshold );\n  };\n};\n\n// ----- docReady ----- //\n\nutils.docReady = function( callback ) {\n  var readyState = document.readyState;\n  if ( readyState == 'complete' || readyState == 'interactive' ) {\n    // do async to allow for other scripts to run. metafizzy/flickity#441\n    setTimeout( callback );\n  } else {\n    document.addEventListener( 'DOMContentLoaded', callback );\n  }\n};\n\n// ----- htmlInit ----- //\n\n// http://jamesroberts.name/blog/2010/02/22/string-functions-for-javascript-trim-to-camel-case-to-dashed-and-to-underscore/\nutils.toDashed = function( str ) {\n  return str.replace( /(.)([A-Z])/g, function( match, $1, $2 ) {\n    return $1 + '-' + $2;\n  }).toLowerCase();\n};\n\nvar console = window.console;\n/**\n * allow user to initialize classes via [data-namespace] or .js-namespace class\n * htmlInit( Widget, 'widgetName' )\n * options are parsed from data-namespace-options\n */\nutils.htmlInit = function( WidgetClass, namespace ) {\n  utils.docReady( function() {\n    var dashedNamespace = utils.toDashed( namespace );\n    var dataAttr = 'data-' + dashedNamespace;\n    var dataAttrElems = document.querySelectorAll( '[' + dataAttr + ']' );\n    var jsDashElems = document.querySelectorAll( '.js-' + dashedNamespace );\n    var elems = utils.makeArray( dataAttrElems )\n      .concat( utils.makeArray( jsDashElems ) );\n    var dataOptionsAttr = dataAttr + '-options';\n    var jQuery = window.jQuery;\n\n    elems.forEach( function( elem ) {\n      var attr = elem.getAttribute( dataAttr ) ||\n        elem.getAttribute( dataOptionsAttr );\n      var options;\n      try {\n        options = attr && JSON.parse( attr );\n      } catch ( error ) {\n        // log error, do not initialize\n        if ( console ) {\n          console.error( 'Error parsing ' + dataAttr + ' on ' + elem.className +\n          ': ' + error );\n        }\n        return;\n      }\n      // initialize\n      var instance = new WidgetClass( elem, options );\n      // make available via $().data('namespace')\n      if ( jQuery ) {\n        jQuery.data( elem, namespace, instance );\n      }\n    });\n\n  });\n};\n\n// -----  ----- //\n\nreturn utils;\n\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZml6enktdWktdXRpbHMvdXRpbHMuanM/NjE1OCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsT0FBTyxJQUF5QztBQUNoRDtBQUNBLElBQUksaUNBQVE7QUFDWixNQUFNLHFJQUE0QztBQUNsRCxLQUFLLG1DQUFFO0FBQ1A7QUFDQSxLQUFLO0FBQUEsb0dBQUM7QUFDTixHQUFHLE1BQU0sRUFZTjs7QUFFSCxDQUFDOztBQUVEOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsdUJBQXVCO0FBQ3pDO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUwsR0FBRztBQUNIOztBQUVBOztBQUVBOztBQUVBLENBQUMiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZml6enktdWktdXRpbHMvdXRpbHMuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEZpenp5IFVJIHV0aWxzIHYyLjAuN1xuICogTUlUIGxpY2Vuc2VcbiAqL1xuXG4vKmpzaGludCBicm93c2VyOiB0cnVlLCB1bmRlZjogdHJ1ZSwgdW51c2VkOiB0cnVlLCBzdHJpY3Q6IHRydWUgKi9cblxuKCBmdW5jdGlvbiggd2luZG93LCBmYWN0b3J5ICkge1xuICAvLyB1bml2ZXJzYWwgbW9kdWxlIGRlZmluaXRpb25cbiAgLypqc2hpbnQgc3RyaWN0OiBmYWxzZSAqLyAvKmdsb2JhbHMgZGVmaW5lLCBtb2R1bGUsIHJlcXVpcmUgKi9cblxuICBpZiAoIHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kICkge1xuICAgIC8vIEFNRFxuICAgIGRlZmluZSggW1xuICAgICAgJ2Rlc2FuZHJvLW1hdGNoZXMtc2VsZWN0b3IvbWF0Y2hlcy1zZWxlY3RvcidcbiAgICBdLCBmdW5jdGlvbiggbWF0Y2hlc1NlbGVjdG9yICkge1xuICAgICAgcmV0dXJuIGZhY3RvcnkoIHdpbmRvdywgbWF0Y2hlc1NlbGVjdG9yICk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMgKSB7XG4gICAgLy8gQ29tbW9uSlNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoXG4gICAgICB3aW5kb3csXG4gICAgICByZXF1aXJlKCdkZXNhbmRyby1tYXRjaGVzLXNlbGVjdG9yJylcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIC8vIGJyb3dzZXIgZ2xvYmFsXG4gICAgd2luZG93LmZpenp5VUlVdGlscyA9IGZhY3RvcnkoXG4gICAgICB3aW5kb3csXG4gICAgICB3aW5kb3cubWF0Y2hlc1NlbGVjdG9yXG4gICAgKTtcbiAgfVxuXG59KCB3aW5kb3csIGZ1bmN0aW9uIGZhY3RvcnkoIHdpbmRvdywgbWF0Y2hlc1NlbGVjdG9yICkge1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHt9O1xuXG4vLyAtLS0tLSBleHRlbmQgLS0tLS0gLy9cblxuLy8gZXh0ZW5kcyBvYmplY3RzXG51dGlscy5leHRlbmQgPSBmdW5jdGlvbiggYSwgYiApIHtcbiAgZm9yICggdmFyIHByb3AgaW4gYiApIHtcbiAgICBhWyBwcm9wIF0gPSBiWyBwcm9wIF07XG4gIH1cbiAgcmV0dXJuIGE7XG59O1xuXG4vLyAtLS0tLSBtb2R1bG8gLS0tLS0gLy9cblxudXRpbHMubW9kdWxvID0gZnVuY3Rpb24oIG51bSwgZGl2ICkge1xuICByZXR1cm4gKCAoIG51bSAlIGRpdiApICsgZGl2ICkgJSBkaXY7XG59O1xuXG4vLyAtLS0tLSBtYWtlQXJyYXkgLS0tLS0gLy9cblxudmFyIGFycmF5U2xpY2UgPSBBcnJheS5wcm90b3R5cGUuc2xpY2U7XG5cbi8vIHR1cm4gZWxlbWVudCBvciBub2RlTGlzdCBpbnRvIGFuIGFycmF5XG51dGlscy5tYWtlQXJyYXkgPSBmdW5jdGlvbiggb2JqICkge1xuICBpZiAoIEFycmF5LmlzQXJyYXkoIG9iaiApICkge1xuICAgIC8vIHVzZSBvYmplY3QgaWYgYWxyZWFkeSBhbiBhcnJheVxuICAgIHJldHVybiBvYmo7XG4gIH1cbiAgLy8gcmV0dXJuIGVtcHR5IGFycmF5IGlmIHVuZGVmaW5lZCBvciBudWxsLiAjNlxuICBpZiAoIG9iaiA9PT0gbnVsbCB8fCBvYmogPT09IHVuZGVmaW5lZCApIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICB2YXIgaXNBcnJheUxpa2UgPSB0eXBlb2Ygb2JqID09ICdvYmplY3QnICYmIHR5cGVvZiBvYmoubGVuZ3RoID09ICdudW1iZXInO1xuICBpZiAoIGlzQXJyYXlMaWtlICkge1xuICAgIC8vIGNvbnZlcnQgbm9kZUxpc3QgdG8gYXJyYXlcbiAgICByZXR1cm4gYXJyYXlTbGljZS5jYWxsKCBvYmogKTtcbiAgfVxuXG4gIC8vIGFycmF5IG9mIHNpbmdsZSBpbmRleFxuICByZXR1cm4gWyBvYmogXTtcbn07XG5cbi8vIC0tLS0tIHJlbW92ZUZyb20gLS0tLS0gLy9cblxudXRpbHMucmVtb3ZlRnJvbSA9IGZ1bmN0aW9uKCBhcnksIG9iaiApIHtcbiAgdmFyIGluZGV4ID0gYXJ5LmluZGV4T2YoIG9iaiApO1xuICBpZiAoIGluZGV4ICE9IC0xICkge1xuICAgIGFyeS5zcGxpY2UoIGluZGV4LCAxICk7XG4gIH1cbn07XG5cbi8vIC0tLS0tIGdldFBhcmVudCAtLS0tLSAvL1xuXG51dGlscy5nZXRQYXJlbnQgPSBmdW5jdGlvbiggZWxlbSwgc2VsZWN0b3IgKSB7XG4gIHdoaWxlICggZWxlbS5wYXJlbnROb2RlICYmIGVsZW0gIT0gZG9jdW1lbnQuYm9keSApIHtcbiAgICBlbGVtID0gZWxlbS5wYXJlbnROb2RlO1xuICAgIGlmICggbWF0Y2hlc1NlbGVjdG9yKCBlbGVtLCBzZWxlY3RvciApICkge1xuICAgICAgcmV0dXJuIGVsZW07XG4gICAgfVxuICB9XG59O1xuXG4vLyAtLS0tLSBnZXRRdWVyeUVsZW1lbnQgLS0tLS0gLy9cblxuLy8gdXNlIGVsZW1lbnQgYXMgc2VsZWN0b3Igc3RyaW5nXG51dGlscy5nZXRRdWVyeUVsZW1lbnQgPSBmdW5jdGlvbiggZWxlbSApIHtcbiAgaWYgKCB0eXBlb2YgZWxlbSA9PSAnc3RyaW5nJyApIHtcbiAgICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvciggZWxlbSApO1xuICB9XG4gIHJldHVybiBlbGVtO1xufTtcblxuLy8gLS0tLS0gaGFuZGxlRXZlbnQgLS0tLS0gLy9cblxuLy8gZW5hYmxlIC5vbnR5cGUgdG8gdHJpZ2dlciBmcm9tIC5hZGRFdmVudExpc3RlbmVyKCBlbGVtLCAndHlwZScgKVxudXRpbHMuaGFuZGxlRXZlbnQgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIHZhciBtZXRob2QgPSAnb24nICsgZXZlbnQudHlwZTtcbiAgaWYgKCB0aGlzWyBtZXRob2QgXSApIHtcbiAgICB0aGlzWyBtZXRob2QgXSggZXZlbnQgKTtcbiAgfVxufTtcblxuLy8gLS0tLS0gZmlsdGVyRmluZEVsZW1lbnRzIC0tLS0tIC8vXG5cbnV0aWxzLmZpbHRlckZpbmRFbGVtZW50cyA9IGZ1bmN0aW9uKCBlbGVtcywgc2VsZWN0b3IgKSB7XG4gIC8vIG1ha2UgYXJyYXkgb2YgZWxlbXNcbiAgZWxlbXMgPSB1dGlscy5tYWtlQXJyYXkoIGVsZW1zICk7XG4gIHZhciBmZkVsZW1zID0gW107XG5cbiAgZWxlbXMuZm9yRWFjaCggZnVuY3Rpb24oIGVsZW0gKSB7XG4gICAgLy8gY2hlY2sgdGhhdCBlbGVtIGlzIGFuIGFjdHVhbCBlbGVtZW50XG4gICAgaWYgKCAhKCBlbGVtIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgKSApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gYWRkIGVsZW0gaWYgbm8gc2VsZWN0b3JcbiAgICBpZiAoICFzZWxlY3RvciApIHtcbiAgICAgIGZmRWxlbXMucHVzaCggZWxlbSApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBmaWx0ZXIgJiBmaW5kIGl0ZW1zIGlmIHdlIGhhdmUgYSBzZWxlY3RvclxuICAgIC8vIGZpbHRlclxuICAgIGlmICggbWF0Y2hlc1NlbGVjdG9yKCBlbGVtLCBzZWxlY3RvciApICkge1xuICAgICAgZmZFbGVtcy5wdXNoKCBlbGVtICk7XG4gICAgfVxuICAgIC8vIGZpbmQgY2hpbGRyZW5cbiAgICB2YXIgY2hpbGRFbGVtcyA9IGVsZW0ucXVlcnlTZWxlY3RvckFsbCggc2VsZWN0b3IgKTtcbiAgICAvLyBjb25jYXQgY2hpbGRFbGVtcyB0byBmaWx0ZXJGb3VuZCBhcnJheVxuICAgIGZvciAoIHZhciBpPTA7IGkgPCBjaGlsZEVsZW1zLmxlbmd0aDsgaSsrICkge1xuICAgICAgZmZFbGVtcy5wdXNoKCBjaGlsZEVsZW1zW2ldICk7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gZmZFbGVtcztcbn07XG5cbi8vIC0tLS0tIGRlYm91bmNlTWV0aG9kIC0tLS0tIC8vXG5cbnV0aWxzLmRlYm91bmNlTWV0aG9kID0gZnVuY3Rpb24oIF9jbGFzcywgbWV0aG9kTmFtZSwgdGhyZXNob2xkICkge1xuICB0aHJlc2hvbGQgPSB0aHJlc2hvbGQgfHwgMTAwO1xuICAvLyBvcmlnaW5hbCBtZXRob2RcbiAgdmFyIG1ldGhvZCA9IF9jbGFzcy5wcm90b3R5cGVbIG1ldGhvZE5hbWUgXTtcbiAgdmFyIHRpbWVvdXROYW1lID0gbWV0aG9kTmFtZSArICdUaW1lb3V0JztcblxuICBfY2xhc3MucHJvdG90eXBlWyBtZXRob2ROYW1lIF0gPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdGltZW91dCA9IHRoaXNbIHRpbWVvdXROYW1lIF07XG4gICAgY2xlYXJUaW1lb3V0KCB0aW1lb3V0ICk7XG5cbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgIHRoaXNbIHRpbWVvdXROYW1lIF0gPSBzZXRUaW1lb3V0KCBmdW5jdGlvbigpIHtcbiAgICAgIG1ldGhvZC5hcHBseSggX3RoaXMsIGFyZ3MgKTtcbiAgICAgIGRlbGV0ZSBfdGhpc1sgdGltZW91dE5hbWUgXTtcbiAgICB9LCB0aHJlc2hvbGQgKTtcbiAgfTtcbn07XG5cbi8vIC0tLS0tIGRvY1JlYWR5IC0tLS0tIC8vXG5cbnV0aWxzLmRvY1JlYWR5ID0gZnVuY3Rpb24oIGNhbGxiYWNrICkge1xuICB2YXIgcmVhZHlTdGF0ZSA9IGRvY3VtZW50LnJlYWR5U3RhdGU7XG4gIGlmICggcmVhZHlTdGF0ZSA9PSAnY29tcGxldGUnIHx8IHJlYWR5U3RhdGUgPT0gJ2ludGVyYWN0aXZlJyApIHtcbiAgICAvLyBkbyBhc3luYyB0byBhbGxvdyBmb3Igb3RoZXIgc2NyaXB0cyB0byBydW4uIG1ldGFmaXp6eS9mbGlja2l0eSM0NDFcbiAgICBzZXRUaW1lb3V0KCBjYWxsYmFjayApO1xuICB9IGVsc2Uge1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdET01Db250ZW50TG9hZGVkJywgY2FsbGJhY2sgKTtcbiAgfVxufTtcblxuLy8gLS0tLS0gaHRtbEluaXQgLS0tLS0gLy9cblxuLy8gaHR0cDovL2phbWVzcm9iZXJ0cy5uYW1lL2Jsb2cvMjAxMC8wMi8yMi9zdHJpbmctZnVuY3Rpb25zLWZvci1qYXZhc2NyaXB0LXRyaW0tdG8tY2FtZWwtY2FzZS10by1kYXNoZWQtYW5kLXRvLXVuZGVyc2NvcmUvXG51dGlscy50b0Rhc2hlZCA9IGZ1bmN0aW9uKCBzdHIgKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSggLyguKShbQS1aXSkvZywgZnVuY3Rpb24oIG1hdGNoLCAkMSwgJDIgKSB7XG4gICAgcmV0dXJuICQxICsgJy0nICsgJDI7XG4gIH0pLnRvTG93ZXJDYXNlKCk7XG59O1xuXG52YXIgY29uc29sZSA9IHdpbmRvdy5jb25zb2xlO1xuLyoqXG4gKiBhbGxvdyB1c2VyIHRvIGluaXRpYWxpemUgY2xhc3NlcyB2aWEgW2RhdGEtbmFtZXNwYWNlXSBvciAuanMtbmFtZXNwYWNlIGNsYXNzXG4gKiBodG1sSW5pdCggV2lkZ2V0LCAnd2lkZ2V0TmFtZScgKVxuICogb3B0aW9ucyBhcmUgcGFyc2VkIGZyb20gZGF0YS1uYW1lc3BhY2Utb3B0aW9uc1xuICovXG51dGlscy5odG1sSW5pdCA9IGZ1bmN0aW9uKCBXaWRnZXRDbGFzcywgbmFtZXNwYWNlICkge1xuICB1dGlscy5kb2NSZWFkeSggZnVuY3Rpb24oKSB7XG4gICAgdmFyIGRhc2hlZE5hbWVzcGFjZSA9IHV0aWxzLnRvRGFzaGVkKCBuYW1lc3BhY2UgKTtcbiAgICB2YXIgZGF0YUF0dHIgPSAnZGF0YS0nICsgZGFzaGVkTmFtZXNwYWNlO1xuICAgIHZhciBkYXRhQXR0ckVsZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCggJ1snICsgZGF0YUF0dHIgKyAnXScgKTtcbiAgICB2YXIganNEYXNoRWxlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCAnLmpzLScgKyBkYXNoZWROYW1lc3BhY2UgKTtcbiAgICB2YXIgZWxlbXMgPSB1dGlscy5tYWtlQXJyYXkoIGRhdGFBdHRyRWxlbXMgKVxuICAgICAgLmNvbmNhdCggdXRpbHMubWFrZUFycmF5KCBqc0Rhc2hFbGVtcyApICk7XG4gICAgdmFyIGRhdGFPcHRpb25zQXR0ciA9IGRhdGFBdHRyICsgJy1vcHRpb25zJztcbiAgICB2YXIgalF1ZXJ5ID0gd2luZG93LmpRdWVyeTtcblxuICAgIGVsZW1zLmZvckVhY2goIGZ1bmN0aW9uKCBlbGVtICkge1xuICAgICAgdmFyIGF0dHIgPSBlbGVtLmdldEF0dHJpYnV0ZSggZGF0YUF0dHIgKSB8fFxuICAgICAgICBlbGVtLmdldEF0dHJpYnV0ZSggZGF0YU9wdGlvbnNBdHRyICk7XG4gICAgICB2YXIgb3B0aW9ucztcbiAgICAgIHRyeSB7XG4gICAgICAgIG9wdGlvbnMgPSBhdHRyICYmIEpTT04ucGFyc2UoIGF0dHIgKTtcbiAgICAgIH0gY2F0Y2ggKCBlcnJvciApIHtcbiAgICAgICAgLy8gbG9nIGVycm9yLCBkbyBub3QgaW5pdGlhbGl6ZVxuICAgICAgICBpZiAoIGNvbnNvbGUgKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvciggJ0Vycm9yIHBhcnNpbmcgJyArIGRhdGFBdHRyICsgJyBvbiAnICsgZWxlbS5jbGFzc05hbWUgK1xuICAgICAgICAgICc6ICcgKyBlcnJvciApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIGluaXRpYWxpemVcbiAgICAgIHZhciBpbnN0YW5jZSA9IG5ldyBXaWRnZXRDbGFzcyggZWxlbSwgb3B0aW9ucyApO1xuICAgICAgLy8gbWFrZSBhdmFpbGFibGUgdmlhICQoKS5kYXRhKCduYW1lc3BhY2UnKVxuICAgICAgaWYgKCBqUXVlcnkgKSB7XG4gICAgICAgIGpRdWVyeS5kYXRhKCBlbGVtLCBuYW1lc3BhY2UsIGluc3RhbmNlICk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgfSk7XG59O1xuXG4vLyAtLS0tLSAgLS0tLS0gLy9cblxucmV0dXJuIHV0aWxzO1xuXG59KSk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/fizzy-ui-utils/utils.js\n");

/***/ }),

/***/ "./node_modules/get-size/get-size.js":
/*!*******************************************!*\
  !*** ./node_modules/get-size/get-size.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n * getSize v2.0.3\n * measure size of elements\n * MIT license\n */\n\n/* jshint browser: true, strict: true, undef: true, unused: true */\n/* globals console: false */\n\n( function( window, factory ) {\n  /* jshint strict: false */ /* globals define, module */\n  if ( true ) {\n    // AMD\n    !(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :\n\t\t\t\t__WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n\n})( window, function factory() {\n'use strict';\n\n// -------------------------- helpers -------------------------- //\n\n// get a number from a string, not a percentage\nfunction getStyleSize( value ) {\n  var num = parseFloat( value );\n  // not a percent like '100%', and a number\n  var isValid = value.indexOf('%') == -1 && !isNaN( num );\n  return isValid && num;\n}\n\nfunction noop() {}\n\nvar logError = typeof console == 'undefined' ? noop :\n  function( message ) {\n    console.error( message );\n  };\n\n// -------------------------- measurements -------------------------- //\n\nvar measurements = [\n  'paddingLeft',\n  'paddingRight',\n  'paddingTop',\n  'paddingBottom',\n  'marginLeft',\n  'marginRight',\n  'marginTop',\n  'marginBottom',\n  'borderLeftWidth',\n  'borderRightWidth',\n  'borderTopWidth',\n  'borderBottomWidth'\n];\n\nvar measurementsLength = measurements.length;\n\nfunction getZeroSize() {\n  var size = {\n    width: 0,\n    height: 0,\n    innerWidth: 0,\n    innerHeight: 0,\n    outerWidth: 0,\n    outerHeight: 0\n  };\n  for ( var i=0; i < measurementsLength; i++ ) {\n    var measurement = measurements[i];\n    size[ measurement ] = 0;\n  }\n  return size;\n}\n\n// -------------------------- getStyle -------------------------- //\n\n/**\n * getStyle, get style of element, check for Firefox bug\n * https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n */\nfunction getStyle( elem ) {\n  var style = getComputedStyle( elem );\n  if ( !style ) {\n    logError( 'Style returned ' + style +\n      '. Are you running this code in a hidden iframe on Firefox? ' +\n      'See https://bit.ly/getsizebug1' );\n  }\n  return style;\n}\n\n// -------------------------- setup -------------------------- //\n\nvar isSetup = false;\n\nvar isBoxSizeOuter;\n\n/**\n * setup\n * check isBoxSizerOuter\n * do on first getSize() rather than on page load for Firefox bug\n */\nfunction setup() {\n  // setup once\n  if ( isSetup ) {\n    return;\n  }\n  isSetup = true;\n\n  // -------------------------- box sizing -------------------------- //\n\n  /**\n   * Chrome & Safari measure the outer-width on style.width on border-box elems\n   * IE11 & Firefox<29 measures the inner-width\n   */\n  var div = document.createElement('div');\n  div.style.width = '200px';\n  div.style.padding = '1px 2px 3px 4px';\n  div.style.borderStyle = 'solid';\n  div.style.borderWidth = '1px 2px 3px 4px';\n  div.style.boxSizing = 'border-box';\n\n  var body = document.body || document.documentElement;\n  body.appendChild( div );\n  var style = getStyle( div );\n  // round value for browser zoom. desandro/masonry#928\n  isBoxSizeOuter = Math.round( getStyleSize( style.width ) ) == 200;\n  getSize.isBoxSizeOuter = isBoxSizeOuter;\n\n  body.removeChild( div );\n}\n\n// -------------------------- getSize -------------------------- //\n\nfunction getSize( elem ) {\n  setup();\n\n  // use querySeletor if elem is string\n  if ( typeof elem == 'string' ) {\n    elem = document.querySelector( elem );\n  }\n\n  // do not proceed on non-objects\n  if ( !elem || typeof elem != 'object' || !elem.nodeType ) {\n    return;\n  }\n\n  var style = getStyle( elem );\n\n  // if hidden, everything is 0\n  if ( style.display == 'none' ) {\n    return getZeroSize();\n  }\n\n  var size = {};\n  size.width = elem.offsetWidth;\n  size.height = elem.offsetHeight;\n\n  var isBorderBox = size.isBorderBox = style.boxSizing == 'border-box';\n\n  // get all measurements\n  for ( var i=0; i < measurementsLength; i++ ) {\n    var measurement = measurements[i];\n    var value = style[ measurement ];\n    var num = parseFloat( value );\n    // any 'auto', 'medium' value will be 0\n    size[ measurement ] = !isNaN( num ) ? num : 0;\n  }\n\n  var paddingWidth = size.paddingLeft + size.paddingRight;\n  var paddingHeight = size.paddingTop + size.paddingBottom;\n  var marginWidth = size.marginLeft + size.marginRight;\n  var marginHeight = size.marginTop + size.marginBottom;\n  var borderWidth = size.borderLeftWidth + size.borderRightWidth;\n  var borderHeight = size.borderTopWidth + size.borderBottomWidth;\n\n  var isBorderBoxSizeOuter = isBorderBox && isBoxSizeOuter;\n\n  // overwrite width and height if we can get it from style\n  var styleWidth = getStyleSize( style.width );\n  if ( styleWidth !== false ) {\n    size.width = styleWidth +\n      // add padding and border unless it's already including it\n      ( isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth );\n  }\n\n  var styleHeight = getStyleSize( style.height );\n  if ( styleHeight !== false ) {\n    size.height = styleHeight +\n      // add padding and border unless it's already including it\n      ( isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight );\n  }\n\n  size.innerWidth = size.width - ( paddingWidth + borderWidth );\n  size.innerHeight = size.height - ( paddingHeight + borderHeight );\n\n  size.outerWidth = size.width + marginWidth;\n  size.outerHeight = size.height + marginHeight;\n\n  return size;\n}\n\nreturn getSize;\n\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZ2V0LXNpemUvZ2V0LXNpemUuanM/NDBhZCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU8sSUFBeUM7QUFDaEQ7QUFDQSxJQUFJLG9DQUFRLE9BQU87QUFBQTtBQUFBO0FBQUE7QUFBQSxvR0FBRTtBQUNyQixHQUFHLE1BQU0sRUFNTjs7QUFFSCxDQUFDO0FBQ0Q7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0Isd0JBQXdCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLGdCQUFnQix3QkFBd0I7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUEsQ0FBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9nZXQtc2l6ZS9nZXQtc2l6ZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogZ2V0U2l6ZSB2Mi4wLjNcbiAqIG1lYXN1cmUgc2l6ZSBvZiBlbGVtZW50c1xuICogTUlUIGxpY2Vuc2VcbiAqL1xuXG4vKiBqc2hpbnQgYnJvd3NlcjogdHJ1ZSwgc3RyaWN0OiB0cnVlLCB1bmRlZjogdHJ1ZSwgdW51c2VkOiB0cnVlICovXG4vKiBnbG9iYWxzIGNvbnNvbGU6IGZhbHNlICovXG5cbiggZnVuY3Rpb24oIHdpbmRvdywgZmFjdG9yeSApIHtcbiAgLyoganNoaW50IHN0cmljdDogZmFsc2UgKi8gLyogZ2xvYmFscyBkZWZpbmUsIG1vZHVsZSAqL1xuICBpZiAoIHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kICkge1xuICAgIC8vIEFNRFxuICAgIGRlZmluZSggZmFjdG9yeSApO1xuICB9IGVsc2UgaWYgKCB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzICkge1xuICAgIC8vIENvbW1vbkpTXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gYnJvd3NlciBnbG9iYWxcbiAgICB3aW5kb3cuZ2V0U2l6ZSA9IGZhY3RvcnkoKTtcbiAgfVxuXG59KSggd2luZG93LCBmdW5jdGlvbiBmYWN0b3J5KCkge1xuJ3VzZSBzdHJpY3QnO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBoZWxwZXJzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbi8vIGdldCBhIG51bWJlciBmcm9tIGEgc3RyaW5nLCBub3QgYSBwZXJjZW50YWdlXG5mdW5jdGlvbiBnZXRTdHlsZVNpemUoIHZhbHVlICkge1xuICB2YXIgbnVtID0gcGFyc2VGbG9hdCggdmFsdWUgKTtcbiAgLy8gbm90IGEgcGVyY2VudCBsaWtlICcxMDAlJywgYW5kIGEgbnVtYmVyXG4gIHZhciBpc1ZhbGlkID0gdmFsdWUuaW5kZXhPZignJScpID09IC0xICYmICFpc05hTiggbnVtICk7XG4gIHJldHVybiBpc1ZhbGlkICYmIG51bTtcbn1cblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnZhciBsb2dFcnJvciA9IHR5cGVvZiBjb25zb2xlID09ICd1bmRlZmluZWQnID8gbm9vcCA6XG4gIGZ1bmN0aW9uKCBtZXNzYWdlICkge1xuICAgIGNvbnNvbGUuZXJyb3IoIG1lc3NhZ2UgKTtcbiAgfTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gbWVhc3VyZW1lbnRzIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbnZhciBtZWFzdXJlbWVudHMgPSBbXG4gICdwYWRkaW5nTGVmdCcsXG4gICdwYWRkaW5nUmlnaHQnLFxuICAncGFkZGluZ1RvcCcsXG4gICdwYWRkaW5nQm90dG9tJyxcbiAgJ21hcmdpbkxlZnQnLFxuICAnbWFyZ2luUmlnaHQnLFxuICAnbWFyZ2luVG9wJyxcbiAgJ21hcmdpbkJvdHRvbScsXG4gICdib3JkZXJMZWZ0V2lkdGgnLFxuICAnYm9yZGVyUmlnaHRXaWR0aCcsXG4gICdib3JkZXJUb3BXaWR0aCcsXG4gICdib3JkZXJCb3R0b21XaWR0aCdcbl07XG5cbnZhciBtZWFzdXJlbWVudHNMZW5ndGggPSBtZWFzdXJlbWVudHMubGVuZ3RoO1xuXG5mdW5jdGlvbiBnZXRaZXJvU2l6ZSgpIHtcbiAgdmFyIHNpemUgPSB7XG4gICAgd2lkdGg6IDAsXG4gICAgaGVpZ2h0OiAwLFxuICAgIGlubmVyV2lkdGg6IDAsXG4gICAgaW5uZXJIZWlnaHQ6IDAsXG4gICAgb3V0ZXJXaWR0aDogMCxcbiAgICBvdXRlckhlaWdodDogMFxuICB9O1xuICBmb3IgKCB2YXIgaT0wOyBpIDwgbWVhc3VyZW1lbnRzTGVuZ3RoOyBpKysgKSB7XG4gICAgdmFyIG1lYXN1cmVtZW50ID0gbWVhc3VyZW1lbnRzW2ldO1xuICAgIHNpemVbIG1lYXN1cmVtZW50IF0gPSAwO1xuICB9XG4gIHJldHVybiBzaXplO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBnZXRTdHlsZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4vKipcbiAqIGdldFN0eWxlLCBnZXQgc3R5bGUgb2YgZWxlbWVudCwgY2hlY2sgZm9yIEZpcmVmb3ggYnVnXG4gKiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD01NDgzOTdcbiAqL1xuZnVuY3Rpb24gZ2V0U3R5bGUoIGVsZW0gKSB7XG4gIHZhciBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoIGVsZW0gKTtcbiAgaWYgKCAhc3R5bGUgKSB7XG4gICAgbG9nRXJyb3IoICdTdHlsZSByZXR1cm5lZCAnICsgc3R5bGUgK1xuICAgICAgJy4gQXJlIHlvdSBydW5uaW5nIHRoaXMgY29kZSBpbiBhIGhpZGRlbiBpZnJhbWUgb24gRmlyZWZveD8gJyArXG4gICAgICAnU2VlIGh0dHBzOi8vYml0Lmx5L2dldHNpemVidWcxJyApO1xuICB9XG4gIHJldHVybiBzdHlsZTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gc2V0dXAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxudmFyIGlzU2V0dXAgPSBmYWxzZTtcblxudmFyIGlzQm94U2l6ZU91dGVyO1xuXG4vKipcbiAqIHNldHVwXG4gKiBjaGVjayBpc0JveFNpemVyT3V0ZXJcbiAqIGRvIG9uIGZpcnN0IGdldFNpemUoKSByYXRoZXIgdGhhbiBvbiBwYWdlIGxvYWQgZm9yIEZpcmVmb3ggYnVnXG4gKi9cbmZ1bmN0aW9uIHNldHVwKCkge1xuICAvLyBzZXR1cCBvbmNlXG4gIGlmICggaXNTZXR1cCApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaXNTZXR1cCA9IHRydWU7XG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gYm94IHNpemluZyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4gIC8qKlxuICAgKiBDaHJvbWUgJiBTYWZhcmkgbWVhc3VyZSB0aGUgb3V0ZXItd2lkdGggb24gc3R5bGUud2lkdGggb24gYm9yZGVyLWJveCBlbGVtc1xuICAgKiBJRTExICYgRmlyZWZveDwyOSBtZWFzdXJlcyB0aGUgaW5uZXItd2lkdGhcbiAgICovXG4gIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgZGl2LnN0eWxlLndpZHRoID0gJzIwMHB4JztcbiAgZGl2LnN0eWxlLnBhZGRpbmcgPSAnMXB4IDJweCAzcHggNHB4JztcbiAgZGl2LnN0eWxlLmJvcmRlclN0eWxlID0gJ3NvbGlkJztcbiAgZGl2LnN0eWxlLmJvcmRlcldpZHRoID0gJzFweCAycHggM3B4IDRweCc7XG4gIGRpdi5zdHlsZS5ib3hTaXppbmcgPSAnYm9yZGVyLWJveCc7XG5cbiAgdmFyIGJvZHkgPSBkb2N1bWVudC5ib2R5IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcbiAgYm9keS5hcHBlbmRDaGlsZCggZGl2ICk7XG4gIHZhciBzdHlsZSA9IGdldFN0eWxlKCBkaXYgKTtcbiAgLy8gcm91bmQgdmFsdWUgZm9yIGJyb3dzZXIgem9vbS4gZGVzYW5kcm8vbWFzb25yeSM5MjhcbiAgaXNCb3hTaXplT3V0ZXIgPSBNYXRoLnJvdW5kKCBnZXRTdHlsZVNpemUoIHN0eWxlLndpZHRoICkgKSA9PSAyMDA7XG4gIGdldFNpemUuaXNCb3hTaXplT3V0ZXIgPSBpc0JveFNpemVPdXRlcjtcblxuICBib2R5LnJlbW92ZUNoaWxkKCBkaXYgKTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gZ2V0U2l6ZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG5mdW5jdGlvbiBnZXRTaXplKCBlbGVtICkge1xuICBzZXR1cCgpO1xuXG4gIC8vIHVzZSBxdWVyeVNlbGV0b3IgaWYgZWxlbSBpcyBzdHJpbmdcbiAgaWYgKCB0eXBlb2YgZWxlbSA9PSAnc3RyaW5nJyApIHtcbiAgICBlbGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvciggZWxlbSApO1xuICB9XG5cbiAgLy8gZG8gbm90IHByb2NlZWQgb24gbm9uLW9iamVjdHNcbiAgaWYgKCAhZWxlbSB8fCB0eXBlb2YgZWxlbSAhPSAnb2JqZWN0JyB8fCAhZWxlbS5ub2RlVHlwZSApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgc3R5bGUgPSBnZXRTdHlsZSggZWxlbSApO1xuXG4gIC8vIGlmIGhpZGRlbiwgZXZlcnl0aGluZyBpcyAwXG4gIGlmICggc3R5bGUuZGlzcGxheSA9PSAnbm9uZScgKSB7XG4gICAgcmV0dXJuIGdldFplcm9TaXplKCk7XG4gIH1cblxuICB2YXIgc2l6ZSA9IHt9O1xuICBzaXplLndpZHRoID0gZWxlbS5vZmZzZXRXaWR0aDtcbiAgc2l6ZS5oZWlnaHQgPSBlbGVtLm9mZnNldEhlaWdodDtcblxuICB2YXIgaXNCb3JkZXJCb3ggPSBzaXplLmlzQm9yZGVyQm94ID0gc3R5bGUuYm94U2l6aW5nID09ICdib3JkZXItYm94JztcblxuICAvLyBnZXQgYWxsIG1lYXN1cmVtZW50c1xuICBmb3IgKCB2YXIgaT0wOyBpIDwgbWVhc3VyZW1lbnRzTGVuZ3RoOyBpKysgKSB7XG4gICAgdmFyIG1lYXN1cmVtZW50ID0gbWVhc3VyZW1lbnRzW2ldO1xuICAgIHZhciB2YWx1ZSA9IHN0eWxlWyBtZWFzdXJlbWVudCBdO1xuICAgIHZhciBudW0gPSBwYXJzZUZsb2F0KCB2YWx1ZSApO1xuICAgIC8vIGFueSAnYXV0bycsICdtZWRpdW0nIHZhbHVlIHdpbGwgYmUgMFxuICAgIHNpemVbIG1lYXN1cmVtZW50IF0gPSAhaXNOYU4oIG51bSApID8gbnVtIDogMDtcbiAgfVxuXG4gIHZhciBwYWRkaW5nV2lkdGggPSBzaXplLnBhZGRpbmdMZWZ0ICsgc2l6ZS5wYWRkaW5nUmlnaHQ7XG4gIHZhciBwYWRkaW5nSGVpZ2h0ID0gc2l6ZS5wYWRkaW5nVG9wICsgc2l6ZS5wYWRkaW5nQm90dG9tO1xuICB2YXIgbWFyZ2luV2lkdGggPSBzaXplLm1hcmdpbkxlZnQgKyBzaXplLm1hcmdpblJpZ2h0O1xuICB2YXIgbWFyZ2luSGVpZ2h0ID0gc2l6ZS5tYXJnaW5Ub3AgKyBzaXplLm1hcmdpbkJvdHRvbTtcbiAgdmFyIGJvcmRlcldpZHRoID0gc2l6ZS5ib3JkZXJMZWZ0V2lkdGggKyBzaXplLmJvcmRlclJpZ2h0V2lkdGg7XG4gIHZhciBib3JkZXJIZWlnaHQgPSBzaXplLmJvcmRlclRvcFdpZHRoICsgc2l6ZS5ib3JkZXJCb3R0b21XaWR0aDtcblxuICB2YXIgaXNCb3JkZXJCb3hTaXplT3V0ZXIgPSBpc0JvcmRlckJveCAmJiBpc0JveFNpemVPdXRlcjtcblxuICAvLyBvdmVyd3JpdGUgd2lkdGggYW5kIGhlaWdodCBpZiB3ZSBjYW4gZ2V0IGl0IGZyb20gc3R5bGVcbiAgdmFyIHN0eWxlV2lkdGggPSBnZXRTdHlsZVNpemUoIHN0eWxlLndpZHRoICk7XG4gIGlmICggc3R5bGVXaWR0aCAhPT0gZmFsc2UgKSB7XG4gICAgc2l6ZS53aWR0aCA9IHN0eWxlV2lkdGggK1xuICAgICAgLy8gYWRkIHBhZGRpbmcgYW5kIGJvcmRlciB1bmxlc3MgaXQncyBhbHJlYWR5IGluY2x1ZGluZyBpdFxuICAgICAgKCBpc0JvcmRlckJveFNpemVPdXRlciA/IDAgOiBwYWRkaW5nV2lkdGggKyBib3JkZXJXaWR0aCApO1xuICB9XG5cbiAgdmFyIHN0eWxlSGVpZ2h0ID0gZ2V0U3R5bGVTaXplKCBzdHlsZS5oZWlnaHQgKTtcbiAgaWYgKCBzdHlsZUhlaWdodCAhPT0gZmFsc2UgKSB7XG4gICAgc2l6ZS5oZWlnaHQgPSBzdHlsZUhlaWdodCArXG4gICAgICAvLyBhZGQgcGFkZGluZyBhbmQgYm9yZGVyIHVubGVzcyBpdCdzIGFscmVhZHkgaW5jbHVkaW5nIGl0XG4gICAgICAoIGlzQm9yZGVyQm94U2l6ZU91dGVyID8gMCA6IHBhZGRpbmdIZWlnaHQgKyBib3JkZXJIZWlnaHQgKTtcbiAgfVxuXG4gIHNpemUuaW5uZXJXaWR0aCA9IHNpemUud2lkdGggLSAoIHBhZGRpbmdXaWR0aCArIGJvcmRlcldpZHRoICk7XG4gIHNpemUuaW5uZXJIZWlnaHQgPSBzaXplLmhlaWdodCAtICggcGFkZGluZ0hlaWdodCArIGJvcmRlckhlaWdodCApO1xuXG4gIHNpemUub3V0ZXJXaWR0aCA9IHNpemUud2lkdGggKyBtYXJnaW5XaWR0aDtcbiAgc2l6ZS5vdXRlckhlaWdodCA9IHNpemUuaGVpZ2h0ICsgbWFyZ2luSGVpZ2h0O1xuXG4gIHJldHVybiBzaXplO1xufVxuXG5yZXR1cm4gZ2V0U2l6ZTtcblxufSk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/get-size/get-size.js\n");

/***/ }),

/***/ "./node_modules/has-ansi/index.js":
/*!****************************************!*\
  !*** ./node_modules/has-ansi/index.js ***!
  \****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar ansiRegex = __webpack_require__(/*! ansi-regex */ \"./node_modules/ansi-regex/index.js\");\nvar re = new RegExp(ansiRegex().source); // remove the `g` flag\nmodule.exports = re.test.bind(re);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaGFzLWFuc2kvaW5kZXguanM/N2Q4NiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBYTtBQUNiLGdCQUFnQixtQkFBTyxDQUFDLHNEQUFZO0FBQ3BDLHdDQUF3QztBQUN4QyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9oYXMtYW5zaS9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbnZhciBhbnNpUmVnZXggPSByZXF1aXJlKCdhbnNpLXJlZ2V4Jyk7XG52YXIgcmUgPSBuZXcgUmVnRXhwKGFuc2lSZWdleCgpLnNvdXJjZSk7IC8vIHJlbW92ZSB0aGUgYGdgIGZsYWdcbm1vZHVsZS5leHBvcnRzID0gcmUudGVzdC5iaW5kKHJlKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/has-ansi/index.js\n");

/***/ }),

/***/ "./node_modules/masonry-layout/masonry.js":
/*!************************************************!*\
  !*** ./node_modules/masonry-layout/masonry.js ***!
  \************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n * Masonry v4.2.2\n * Cascading grid layout library\n * https://masonry.desandro.com\n * MIT License\n * by David DeSandro\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*globals define, module, require */\n  if ( true ) {\n    // AMD\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n        __webpack_require__(/*! outlayer/outlayer */ \"./node_modules/outlayer/outlayer.js\"),\n        __webpack_require__(/*! get-size/get-size */ \"./node_modules/get-size/get-size.js\")\n      ], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n\n}( window, function factory( Outlayer, getSize ) {\n\n'use strict';\n\n// -------------------------- masonryDefinition -------------------------- //\n\n  // create an Outlayer layout class\n  var Masonry = Outlayer.create('masonry');\n  // isFitWidth -> fitWidth\n  Masonry.compatOptions.fitWidth = 'isFitWidth';\n\n  var proto = Masonry.prototype;\n\n  proto._resetLayout = function() {\n    this.getSize();\n    this._getMeasurement( 'columnWidth', 'outerWidth' );\n    this._getMeasurement( 'gutter', 'outerWidth' );\n    this.measureColumns();\n\n    // reset column Y\n    this.colYs = [];\n    for ( var i=0; i < this.cols; i++ ) {\n      this.colYs.push( 0 );\n    }\n\n    this.maxY = 0;\n    this.horizontalColIndex = 0;\n  };\n\n  proto.measureColumns = function() {\n    this.getContainerWidth();\n    // if columnWidth is 0, default to outerWidth of first item\n    if ( !this.columnWidth ) {\n      var firstItem = this.items[0];\n      var firstItemElem = firstItem && firstItem.element;\n      // columnWidth fall back to item of first element\n      this.columnWidth = firstItemElem && getSize( firstItemElem ).outerWidth ||\n        // if first elem has no width, default to size of container\n        this.containerWidth;\n    }\n\n    var columnWidth = this.columnWidth += this.gutter;\n\n    // calculate columns\n    var containerWidth = this.containerWidth + this.gutter;\n    var cols = containerWidth / columnWidth;\n    // fix rounding errors, typically with gutters\n    var excess = columnWidth - containerWidth % columnWidth;\n    // if overshoot is less than a pixel, round up, otherwise floor it\n    var mathMethod = excess && excess < 1 ? 'round' : 'floor';\n    cols = Math[ mathMethod ]( cols );\n    this.cols = Math.max( cols, 1 );\n  };\n\n  proto.getContainerWidth = function() {\n    // container is parent if fit width\n    var isFitWidth = this._getOption('fitWidth');\n    var container = isFitWidth ? this.element.parentNode : this.element;\n    // check that this.size and size are there\n    // IE8 triggers resize on body size change, so they might not be\n    var size = getSize( container );\n    this.containerWidth = size && size.innerWidth;\n  };\n\n  proto._getItemLayoutPosition = function( item ) {\n    item.getSize();\n    // how many columns does this brick span\n    var remainder = item.size.outerWidth % this.columnWidth;\n    var mathMethod = remainder && remainder < 1 ? 'round' : 'ceil';\n    // round if off by 1 pixel, otherwise use ceil\n    var colSpan = Math[ mathMethod ]( item.size.outerWidth / this.columnWidth );\n    colSpan = Math.min( colSpan, this.cols );\n    // use horizontal or top column position\n    var colPosMethod = this.options.horizontalOrder ?\n      '_getHorizontalColPosition' : '_getTopColPosition';\n    var colPosition = this[ colPosMethod ]( colSpan, item );\n    // position the brick\n    var position = {\n      x: this.columnWidth * colPosition.col,\n      y: colPosition.y\n    };\n    // apply setHeight to necessary columns\n    var setHeight = colPosition.y + item.size.outerHeight;\n    var setMax = colSpan + colPosition.col;\n    for ( var i = colPosition.col; i < setMax; i++ ) {\n      this.colYs[i] = setHeight;\n    }\n\n    return position;\n  };\n\n  proto._getTopColPosition = function( colSpan ) {\n    var colGroup = this._getTopColGroup( colSpan );\n    // get the minimum Y value from the columns\n    var minimumY = Math.min.apply( Math, colGroup );\n\n    return {\n      col: colGroup.indexOf( minimumY ),\n      y: minimumY,\n    };\n  };\n\n  /**\n   * @param {Number} colSpan - number of columns the element spans\n   * @returns {Array} colGroup\n   */\n  proto._getTopColGroup = function( colSpan ) {\n    if ( colSpan < 2 ) {\n      // if brick spans only one column, use all the column Ys\n      return this.colYs;\n    }\n\n    var colGroup = [];\n    // how many different places could this brick fit horizontally\n    var groupCount = this.cols + 1 - colSpan;\n    // for each group potential horizontal position\n    for ( var i = 0; i < groupCount; i++ ) {\n      colGroup[i] = this._getColGroupY( i, colSpan );\n    }\n    return colGroup;\n  };\n\n  proto._getColGroupY = function( col, colSpan ) {\n    if ( colSpan < 2 ) {\n      return this.colYs[ col ];\n    }\n    // make an array of colY values for that one group\n    var groupColYs = this.colYs.slice( col, col + colSpan );\n    // and get the max value of the array\n    return Math.max.apply( Math, groupColYs );\n  };\n\n  // get column position based on horizontal index. #873\n  proto._getHorizontalColPosition = function( colSpan, item ) {\n    var col = this.horizontalColIndex % this.cols;\n    var isOver = colSpan > 1 && col + colSpan > this.cols;\n    // shift to next row if item can't fit on current row\n    col = isOver ? 0 : col;\n    // don't let zero-size items take up space\n    var hasSize = item.size.outerWidth && item.size.outerHeight;\n    this.horizontalColIndex = hasSize ? col + colSpan : this.horizontalColIndex;\n\n    return {\n      col: col,\n      y: this._getColGroupY( col, colSpan ),\n    };\n  };\n\n  proto._manageStamp = function( stamp ) {\n    var stampSize = getSize( stamp );\n    var offset = this._getElementOffset( stamp );\n    // get the columns that this stamp affects\n    var isOriginLeft = this._getOption('originLeft');\n    var firstX = isOriginLeft ? offset.left : offset.right;\n    var lastX = firstX + stampSize.outerWidth;\n    var firstCol = Math.floor( firstX / this.columnWidth );\n    firstCol = Math.max( 0, firstCol );\n    var lastCol = Math.floor( lastX / this.columnWidth );\n    // lastCol should not go over if multiple of columnWidth #425\n    lastCol -= lastX % this.columnWidth ? 0 : 1;\n    lastCol = Math.min( this.cols - 1, lastCol );\n    // set colYs to bottom of the stamp\n\n    var isOriginTop = this._getOption('originTop');\n    var stampMaxY = ( isOriginTop ? offset.top : offset.bottom ) +\n      stampSize.outerHeight;\n    for ( var i = firstCol; i <= lastCol; i++ ) {\n      this.colYs[i] = Math.max( stampMaxY, this.colYs[i] );\n    }\n  };\n\n  proto._getContainerSize = function() {\n    this.maxY = Math.max.apply( Math, this.colYs );\n    var size = {\n      height: this.maxY\n    };\n\n    if ( this._getOption('fitWidth') ) {\n      size.width = this._getContainerFitWidth();\n    }\n\n    return size;\n  };\n\n  proto._getContainerFitWidth = function() {\n    var unusedCols = 0;\n    // count unused columns\n    var i = this.cols;\n    while ( --i ) {\n      if ( this.colYs[i] !== 0 ) {\n        break;\n      }\n      unusedCols++;\n    }\n    // fit container to columns that have been used\n    return ( this.cols - unusedCols ) * this.columnWidth - this.gutter;\n  };\n\n  proto.needsResizeLayout = function() {\n    var previousWidth = this.containerWidth;\n    this.getContainerWidth();\n    return previousWidth != this.containerWidth;\n  };\n\n  return Masonry;\n\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbWFzb25yeS1sYXlvdXQvbWFzb25yeS5qcz84NGQzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sSUFBeUM7QUFDaEQ7QUFDQSxJQUFJLGlDQUFRO0FBQ1osUUFBUSxtRkFBbUI7QUFDM0IsUUFBUSxtRkFBbUI7QUFDM0IsT0FBTyxvQ0FDRCxPQUFPO0FBQUE7QUFBQTtBQUFBLG9HQUFFO0FBQ2YsR0FBRyxNQUFNLEVBWU47O0FBRUgsQ0FBQzs7QUFFRDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxrQkFBa0IsZUFBZTtBQUNqQztBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLFlBQVk7QUFDOUM7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxhQUFhLE9BQU87QUFDcEIsZUFBZSxNQUFNO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixnQkFBZ0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGNBQWM7QUFDekM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxDQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL21hc29ucnktbGF5b3V0L21hc29ucnkuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIE1hc29ucnkgdjQuMi4yXG4gKiBDYXNjYWRpbmcgZ3JpZCBsYXlvdXQgbGlicmFyeVxuICogaHR0cHM6Ly9tYXNvbnJ5LmRlc2FuZHJvLmNvbVxuICogTUlUIExpY2Vuc2VcbiAqIGJ5IERhdmlkIERlU2FuZHJvXG4gKi9cblxuKCBmdW5jdGlvbiggd2luZG93LCBmYWN0b3J5ICkge1xuICAvLyB1bml2ZXJzYWwgbW9kdWxlIGRlZmluaXRpb25cbiAgLyoganNoaW50IHN0cmljdDogZmFsc2UgKi8gLypnbG9iYWxzIGRlZmluZSwgbW9kdWxlLCByZXF1aXJlICovXG4gIGlmICggdHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgKSB7XG4gICAgLy8gQU1EXG4gICAgZGVmaW5lKCBbXG4gICAgICAgICdvdXRsYXllci9vdXRsYXllcicsXG4gICAgICAgICdnZXQtc2l6ZS9nZXQtc2l6ZSdcbiAgICAgIF0sXG4gICAgICBmYWN0b3J5ICk7XG4gIH0gZWxzZSBpZiAoIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMgKSB7XG4gICAgLy8gQ29tbW9uSlNcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoXG4gICAgICByZXF1aXJlKCdvdXRsYXllcicpLFxuICAgICAgcmVxdWlyZSgnZ2V0LXNpemUnKVxuICAgICk7XG4gIH0gZWxzZSB7XG4gICAgLy8gYnJvd3NlciBnbG9iYWxcbiAgICB3aW5kb3cuTWFzb25yeSA9IGZhY3RvcnkoXG4gICAgICB3aW5kb3cuT3V0bGF5ZXIsXG4gICAgICB3aW5kb3cuZ2V0U2l6ZVxuICAgICk7XG4gIH1cblxufSggd2luZG93LCBmdW5jdGlvbiBmYWN0b3J5KCBPdXRsYXllciwgZ2V0U2l6ZSApIHtcblxuJ3VzZSBzdHJpY3QnO1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBtYXNvbnJ5RGVmaW5pdGlvbiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4gIC8vIGNyZWF0ZSBhbiBPdXRsYXllciBsYXlvdXQgY2xhc3NcbiAgdmFyIE1hc29ucnkgPSBPdXRsYXllci5jcmVhdGUoJ21hc29ucnknKTtcbiAgLy8gaXNGaXRXaWR0aCAtPiBmaXRXaWR0aFxuICBNYXNvbnJ5LmNvbXBhdE9wdGlvbnMuZml0V2lkdGggPSAnaXNGaXRXaWR0aCc7XG5cbiAgdmFyIHByb3RvID0gTWFzb25yeS5wcm90b3R5cGU7XG5cbiAgcHJvdG8uX3Jlc2V0TGF5b3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5nZXRTaXplKCk7XG4gICAgdGhpcy5fZ2V0TWVhc3VyZW1lbnQoICdjb2x1bW5XaWR0aCcsICdvdXRlcldpZHRoJyApO1xuICAgIHRoaXMuX2dldE1lYXN1cmVtZW50KCAnZ3V0dGVyJywgJ291dGVyV2lkdGgnICk7XG4gICAgdGhpcy5tZWFzdXJlQ29sdW1ucygpO1xuXG4gICAgLy8gcmVzZXQgY29sdW1uIFlcbiAgICB0aGlzLmNvbFlzID0gW107XG4gICAgZm9yICggdmFyIGk9MDsgaSA8IHRoaXMuY29sczsgaSsrICkge1xuICAgICAgdGhpcy5jb2xZcy5wdXNoKCAwICk7XG4gICAgfVxuXG4gICAgdGhpcy5tYXhZID0gMDtcbiAgICB0aGlzLmhvcml6b250YWxDb2xJbmRleCA9IDA7XG4gIH07XG5cbiAgcHJvdG8ubWVhc3VyZUNvbHVtbnMgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmdldENvbnRhaW5lcldpZHRoKCk7XG4gICAgLy8gaWYgY29sdW1uV2lkdGggaXMgMCwgZGVmYXVsdCB0byBvdXRlcldpZHRoIG9mIGZpcnN0IGl0ZW1cbiAgICBpZiAoICF0aGlzLmNvbHVtbldpZHRoICkge1xuICAgICAgdmFyIGZpcnN0SXRlbSA9IHRoaXMuaXRlbXNbMF07XG4gICAgICB2YXIgZmlyc3RJdGVtRWxlbSA9IGZpcnN0SXRlbSAmJiBmaXJzdEl0ZW0uZWxlbWVudDtcbiAgICAgIC8vIGNvbHVtbldpZHRoIGZhbGwgYmFjayB0byBpdGVtIG9mIGZpcnN0IGVsZW1lbnRcbiAgICAgIHRoaXMuY29sdW1uV2lkdGggPSBmaXJzdEl0ZW1FbGVtICYmIGdldFNpemUoIGZpcnN0SXRlbUVsZW0gKS5vdXRlcldpZHRoIHx8XG4gICAgICAgIC8vIGlmIGZpcnN0IGVsZW0gaGFzIG5vIHdpZHRoLCBkZWZhdWx0IHRvIHNpemUgb2YgY29udGFpbmVyXG4gICAgICAgIHRoaXMuY29udGFpbmVyV2lkdGg7XG4gICAgfVxuXG4gICAgdmFyIGNvbHVtbldpZHRoID0gdGhpcy5jb2x1bW5XaWR0aCArPSB0aGlzLmd1dHRlcjtcblxuICAgIC8vIGNhbGN1bGF0ZSBjb2x1bW5zXG4gICAgdmFyIGNvbnRhaW5lcldpZHRoID0gdGhpcy5jb250YWluZXJXaWR0aCArIHRoaXMuZ3V0dGVyO1xuICAgIHZhciBjb2xzID0gY29udGFpbmVyV2lkdGggLyBjb2x1bW5XaWR0aDtcbiAgICAvLyBmaXggcm91bmRpbmcgZXJyb3JzLCB0eXBpY2FsbHkgd2l0aCBndXR0ZXJzXG4gICAgdmFyIGV4Y2VzcyA9IGNvbHVtbldpZHRoIC0gY29udGFpbmVyV2lkdGggJSBjb2x1bW5XaWR0aDtcbiAgICAvLyBpZiBvdmVyc2hvb3QgaXMgbGVzcyB0aGFuIGEgcGl4ZWwsIHJvdW5kIHVwLCBvdGhlcndpc2UgZmxvb3IgaXRcbiAgICB2YXIgbWF0aE1ldGhvZCA9IGV4Y2VzcyAmJiBleGNlc3MgPCAxID8gJ3JvdW5kJyA6ICdmbG9vcic7XG4gICAgY29scyA9IE1hdGhbIG1hdGhNZXRob2QgXSggY29scyApO1xuICAgIHRoaXMuY29scyA9IE1hdGgubWF4KCBjb2xzLCAxICk7XG4gIH07XG5cbiAgcHJvdG8uZ2V0Q29udGFpbmVyV2lkdGggPSBmdW5jdGlvbigpIHtcbiAgICAvLyBjb250YWluZXIgaXMgcGFyZW50IGlmIGZpdCB3aWR0aFxuICAgIHZhciBpc0ZpdFdpZHRoID0gdGhpcy5fZ2V0T3B0aW9uKCdmaXRXaWR0aCcpO1xuICAgIHZhciBjb250YWluZXIgPSBpc0ZpdFdpZHRoID8gdGhpcy5lbGVtZW50LnBhcmVudE5vZGUgOiB0aGlzLmVsZW1lbnQ7XG4gICAgLy8gY2hlY2sgdGhhdCB0aGlzLnNpemUgYW5kIHNpemUgYXJlIHRoZXJlXG4gICAgLy8gSUU4IHRyaWdnZXJzIHJlc2l6ZSBvbiBib2R5IHNpemUgY2hhbmdlLCBzbyB0aGV5IG1pZ2h0IG5vdCBiZVxuICAgIHZhciBzaXplID0gZ2V0U2l6ZSggY29udGFpbmVyICk7XG4gICAgdGhpcy5jb250YWluZXJXaWR0aCA9IHNpemUgJiYgc2l6ZS5pbm5lcldpZHRoO1xuICB9O1xuXG4gIHByb3RvLl9nZXRJdGVtTGF5b3V0UG9zaXRpb24gPSBmdW5jdGlvbiggaXRlbSApIHtcbiAgICBpdGVtLmdldFNpemUoKTtcbiAgICAvLyBob3cgbWFueSBjb2x1bW5zIGRvZXMgdGhpcyBicmljayBzcGFuXG4gICAgdmFyIHJlbWFpbmRlciA9IGl0ZW0uc2l6ZS5vdXRlcldpZHRoICUgdGhpcy5jb2x1bW5XaWR0aDtcbiAgICB2YXIgbWF0aE1ldGhvZCA9IHJlbWFpbmRlciAmJiByZW1haW5kZXIgPCAxID8gJ3JvdW5kJyA6ICdjZWlsJztcbiAgICAvLyByb3VuZCBpZiBvZmYgYnkgMSBwaXhlbCwgb3RoZXJ3aXNlIHVzZSBjZWlsXG4gICAgdmFyIGNvbFNwYW4gPSBNYXRoWyBtYXRoTWV0aG9kIF0oIGl0ZW0uc2l6ZS5vdXRlcldpZHRoIC8gdGhpcy5jb2x1bW5XaWR0aCApO1xuICAgIGNvbFNwYW4gPSBNYXRoLm1pbiggY29sU3BhbiwgdGhpcy5jb2xzICk7XG4gICAgLy8gdXNlIGhvcml6b250YWwgb3IgdG9wIGNvbHVtbiBwb3NpdGlvblxuICAgIHZhciBjb2xQb3NNZXRob2QgPSB0aGlzLm9wdGlvbnMuaG9yaXpvbnRhbE9yZGVyID9cbiAgICAgICdfZ2V0SG9yaXpvbnRhbENvbFBvc2l0aW9uJyA6ICdfZ2V0VG9wQ29sUG9zaXRpb24nO1xuICAgIHZhciBjb2xQb3NpdGlvbiA9IHRoaXNbIGNvbFBvc01ldGhvZCBdKCBjb2xTcGFuLCBpdGVtICk7XG4gICAgLy8gcG9zaXRpb24gdGhlIGJyaWNrXG4gICAgdmFyIHBvc2l0aW9uID0ge1xuICAgICAgeDogdGhpcy5jb2x1bW5XaWR0aCAqIGNvbFBvc2l0aW9uLmNvbCxcbiAgICAgIHk6IGNvbFBvc2l0aW9uLnlcbiAgICB9O1xuICAgIC8vIGFwcGx5IHNldEhlaWdodCB0byBuZWNlc3NhcnkgY29sdW1uc1xuICAgIHZhciBzZXRIZWlnaHQgPSBjb2xQb3NpdGlvbi55ICsgaXRlbS5zaXplLm91dGVySGVpZ2h0O1xuICAgIHZhciBzZXRNYXggPSBjb2xTcGFuICsgY29sUG9zaXRpb24uY29sO1xuICAgIGZvciAoIHZhciBpID0gY29sUG9zaXRpb24uY29sOyBpIDwgc2V0TWF4OyBpKysgKSB7XG4gICAgICB0aGlzLmNvbFlzW2ldID0gc2V0SGVpZ2h0O1xuICAgIH1cblxuICAgIHJldHVybiBwb3NpdGlvbjtcbiAgfTtcblxuICBwcm90by5fZ2V0VG9wQ29sUG9zaXRpb24gPSBmdW5jdGlvbiggY29sU3BhbiApIHtcbiAgICB2YXIgY29sR3JvdXAgPSB0aGlzLl9nZXRUb3BDb2xHcm91cCggY29sU3BhbiApO1xuICAgIC8vIGdldCB0aGUgbWluaW11bSBZIHZhbHVlIGZyb20gdGhlIGNvbHVtbnNcbiAgICB2YXIgbWluaW11bVkgPSBNYXRoLm1pbi5hcHBseSggTWF0aCwgY29sR3JvdXAgKTtcblxuICAgIHJldHVybiB7XG4gICAgICBjb2w6IGNvbEdyb3VwLmluZGV4T2YoIG1pbmltdW1ZICksXG4gICAgICB5OiBtaW5pbXVtWSxcbiAgICB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0ge051bWJlcn0gY29sU3BhbiAtIG51bWJlciBvZiBjb2x1bW5zIHRoZSBlbGVtZW50IHNwYW5zXG4gICAqIEByZXR1cm5zIHtBcnJheX0gY29sR3JvdXBcbiAgICovXG4gIHByb3RvLl9nZXRUb3BDb2xHcm91cCA9IGZ1bmN0aW9uKCBjb2xTcGFuICkge1xuICAgIGlmICggY29sU3BhbiA8IDIgKSB7XG4gICAgICAvLyBpZiBicmljayBzcGFucyBvbmx5IG9uZSBjb2x1bW4sIHVzZSBhbGwgdGhlIGNvbHVtbiBZc1xuICAgICAgcmV0dXJuIHRoaXMuY29sWXM7XG4gICAgfVxuXG4gICAgdmFyIGNvbEdyb3VwID0gW107XG4gICAgLy8gaG93IG1hbnkgZGlmZmVyZW50IHBsYWNlcyBjb3VsZCB0aGlzIGJyaWNrIGZpdCBob3Jpem9udGFsbHlcbiAgICB2YXIgZ3JvdXBDb3VudCA9IHRoaXMuY29scyArIDEgLSBjb2xTcGFuO1xuICAgIC8vIGZvciBlYWNoIGdyb3VwIHBvdGVudGlhbCBob3Jpem9udGFsIHBvc2l0aW9uXG4gICAgZm9yICggdmFyIGkgPSAwOyBpIDwgZ3JvdXBDb3VudDsgaSsrICkge1xuICAgICAgY29sR3JvdXBbaV0gPSB0aGlzLl9nZXRDb2xHcm91cFkoIGksIGNvbFNwYW4gKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbEdyb3VwO1xuICB9O1xuXG4gIHByb3RvLl9nZXRDb2xHcm91cFkgPSBmdW5jdGlvbiggY29sLCBjb2xTcGFuICkge1xuICAgIGlmICggY29sU3BhbiA8IDIgKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb2xZc1sgY29sIF07XG4gICAgfVxuICAgIC8vIG1ha2UgYW4gYXJyYXkgb2YgY29sWSB2YWx1ZXMgZm9yIHRoYXQgb25lIGdyb3VwXG4gICAgdmFyIGdyb3VwQ29sWXMgPSB0aGlzLmNvbFlzLnNsaWNlKCBjb2wsIGNvbCArIGNvbFNwYW4gKTtcbiAgICAvLyBhbmQgZ2V0IHRoZSBtYXggdmFsdWUgb2YgdGhlIGFycmF5XG4gICAgcmV0dXJuIE1hdGgubWF4LmFwcGx5KCBNYXRoLCBncm91cENvbFlzICk7XG4gIH07XG5cbiAgLy8gZ2V0IGNvbHVtbiBwb3NpdGlvbiBiYXNlZCBvbiBob3Jpem9udGFsIGluZGV4LiAjODczXG4gIHByb3RvLl9nZXRIb3Jpem9udGFsQ29sUG9zaXRpb24gPSBmdW5jdGlvbiggY29sU3BhbiwgaXRlbSApIHtcbiAgICB2YXIgY29sID0gdGhpcy5ob3Jpem9udGFsQ29sSW5kZXggJSB0aGlzLmNvbHM7XG4gICAgdmFyIGlzT3ZlciA9IGNvbFNwYW4gPiAxICYmIGNvbCArIGNvbFNwYW4gPiB0aGlzLmNvbHM7XG4gICAgLy8gc2hpZnQgdG8gbmV4dCByb3cgaWYgaXRlbSBjYW4ndCBmaXQgb24gY3VycmVudCByb3dcbiAgICBjb2wgPSBpc092ZXIgPyAwIDogY29sO1xuICAgIC8vIGRvbid0IGxldCB6ZXJvLXNpemUgaXRlbXMgdGFrZSB1cCBzcGFjZVxuICAgIHZhciBoYXNTaXplID0gaXRlbS5zaXplLm91dGVyV2lkdGggJiYgaXRlbS5zaXplLm91dGVySGVpZ2h0O1xuICAgIHRoaXMuaG9yaXpvbnRhbENvbEluZGV4ID0gaGFzU2l6ZSA/IGNvbCArIGNvbFNwYW4gOiB0aGlzLmhvcml6b250YWxDb2xJbmRleDtcblxuICAgIHJldHVybiB7XG4gICAgICBjb2w6IGNvbCxcbiAgICAgIHk6IHRoaXMuX2dldENvbEdyb3VwWSggY29sLCBjb2xTcGFuICksXG4gICAgfTtcbiAgfTtcblxuICBwcm90by5fbWFuYWdlU3RhbXAgPSBmdW5jdGlvbiggc3RhbXAgKSB7XG4gICAgdmFyIHN0YW1wU2l6ZSA9IGdldFNpemUoIHN0YW1wICk7XG4gICAgdmFyIG9mZnNldCA9IHRoaXMuX2dldEVsZW1lbnRPZmZzZXQoIHN0YW1wICk7XG4gICAgLy8gZ2V0IHRoZSBjb2x1bW5zIHRoYXQgdGhpcyBzdGFtcCBhZmZlY3RzXG4gICAgdmFyIGlzT3JpZ2luTGVmdCA9IHRoaXMuX2dldE9wdGlvbignb3JpZ2luTGVmdCcpO1xuICAgIHZhciBmaXJzdFggPSBpc09yaWdpbkxlZnQgPyBvZmZzZXQubGVmdCA6IG9mZnNldC5yaWdodDtcbiAgICB2YXIgbGFzdFggPSBmaXJzdFggKyBzdGFtcFNpemUub3V0ZXJXaWR0aDtcbiAgICB2YXIgZmlyc3RDb2wgPSBNYXRoLmZsb29yKCBmaXJzdFggLyB0aGlzLmNvbHVtbldpZHRoICk7XG4gICAgZmlyc3RDb2wgPSBNYXRoLm1heCggMCwgZmlyc3RDb2wgKTtcbiAgICB2YXIgbGFzdENvbCA9IE1hdGguZmxvb3IoIGxhc3RYIC8gdGhpcy5jb2x1bW5XaWR0aCApO1xuICAgIC8vIGxhc3RDb2wgc2hvdWxkIG5vdCBnbyBvdmVyIGlmIG11bHRpcGxlIG9mIGNvbHVtbldpZHRoICM0MjVcbiAgICBsYXN0Q29sIC09IGxhc3RYICUgdGhpcy5jb2x1bW5XaWR0aCA/IDAgOiAxO1xuICAgIGxhc3RDb2wgPSBNYXRoLm1pbiggdGhpcy5jb2xzIC0gMSwgbGFzdENvbCApO1xuICAgIC8vIHNldCBjb2xZcyB0byBib3R0b20gb2YgdGhlIHN0YW1wXG5cbiAgICB2YXIgaXNPcmlnaW5Ub3AgPSB0aGlzLl9nZXRPcHRpb24oJ29yaWdpblRvcCcpO1xuICAgIHZhciBzdGFtcE1heFkgPSAoIGlzT3JpZ2luVG9wID8gb2Zmc2V0LnRvcCA6IG9mZnNldC5ib3R0b20gKSArXG4gICAgICBzdGFtcFNpemUub3V0ZXJIZWlnaHQ7XG4gICAgZm9yICggdmFyIGkgPSBmaXJzdENvbDsgaSA8PSBsYXN0Q29sOyBpKysgKSB7XG4gICAgICB0aGlzLmNvbFlzW2ldID0gTWF0aC5tYXgoIHN0YW1wTWF4WSwgdGhpcy5jb2xZc1tpXSApO1xuICAgIH1cbiAgfTtcblxuICBwcm90by5fZ2V0Q29udGFpbmVyU2l6ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMubWF4WSA9IE1hdGgubWF4LmFwcGx5KCBNYXRoLCB0aGlzLmNvbFlzICk7XG4gICAgdmFyIHNpemUgPSB7XG4gICAgICBoZWlnaHQ6IHRoaXMubWF4WVxuICAgIH07XG5cbiAgICBpZiAoIHRoaXMuX2dldE9wdGlvbignZml0V2lkdGgnKSApIHtcbiAgICAgIHNpemUud2lkdGggPSB0aGlzLl9nZXRDb250YWluZXJGaXRXaWR0aCgpO1xuICAgIH1cblxuICAgIHJldHVybiBzaXplO1xuICB9O1xuXG4gIHByb3RvLl9nZXRDb250YWluZXJGaXRXaWR0aCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB1bnVzZWRDb2xzID0gMDtcbiAgICAvLyBjb3VudCB1bnVzZWQgY29sdW1uc1xuICAgIHZhciBpID0gdGhpcy5jb2xzO1xuICAgIHdoaWxlICggLS1pICkge1xuICAgICAgaWYgKCB0aGlzLmNvbFlzW2ldICE9PSAwICkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHVudXNlZENvbHMrKztcbiAgICB9XG4gICAgLy8gZml0IGNvbnRhaW5lciB0byBjb2x1bW5zIHRoYXQgaGF2ZSBiZWVuIHVzZWRcbiAgICByZXR1cm4gKCB0aGlzLmNvbHMgLSB1bnVzZWRDb2xzICkgKiB0aGlzLmNvbHVtbldpZHRoIC0gdGhpcy5ndXR0ZXI7XG4gIH07XG5cbiAgcHJvdG8ubmVlZHNSZXNpemVMYXlvdXQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgcHJldmlvdXNXaWR0aCA9IHRoaXMuY29udGFpbmVyV2lkdGg7XG4gICAgdGhpcy5nZXRDb250YWluZXJXaWR0aCgpO1xuICAgIHJldHVybiBwcmV2aW91c1dpZHRoICE9IHRoaXMuY29udGFpbmVyV2lkdGg7XG4gIH07XG5cbiAgcmV0dXJuIE1hc29ucnk7XG5cbn0pKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/masonry-layout/masonry.js\n");

/***/ }),

/***/ "./node_modules/outlayer/item.js":
/*!***************************************!*\
  !*** ./node_modules/outlayer/item.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n * Outlayer Item\n */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, require */\n  if ( true ) {\n    // AMD - RequireJS\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n        __webpack_require__(/*! ev-emitter/ev-emitter */ \"./node_modules/ev-emitter/ev-emitter.js\"),\n        __webpack_require__(/*! get-size/get-size */ \"./node_modules/get-size/get-size.js\")\n      ], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n\n}( window, function factory( EvEmitter, getSize ) {\n'use strict';\n\n// ----- helpers ----- //\n\nfunction isEmptyObj( obj ) {\n  for ( var prop in obj ) {\n    return false;\n  }\n  prop = null;\n  return true;\n}\n\n// -------------------------- CSS3 support -------------------------- //\n\n\nvar docElemStyle = document.documentElement.style;\n\nvar transitionProperty = typeof docElemStyle.transition == 'string' ?\n  'transition' : 'WebkitTransition';\nvar transformProperty = typeof docElemStyle.transform == 'string' ?\n  'transform' : 'WebkitTransform';\n\nvar transitionEndEvent = {\n  WebkitTransition: 'webkitTransitionEnd',\n  transition: 'transitionend'\n}[ transitionProperty ];\n\n// cache all vendor properties that could have vendor prefix\nvar vendorProperties = {\n  transform: transformProperty,\n  transition: transitionProperty,\n  transitionDuration: transitionProperty + 'Duration',\n  transitionProperty: transitionProperty + 'Property',\n  transitionDelay: transitionProperty + 'Delay'\n};\n\n// -------------------------- Item -------------------------- //\n\nfunction Item( element, layout ) {\n  if ( !element ) {\n    return;\n  }\n\n  this.element = element;\n  // parent layout class, i.e. Masonry, Isotope, or Packery\n  this.layout = layout;\n  this.position = {\n    x: 0,\n    y: 0\n  };\n\n  this._create();\n}\n\n// inherit EvEmitter\nvar proto = Item.prototype = Object.create( EvEmitter.prototype );\nproto.constructor = Item;\n\nproto._create = function() {\n  // transition objects\n  this._transn = {\n    ingProperties: {},\n    clean: {},\n    onEnd: {}\n  };\n\n  this.css({\n    position: 'absolute'\n  });\n};\n\n// trigger specified handler for event type\nproto.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\nproto.getSize = function() {\n  this.size = getSize( this.element );\n};\n\n/**\n * apply CSS styles to element\n * @param {Object} style\n */\nproto.css = function( style ) {\n  var elemStyle = this.element.style;\n\n  for ( var prop in style ) {\n    // use vendor property if available\n    var supportedProp = vendorProperties[ prop ] || prop;\n    elemStyle[ supportedProp ] = style[ prop ];\n  }\n};\n\n // measure position, and sets it\nproto.getPosition = function() {\n  var style = getComputedStyle( this.element );\n  var isOriginLeft = this.layout._getOption('originLeft');\n  var isOriginTop = this.layout._getOption('originTop');\n  var xValue = style[ isOriginLeft ? 'left' : 'right' ];\n  var yValue = style[ isOriginTop ? 'top' : 'bottom' ];\n  var x = parseFloat( xValue );\n  var y = parseFloat( yValue );\n  // convert percent to pixels\n  var layoutSize = this.layout.size;\n  if ( xValue.indexOf('%') != -1 ) {\n    x = ( x / 100 ) * layoutSize.width;\n  }\n  if ( yValue.indexOf('%') != -1 ) {\n    y = ( y / 100 ) * layoutSize.height;\n  }\n  // clean up 'auto' or other non-integer values\n  x = isNaN( x ) ? 0 : x;\n  y = isNaN( y ) ? 0 : y;\n  // remove padding from measurement\n  x -= isOriginLeft ? layoutSize.paddingLeft : layoutSize.paddingRight;\n  y -= isOriginTop ? layoutSize.paddingTop : layoutSize.paddingBottom;\n\n  this.position.x = x;\n  this.position.y = y;\n};\n\n// set settled position, apply padding\nproto.layoutPosition = function() {\n  var layoutSize = this.layout.size;\n  var style = {};\n  var isOriginLeft = this.layout._getOption('originLeft');\n  var isOriginTop = this.layout._getOption('originTop');\n\n  // x\n  var xPadding = isOriginLeft ? 'paddingLeft' : 'paddingRight';\n  var xProperty = isOriginLeft ? 'left' : 'right';\n  var xResetProperty = isOriginLeft ? 'right' : 'left';\n\n  var x = this.position.x + layoutSize[ xPadding ];\n  // set in percentage or pixels\n  style[ xProperty ] = this.getXValue( x );\n  // reset other property\n  style[ xResetProperty ] = '';\n\n  // y\n  var yPadding = isOriginTop ? 'paddingTop' : 'paddingBottom';\n  var yProperty = isOriginTop ? 'top' : 'bottom';\n  var yResetProperty = isOriginTop ? 'bottom' : 'top';\n\n  var y = this.position.y + layoutSize[ yPadding ];\n  // set in percentage or pixels\n  style[ yProperty ] = this.getYValue( y );\n  // reset other property\n  style[ yResetProperty ] = '';\n\n  this.css( style );\n  this.emitEvent( 'layout', [ this ] );\n};\n\nproto.getXValue = function( x ) {\n  var isHorizontal = this.layout._getOption('horizontal');\n  return this.layout.options.percentPosition && !isHorizontal ?\n    ( ( x / this.layout.size.width ) * 100 ) + '%' : x + 'px';\n};\n\nproto.getYValue = function( y ) {\n  var isHorizontal = this.layout._getOption('horizontal');\n  return this.layout.options.percentPosition && isHorizontal ?\n    ( ( y / this.layout.size.height ) * 100 ) + '%' : y + 'px';\n};\n\nproto._transitionTo = function( x, y ) {\n  this.getPosition();\n  // get current x & y from top/left\n  var curX = this.position.x;\n  var curY = this.position.y;\n\n  var didNotMove = x == this.position.x && y == this.position.y;\n\n  // save end position\n  this.setPosition( x, y );\n\n  // if did not move and not transitioning, just go to layout\n  if ( didNotMove && !this.isTransitioning ) {\n    this.layoutPosition();\n    return;\n  }\n\n  var transX = x - curX;\n  var transY = y - curY;\n  var transitionStyle = {};\n  transitionStyle.transform = this.getTranslate( transX, transY );\n\n  this.transition({\n    to: transitionStyle,\n    onTransitionEnd: {\n      transform: this.layoutPosition\n    },\n    isCleaning: true\n  });\n};\n\nproto.getTranslate = function( x, y ) {\n  // flip cooridinates if origin on right or bottom\n  var isOriginLeft = this.layout._getOption('originLeft');\n  var isOriginTop = this.layout._getOption('originTop');\n  x = isOriginLeft ? x : -x;\n  y = isOriginTop ? y : -y;\n  return 'translate3d(' + x + 'px, ' + y + 'px, 0)';\n};\n\n// non transition + transform support\nproto.goTo = function( x, y ) {\n  this.setPosition( x, y );\n  this.layoutPosition();\n};\n\nproto.moveTo = proto._transitionTo;\n\nproto.setPosition = function( x, y ) {\n  this.position.x = parseFloat( x );\n  this.position.y = parseFloat( y );\n};\n\n// ----- transition ----- //\n\n/**\n * @param {Object} style - CSS\n * @param {Function} onTransitionEnd\n */\n\n// non transition, just trigger callback\nproto._nonTransition = function( args ) {\n  this.css( args.to );\n  if ( args.isCleaning ) {\n    this._removeStyles( args.to );\n  }\n  for ( var prop in args.onTransitionEnd ) {\n    args.onTransitionEnd[ prop ].call( this );\n  }\n};\n\n/**\n * proper transition\n * @param {Object} args - arguments\n *   @param {Object} to - style to transition to\n *   @param {Object} from - style to start transition from\n *   @param {Boolean} isCleaning - removes transition styles after transition\n *   @param {Function} onTransitionEnd - callback\n */\nproto.transition = function( args ) {\n  // redirect to nonTransition if no transition duration\n  if ( !parseFloat( this.layout.options.transitionDuration ) ) {\n    this._nonTransition( args );\n    return;\n  }\n\n  var _transition = this._transn;\n  // keep track of onTransitionEnd callback by css property\n  for ( var prop in args.onTransitionEnd ) {\n    _transition.onEnd[ prop ] = args.onTransitionEnd[ prop ];\n  }\n  // keep track of properties that are transitioning\n  for ( prop in args.to ) {\n    _transition.ingProperties[ prop ] = true;\n    // keep track of properties to clean up when transition is done\n    if ( args.isCleaning ) {\n      _transition.clean[ prop ] = true;\n    }\n  }\n\n  // set from styles\n  if ( args.from ) {\n    this.css( args.from );\n    // force redraw. http://blog.alexmaccaw.com/css-transitions\n    var h = this.element.offsetHeight;\n    // hack for JSHint to hush about unused var\n    h = null;\n  }\n  // enable transition\n  this.enableTransition( args.to );\n  // set styles that are transitioning\n  this.css( args.to );\n\n  this.isTransitioning = true;\n\n};\n\n// dash before all cap letters, including first for\n// WebkitTransform => -webkit-transform\nfunction toDashedAll( str ) {\n  return str.replace( /([A-Z])/g, function( $1 ) {\n    return '-' + $1.toLowerCase();\n  });\n}\n\nvar transitionProps = 'opacity,' + toDashedAll( transformProperty );\n\nproto.enableTransition = function(/* style */) {\n  // HACK changing transitionProperty during a transition\n  // will cause transition to jump\n  if ( this.isTransitioning ) {\n    return;\n  }\n\n  // make `transition: foo, bar, baz` from style object\n  // HACK un-comment this when enableTransition can work\n  // while a transition is happening\n  // var transitionValues = [];\n  // for ( var prop in style ) {\n  //   // dash-ify camelCased properties like WebkitTransition\n  //   prop = vendorProperties[ prop ] || prop;\n  //   transitionValues.push( toDashedAll( prop ) );\n  // }\n  // munge number to millisecond, to match stagger\n  var duration = this.layout.options.transitionDuration;\n  duration = typeof duration == 'number' ? duration + 'ms' : duration;\n  // enable transition styles\n  this.css({\n    transitionProperty: transitionProps,\n    transitionDuration: duration,\n    transitionDelay: this.staggerDelay || 0\n  });\n  // listen for transition end event\n  this.element.addEventListener( transitionEndEvent, this, false );\n};\n\n// ----- events ----- //\n\nproto.onwebkitTransitionEnd = function( event ) {\n  this.ontransitionend( event );\n};\n\nproto.onotransitionend = function( event ) {\n  this.ontransitionend( event );\n};\n\n// properties that I munge to make my life easier\nvar dashedVendorProperties = {\n  '-webkit-transform': 'transform'\n};\n\nproto.ontransitionend = function( event ) {\n  // disregard bubbled events from children\n  if ( event.target !== this.element ) {\n    return;\n  }\n  var _transition = this._transn;\n  // get property name of transitioned property, convert to prefix-free\n  var propertyName = dashedVendorProperties[ event.propertyName ] || event.propertyName;\n\n  // remove property that has completed transitioning\n  delete _transition.ingProperties[ propertyName ];\n  // check if any properties are still transitioning\n  if ( isEmptyObj( _transition.ingProperties ) ) {\n    // all properties have completed transitioning\n    this.disableTransition();\n  }\n  // clean style\n  if ( propertyName in _transition.clean ) {\n    // clean up style\n    this.element.style[ event.propertyName ] = '';\n    delete _transition.clean[ propertyName ];\n  }\n  // trigger onTransitionEnd callback\n  if ( propertyName in _transition.onEnd ) {\n    var onTransitionEnd = _transition.onEnd[ propertyName ];\n    onTransitionEnd.call( this );\n    delete _transition.onEnd[ propertyName ];\n  }\n\n  this.emitEvent( 'transitionEnd', [ this ] );\n};\n\nproto.disableTransition = function() {\n  this.removeTransitionStyles();\n  this.element.removeEventListener( transitionEndEvent, this, false );\n  this.isTransitioning = false;\n};\n\n/**\n * removes style property from element\n * @param {Object} style\n**/\nproto._removeStyles = function( style ) {\n  // clean up transition styles\n  var cleanStyle = {};\n  for ( var prop in style ) {\n    cleanStyle[ prop ] = '';\n  }\n  this.css( cleanStyle );\n};\n\nvar cleanTransitionStyle = {\n  transitionProperty: '',\n  transitionDuration: '',\n  transitionDelay: ''\n};\n\nproto.removeTransitionStyles = function() {\n  // remove transition\n  this.css( cleanTransitionStyle );\n};\n\n// ----- stagger ----- //\n\nproto.stagger = function( delay ) {\n  delay = isNaN( delay ) ? 0 : delay;\n  this.staggerDelay = delay + 'ms';\n};\n\n// ----- show/hide/remove ----- //\n\n// remove element from DOM\nproto.removeElem = function() {\n  this.element.parentNode.removeChild( this.element );\n  // remove display: none\n  this.css({ display: '' });\n  this.emitEvent( 'remove', [ this ] );\n};\n\nproto.remove = function() {\n  // just remove element if no transition support or no transition\n  if ( !transitionProperty || !parseFloat( this.layout.options.transitionDuration ) ) {\n    this.removeElem();\n    return;\n  }\n\n  // start transition\n  this.once( 'transitionEnd', function() {\n    this.removeElem();\n  });\n  this.hide();\n};\n\nproto.reveal = function() {\n  delete this.isHidden;\n  // remove display: none\n  this.css({ display: '' });\n\n  var options = this.layout.options;\n\n  var onTransitionEnd = {};\n  var transitionEndProperty = this.getHideRevealTransitionEndProperty('visibleStyle');\n  onTransitionEnd[ transitionEndProperty ] = this.onRevealTransitionEnd;\n\n  this.transition({\n    from: options.hiddenStyle,\n    to: options.visibleStyle,\n    isCleaning: true,\n    onTransitionEnd: onTransitionEnd\n  });\n};\n\nproto.onRevealTransitionEnd = function() {\n  // check if still visible\n  // during transition, item may have been hidden\n  if ( !this.isHidden ) {\n    this.emitEvent('reveal');\n  }\n};\n\n/**\n * get style property use for hide/reveal transition end\n * @param {String} styleProperty - hiddenStyle/visibleStyle\n * @returns {String}\n */\nproto.getHideRevealTransitionEndProperty = function( styleProperty ) {\n  var optionStyle = this.layout.options[ styleProperty ];\n  // use opacity\n  if ( optionStyle.opacity ) {\n    return 'opacity';\n  }\n  // get first property\n  for ( var prop in optionStyle ) {\n    return prop;\n  }\n};\n\nproto.hide = function() {\n  // set flag\n  this.isHidden = true;\n  // remove display: none\n  this.css({ display: '' });\n\n  var options = this.layout.options;\n\n  var onTransitionEnd = {};\n  var transitionEndProperty = this.getHideRevealTransitionEndProperty('hiddenStyle');\n  onTransitionEnd[ transitionEndProperty ] = this.onHideTransitionEnd;\n\n  this.transition({\n    from: options.visibleStyle,\n    to: options.hiddenStyle,\n    // keep hidden stuff hidden\n    isCleaning: true,\n    onTransitionEnd: onTransitionEnd\n  });\n};\n\nproto.onHideTransitionEnd = function() {\n  // check if still hidden\n  // during transition, item may have been un-hidden\n  if ( this.isHidden ) {\n    this.css({ display: 'none' });\n    this.emitEvent('hide');\n  }\n};\n\nproto.destroy = function() {\n  this.css({\n    position: '',\n    left: '',\n    right: '',\n    top: '',\n    bottom: '',\n    transition: '',\n    transform: ''\n  });\n};\n\nreturn Item;\n\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb3V0bGF5ZXIvaXRlbS5qcz8yOGFkIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPLElBQXlDO0FBQ2hEO0FBQ0EsSUFBSSxpQ0FBUTtBQUNaLFFBQVEsMkZBQXVCO0FBQy9CLFFBQVEsbUZBQW1CO0FBQzNCLE9BQU8sb0NBQ0QsT0FBTztBQUFBO0FBQUE7QUFBQSxvR0FDUjtBQUNMLEdBQUcsTUFBTSxFQWFOOztBQUVILENBQUM7QUFDRDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7O0FBR0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQixhQUFhO0FBQ2I7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLFNBQVM7QUFDcEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixhQUFhLE9BQU87QUFDcEIsYUFBYSxPQUFPO0FBQ3BCLGFBQWEsUUFBUTtBQUNyQixhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksY0FBYztBQUMxQjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGNBQWM7O0FBRTFCOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksY0FBYzs7QUFFMUI7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsa0JBQWtCO0FBQ2hDO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7O0FBRUEsQ0FBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9vdXRsYXllci9pdGVtLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBPdXRsYXllciBJdGVtXG4gKi9cblxuKCBmdW5jdGlvbiggd2luZG93LCBmYWN0b3J5ICkge1xuICAvLyB1bml2ZXJzYWwgbW9kdWxlIGRlZmluaXRpb25cbiAgLyoganNoaW50IHN0cmljdDogZmFsc2UgKi8gLyogZ2xvYmFscyBkZWZpbmUsIG1vZHVsZSwgcmVxdWlyZSAqL1xuICBpZiAoIHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kICkge1xuICAgIC8vIEFNRCAtIFJlcXVpcmVKU1xuICAgIGRlZmluZSggW1xuICAgICAgICAnZXYtZW1pdHRlci9ldi1lbWl0dGVyJyxcbiAgICAgICAgJ2dldC1zaXplL2dldC1zaXplJ1xuICAgICAgXSxcbiAgICAgIGZhY3RvcnlcbiAgICApO1xuICB9IGVsc2UgaWYgKCB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzICkge1xuICAgIC8vIENvbW1vbkpTIC0gQnJvd3NlcmlmeSwgV2VicGFja1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShcbiAgICAgIHJlcXVpcmUoJ2V2LWVtaXR0ZXInKSxcbiAgICAgIHJlcXVpcmUoJ2dldC1zaXplJylcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIC8vIGJyb3dzZXIgZ2xvYmFsXG4gICAgd2luZG93Lk91dGxheWVyID0ge307XG4gICAgd2luZG93Lk91dGxheWVyLkl0ZW0gPSBmYWN0b3J5KFxuICAgICAgd2luZG93LkV2RW1pdHRlcixcbiAgICAgIHdpbmRvdy5nZXRTaXplXG4gICAgKTtcbiAgfVxuXG59KCB3aW5kb3csIGZ1bmN0aW9uIGZhY3RvcnkoIEV2RW1pdHRlciwgZ2V0U2l6ZSApIHtcbid1c2Ugc3RyaWN0JztcblxuLy8gLS0tLS0gaGVscGVycyAtLS0tLSAvL1xuXG5mdW5jdGlvbiBpc0VtcHR5T2JqKCBvYmogKSB7XG4gIGZvciAoIHZhciBwcm9wIGluIG9iaiApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcHJvcCA9IG51bGw7XG4gIHJldHVybiB0cnVlO1xufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBDU1MzIHN1cHBvcnQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuXG52YXIgZG9jRWxlbVN0eWxlID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlO1xuXG52YXIgdHJhbnNpdGlvblByb3BlcnR5ID0gdHlwZW9mIGRvY0VsZW1TdHlsZS50cmFuc2l0aW9uID09ICdzdHJpbmcnID9cbiAgJ3RyYW5zaXRpb24nIDogJ1dlYmtpdFRyYW5zaXRpb24nO1xudmFyIHRyYW5zZm9ybVByb3BlcnR5ID0gdHlwZW9mIGRvY0VsZW1TdHlsZS50cmFuc2Zvcm0gPT0gJ3N0cmluZycgP1xuICAndHJhbnNmb3JtJyA6ICdXZWJraXRUcmFuc2Zvcm0nO1xuXG52YXIgdHJhbnNpdGlvbkVuZEV2ZW50ID0ge1xuICBXZWJraXRUcmFuc2l0aW9uOiAnd2Via2l0VHJhbnNpdGlvbkVuZCcsXG4gIHRyYW5zaXRpb246ICd0cmFuc2l0aW9uZW5kJ1xufVsgdHJhbnNpdGlvblByb3BlcnR5IF07XG5cbi8vIGNhY2hlIGFsbCB2ZW5kb3IgcHJvcGVydGllcyB0aGF0IGNvdWxkIGhhdmUgdmVuZG9yIHByZWZpeFxudmFyIHZlbmRvclByb3BlcnRpZXMgPSB7XG4gIHRyYW5zZm9ybTogdHJhbnNmb3JtUHJvcGVydHksXG4gIHRyYW5zaXRpb246IHRyYW5zaXRpb25Qcm9wZXJ0eSxcbiAgdHJhbnNpdGlvbkR1cmF0aW9uOiB0cmFuc2l0aW9uUHJvcGVydHkgKyAnRHVyYXRpb24nLFxuICB0cmFuc2l0aW9uUHJvcGVydHk6IHRyYW5zaXRpb25Qcm9wZXJ0eSArICdQcm9wZXJ0eScsXG4gIHRyYW5zaXRpb25EZWxheTogdHJhbnNpdGlvblByb3BlcnR5ICsgJ0RlbGF5J1xufTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gSXRlbSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG5mdW5jdGlvbiBJdGVtKCBlbGVtZW50LCBsYXlvdXQgKSB7XG4gIGlmICggIWVsZW1lbnQgKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgLy8gcGFyZW50IGxheW91dCBjbGFzcywgaS5lLiBNYXNvbnJ5LCBJc290b3BlLCBvciBQYWNrZXJ5XG4gIHRoaXMubGF5b3V0ID0gbGF5b3V0O1xuICB0aGlzLnBvc2l0aW9uID0ge1xuICAgIHg6IDAsXG4gICAgeTogMFxuICB9O1xuXG4gIHRoaXMuX2NyZWF0ZSgpO1xufVxuXG4vLyBpbmhlcml0IEV2RW1pdHRlclxudmFyIHByb3RvID0gSXRlbS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBFdkVtaXR0ZXIucHJvdG90eXBlICk7XG5wcm90by5jb25zdHJ1Y3RvciA9IEl0ZW07XG5cbnByb3RvLl9jcmVhdGUgPSBmdW5jdGlvbigpIHtcbiAgLy8gdHJhbnNpdGlvbiBvYmplY3RzXG4gIHRoaXMuX3RyYW5zbiA9IHtcbiAgICBpbmdQcm9wZXJ0aWVzOiB7fSxcbiAgICBjbGVhbjoge30sXG4gICAgb25FbmQ6IHt9XG4gIH07XG5cbiAgdGhpcy5jc3Moe1xuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnXG4gIH0pO1xufTtcblxuLy8gdHJpZ2dlciBzcGVjaWZpZWQgaGFuZGxlciBmb3IgZXZlbnQgdHlwZVxucHJvdG8uaGFuZGxlRXZlbnQgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIHZhciBtZXRob2QgPSAnb24nICsgZXZlbnQudHlwZTtcbiAgaWYgKCB0aGlzWyBtZXRob2QgXSApIHtcbiAgICB0aGlzWyBtZXRob2QgXSggZXZlbnQgKTtcbiAgfVxufTtcblxucHJvdG8uZ2V0U2l6ZSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLnNpemUgPSBnZXRTaXplKCB0aGlzLmVsZW1lbnQgKTtcbn07XG5cbi8qKlxuICogYXBwbHkgQ1NTIHN0eWxlcyB0byBlbGVtZW50XG4gKiBAcGFyYW0ge09iamVjdH0gc3R5bGVcbiAqL1xucHJvdG8uY3NzID0gZnVuY3Rpb24oIHN0eWxlICkge1xuICB2YXIgZWxlbVN0eWxlID0gdGhpcy5lbGVtZW50LnN0eWxlO1xuXG4gIGZvciAoIHZhciBwcm9wIGluIHN0eWxlICkge1xuICAgIC8vIHVzZSB2ZW5kb3IgcHJvcGVydHkgaWYgYXZhaWxhYmxlXG4gICAgdmFyIHN1cHBvcnRlZFByb3AgPSB2ZW5kb3JQcm9wZXJ0aWVzWyBwcm9wIF0gfHwgcHJvcDtcbiAgICBlbGVtU3R5bGVbIHN1cHBvcnRlZFByb3AgXSA9IHN0eWxlWyBwcm9wIF07XG4gIH1cbn07XG5cbiAvLyBtZWFzdXJlIHBvc2l0aW9uLCBhbmQgc2V0cyBpdFxucHJvdG8uZ2V0UG9zaXRpb24gPSBmdW5jdGlvbigpIHtcbiAgdmFyIHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZSggdGhpcy5lbGVtZW50ICk7XG4gIHZhciBpc09yaWdpbkxlZnQgPSB0aGlzLmxheW91dC5fZ2V0T3B0aW9uKCdvcmlnaW5MZWZ0Jyk7XG4gIHZhciBpc09yaWdpblRvcCA9IHRoaXMubGF5b3V0Ll9nZXRPcHRpb24oJ29yaWdpblRvcCcpO1xuICB2YXIgeFZhbHVlID0gc3R5bGVbIGlzT3JpZ2luTGVmdCA/ICdsZWZ0JyA6ICdyaWdodCcgXTtcbiAgdmFyIHlWYWx1ZSA9IHN0eWxlWyBpc09yaWdpblRvcCA/ICd0b3AnIDogJ2JvdHRvbScgXTtcbiAgdmFyIHggPSBwYXJzZUZsb2F0KCB4VmFsdWUgKTtcbiAgdmFyIHkgPSBwYXJzZUZsb2F0KCB5VmFsdWUgKTtcbiAgLy8gY29udmVydCBwZXJjZW50IHRvIHBpeGVsc1xuICB2YXIgbGF5b3V0U2l6ZSA9IHRoaXMubGF5b3V0LnNpemU7XG4gIGlmICggeFZhbHVlLmluZGV4T2YoJyUnKSAhPSAtMSApIHtcbiAgICB4ID0gKCB4IC8gMTAwICkgKiBsYXlvdXRTaXplLndpZHRoO1xuICB9XG4gIGlmICggeVZhbHVlLmluZGV4T2YoJyUnKSAhPSAtMSApIHtcbiAgICB5ID0gKCB5IC8gMTAwICkgKiBsYXlvdXRTaXplLmhlaWdodDtcbiAgfVxuICAvLyBjbGVhbiB1cCAnYXV0bycgb3Igb3RoZXIgbm9uLWludGVnZXIgdmFsdWVzXG4gIHggPSBpc05hTiggeCApID8gMCA6IHg7XG4gIHkgPSBpc05hTiggeSApID8gMCA6IHk7XG4gIC8vIHJlbW92ZSBwYWRkaW5nIGZyb20gbWVhc3VyZW1lbnRcbiAgeCAtPSBpc09yaWdpbkxlZnQgPyBsYXlvdXRTaXplLnBhZGRpbmdMZWZ0IDogbGF5b3V0U2l6ZS5wYWRkaW5nUmlnaHQ7XG4gIHkgLT0gaXNPcmlnaW5Ub3AgPyBsYXlvdXRTaXplLnBhZGRpbmdUb3AgOiBsYXlvdXRTaXplLnBhZGRpbmdCb3R0b207XG5cbiAgdGhpcy5wb3NpdGlvbi54ID0geDtcbiAgdGhpcy5wb3NpdGlvbi55ID0geTtcbn07XG5cbi8vIHNldCBzZXR0bGVkIHBvc2l0aW9uLCBhcHBseSBwYWRkaW5nXG5wcm90by5sYXlvdXRQb3NpdGlvbiA9IGZ1bmN0aW9uKCkge1xuICB2YXIgbGF5b3V0U2l6ZSA9IHRoaXMubGF5b3V0LnNpemU7XG4gIHZhciBzdHlsZSA9IHt9O1xuICB2YXIgaXNPcmlnaW5MZWZ0ID0gdGhpcy5sYXlvdXQuX2dldE9wdGlvbignb3JpZ2luTGVmdCcpO1xuICB2YXIgaXNPcmlnaW5Ub3AgPSB0aGlzLmxheW91dC5fZ2V0T3B0aW9uKCdvcmlnaW5Ub3AnKTtcblxuICAvLyB4XG4gIHZhciB4UGFkZGluZyA9IGlzT3JpZ2luTGVmdCA/ICdwYWRkaW5nTGVmdCcgOiAncGFkZGluZ1JpZ2h0JztcbiAgdmFyIHhQcm9wZXJ0eSA9IGlzT3JpZ2luTGVmdCA/ICdsZWZ0JyA6ICdyaWdodCc7XG4gIHZhciB4UmVzZXRQcm9wZXJ0eSA9IGlzT3JpZ2luTGVmdCA/ICdyaWdodCcgOiAnbGVmdCc7XG5cbiAgdmFyIHggPSB0aGlzLnBvc2l0aW9uLnggKyBsYXlvdXRTaXplWyB4UGFkZGluZyBdO1xuICAvLyBzZXQgaW4gcGVyY2VudGFnZSBvciBwaXhlbHNcbiAgc3R5bGVbIHhQcm9wZXJ0eSBdID0gdGhpcy5nZXRYVmFsdWUoIHggKTtcbiAgLy8gcmVzZXQgb3RoZXIgcHJvcGVydHlcbiAgc3R5bGVbIHhSZXNldFByb3BlcnR5IF0gPSAnJztcblxuICAvLyB5XG4gIHZhciB5UGFkZGluZyA9IGlzT3JpZ2luVG9wID8gJ3BhZGRpbmdUb3AnIDogJ3BhZGRpbmdCb3R0b20nO1xuICB2YXIgeVByb3BlcnR5ID0gaXNPcmlnaW5Ub3AgPyAndG9wJyA6ICdib3R0b20nO1xuICB2YXIgeVJlc2V0UHJvcGVydHkgPSBpc09yaWdpblRvcCA/ICdib3R0b20nIDogJ3RvcCc7XG5cbiAgdmFyIHkgPSB0aGlzLnBvc2l0aW9uLnkgKyBsYXlvdXRTaXplWyB5UGFkZGluZyBdO1xuICAvLyBzZXQgaW4gcGVyY2VudGFnZSBvciBwaXhlbHNcbiAgc3R5bGVbIHlQcm9wZXJ0eSBdID0gdGhpcy5nZXRZVmFsdWUoIHkgKTtcbiAgLy8gcmVzZXQgb3RoZXIgcHJvcGVydHlcbiAgc3R5bGVbIHlSZXNldFByb3BlcnR5IF0gPSAnJztcblxuICB0aGlzLmNzcyggc3R5bGUgKTtcbiAgdGhpcy5lbWl0RXZlbnQoICdsYXlvdXQnLCBbIHRoaXMgXSApO1xufTtcblxucHJvdG8uZ2V0WFZhbHVlID0gZnVuY3Rpb24oIHggKSB7XG4gIHZhciBpc0hvcml6b250YWwgPSB0aGlzLmxheW91dC5fZ2V0T3B0aW9uKCdob3Jpem9udGFsJyk7XG4gIHJldHVybiB0aGlzLmxheW91dC5vcHRpb25zLnBlcmNlbnRQb3NpdGlvbiAmJiAhaXNIb3Jpem9udGFsID9cbiAgICAoICggeCAvIHRoaXMubGF5b3V0LnNpemUud2lkdGggKSAqIDEwMCApICsgJyUnIDogeCArICdweCc7XG59O1xuXG5wcm90by5nZXRZVmFsdWUgPSBmdW5jdGlvbiggeSApIHtcbiAgdmFyIGlzSG9yaXpvbnRhbCA9IHRoaXMubGF5b3V0Ll9nZXRPcHRpb24oJ2hvcml6b250YWwnKTtcbiAgcmV0dXJuIHRoaXMubGF5b3V0Lm9wdGlvbnMucGVyY2VudFBvc2l0aW9uICYmIGlzSG9yaXpvbnRhbCA/XG4gICAgKCAoIHkgLyB0aGlzLmxheW91dC5zaXplLmhlaWdodCApICogMTAwICkgKyAnJScgOiB5ICsgJ3B4Jztcbn07XG5cbnByb3RvLl90cmFuc2l0aW9uVG8gPSBmdW5jdGlvbiggeCwgeSApIHtcbiAgdGhpcy5nZXRQb3NpdGlvbigpO1xuICAvLyBnZXQgY3VycmVudCB4ICYgeSBmcm9tIHRvcC9sZWZ0XG4gIHZhciBjdXJYID0gdGhpcy5wb3NpdGlvbi54O1xuICB2YXIgY3VyWSA9IHRoaXMucG9zaXRpb24ueTtcblxuICB2YXIgZGlkTm90TW92ZSA9IHggPT0gdGhpcy5wb3NpdGlvbi54ICYmIHkgPT0gdGhpcy5wb3NpdGlvbi55O1xuXG4gIC8vIHNhdmUgZW5kIHBvc2l0aW9uXG4gIHRoaXMuc2V0UG9zaXRpb24oIHgsIHkgKTtcblxuICAvLyBpZiBkaWQgbm90IG1vdmUgYW5kIG5vdCB0cmFuc2l0aW9uaW5nLCBqdXN0IGdvIHRvIGxheW91dFxuICBpZiAoIGRpZE5vdE1vdmUgJiYgIXRoaXMuaXNUcmFuc2l0aW9uaW5nICkge1xuICAgIHRoaXMubGF5b3V0UG9zaXRpb24oKTtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgdHJhbnNYID0geCAtIGN1clg7XG4gIHZhciB0cmFuc1kgPSB5IC0gY3VyWTtcbiAgdmFyIHRyYW5zaXRpb25TdHlsZSA9IHt9O1xuICB0cmFuc2l0aW9uU3R5bGUudHJhbnNmb3JtID0gdGhpcy5nZXRUcmFuc2xhdGUoIHRyYW5zWCwgdHJhbnNZICk7XG5cbiAgdGhpcy50cmFuc2l0aW9uKHtcbiAgICB0bzogdHJhbnNpdGlvblN0eWxlLFxuICAgIG9uVHJhbnNpdGlvbkVuZDoge1xuICAgICAgdHJhbnNmb3JtOiB0aGlzLmxheW91dFBvc2l0aW9uXG4gICAgfSxcbiAgICBpc0NsZWFuaW5nOiB0cnVlXG4gIH0pO1xufTtcblxucHJvdG8uZ2V0VHJhbnNsYXRlID0gZnVuY3Rpb24oIHgsIHkgKSB7XG4gIC8vIGZsaXAgY29vcmlkaW5hdGVzIGlmIG9yaWdpbiBvbiByaWdodCBvciBib3R0b21cbiAgdmFyIGlzT3JpZ2luTGVmdCA9IHRoaXMubGF5b3V0Ll9nZXRPcHRpb24oJ29yaWdpbkxlZnQnKTtcbiAgdmFyIGlzT3JpZ2luVG9wID0gdGhpcy5sYXlvdXQuX2dldE9wdGlvbignb3JpZ2luVG9wJyk7XG4gIHggPSBpc09yaWdpbkxlZnQgPyB4IDogLXg7XG4gIHkgPSBpc09yaWdpblRvcCA/IHkgOiAteTtcbiAgcmV0dXJuICd0cmFuc2xhdGUzZCgnICsgeCArICdweCwgJyArIHkgKyAncHgsIDApJztcbn07XG5cbi8vIG5vbiB0cmFuc2l0aW9uICsgdHJhbnNmb3JtIHN1cHBvcnRcbnByb3RvLmdvVG8gPSBmdW5jdGlvbiggeCwgeSApIHtcbiAgdGhpcy5zZXRQb3NpdGlvbiggeCwgeSApO1xuICB0aGlzLmxheW91dFBvc2l0aW9uKCk7XG59O1xuXG5wcm90by5tb3ZlVG8gPSBwcm90by5fdHJhbnNpdGlvblRvO1xuXG5wcm90by5zZXRQb3NpdGlvbiA9IGZ1bmN0aW9uKCB4LCB5ICkge1xuICB0aGlzLnBvc2l0aW9uLnggPSBwYXJzZUZsb2F0KCB4ICk7XG4gIHRoaXMucG9zaXRpb24ueSA9IHBhcnNlRmxvYXQoIHkgKTtcbn07XG5cbi8vIC0tLS0tIHRyYW5zaXRpb24gLS0tLS0gLy9cblxuLyoqXG4gKiBAcGFyYW0ge09iamVjdH0gc3R5bGUgLSBDU1NcbiAqIEBwYXJhbSB7RnVuY3Rpb259IG9uVHJhbnNpdGlvbkVuZFxuICovXG5cbi8vIG5vbiB0cmFuc2l0aW9uLCBqdXN0IHRyaWdnZXIgY2FsbGJhY2tcbnByb3RvLl9ub25UcmFuc2l0aW9uID0gZnVuY3Rpb24oIGFyZ3MgKSB7XG4gIHRoaXMuY3NzKCBhcmdzLnRvICk7XG4gIGlmICggYXJncy5pc0NsZWFuaW5nICkge1xuICAgIHRoaXMuX3JlbW92ZVN0eWxlcyggYXJncy50byApO1xuICB9XG4gIGZvciAoIHZhciBwcm9wIGluIGFyZ3Mub25UcmFuc2l0aW9uRW5kICkge1xuICAgIGFyZ3Mub25UcmFuc2l0aW9uRW5kWyBwcm9wIF0uY2FsbCggdGhpcyApO1xuICB9XG59O1xuXG4vKipcbiAqIHByb3BlciB0cmFuc2l0aW9uXG4gKiBAcGFyYW0ge09iamVjdH0gYXJncyAtIGFyZ3VtZW50c1xuICogICBAcGFyYW0ge09iamVjdH0gdG8gLSBzdHlsZSB0byB0cmFuc2l0aW9uIHRvXG4gKiAgIEBwYXJhbSB7T2JqZWN0fSBmcm9tIC0gc3R5bGUgdG8gc3RhcnQgdHJhbnNpdGlvbiBmcm9tXG4gKiAgIEBwYXJhbSB7Qm9vbGVhbn0gaXNDbGVhbmluZyAtIHJlbW92ZXMgdHJhbnNpdGlvbiBzdHlsZXMgYWZ0ZXIgdHJhbnNpdGlvblxuICogICBAcGFyYW0ge0Z1bmN0aW9ufSBvblRyYW5zaXRpb25FbmQgLSBjYWxsYmFja1xuICovXG5wcm90by50cmFuc2l0aW9uID0gZnVuY3Rpb24oIGFyZ3MgKSB7XG4gIC8vIHJlZGlyZWN0IHRvIG5vblRyYW5zaXRpb24gaWYgbm8gdHJhbnNpdGlvbiBkdXJhdGlvblxuICBpZiAoICFwYXJzZUZsb2F0KCB0aGlzLmxheW91dC5vcHRpb25zLnRyYW5zaXRpb25EdXJhdGlvbiApICkge1xuICAgIHRoaXMuX25vblRyYW5zaXRpb24oIGFyZ3MgKTtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgX3RyYW5zaXRpb24gPSB0aGlzLl90cmFuc247XG4gIC8vIGtlZXAgdHJhY2sgb2Ygb25UcmFuc2l0aW9uRW5kIGNhbGxiYWNrIGJ5IGNzcyBwcm9wZXJ0eVxuICBmb3IgKCB2YXIgcHJvcCBpbiBhcmdzLm9uVHJhbnNpdGlvbkVuZCApIHtcbiAgICBfdHJhbnNpdGlvbi5vbkVuZFsgcHJvcCBdID0gYXJncy5vblRyYW5zaXRpb25FbmRbIHByb3AgXTtcbiAgfVxuICAvLyBrZWVwIHRyYWNrIG9mIHByb3BlcnRpZXMgdGhhdCBhcmUgdHJhbnNpdGlvbmluZ1xuICBmb3IgKCBwcm9wIGluIGFyZ3MudG8gKSB7XG4gICAgX3RyYW5zaXRpb24uaW5nUHJvcGVydGllc1sgcHJvcCBdID0gdHJ1ZTtcbiAgICAvLyBrZWVwIHRyYWNrIG9mIHByb3BlcnRpZXMgdG8gY2xlYW4gdXAgd2hlbiB0cmFuc2l0aW9uIGlzIGRvbmVcbiAgICBpZiAoIGFyZ3MuaXNDbGVhbmluZyApIHtcbiAgICAgIF90cmFuc2l0aW9uLmNsZWFuWyBwcm9wIF0gPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIC8vIHNldCBmcm9tIHN0eWxlc1xuICBpZiAoIGFyZ3MuZnJvbSApIHtcbiAgICB0aGlzLmNzcyggYXJncy5mcm9tICk7XG4gICAgLy8gZm9yY2UgcmVkcmF3LiBodHRwOi8vYmxvZy5hbGV4bWFjY2F3LmNvbS9jc3MtdHJhbnNpdGlvbnNcbiAgICB2YXIgaCA9IHRoaXMuZWxlbWVudC5vZmZzZXRIZWlnaHQ7XG4gICAgLy8gaGFjayBmb3IgSlNIaW50IHRvIGh1c2ggYWJvdXQgdW51c2VkIHZhclxuICAgIGggPSBudWxsO1xuICB9XG4gIC8vIGVuYWJsZSB0cmFuc2l0aW9uXG4gIHRoaXMuZW5hYmxlVHJhbnNpdGlvbiggYXJncy50byApO1xuICAvLyBzZXQgc3R5bGVzIHRoYXQgYXJlIHRyYW5zaXRpb25pbmdcbiAgdGhpcy5jc3MoIGFyZ3MudG8gKTtcblxuICB0aGlzLmlzVHJhbnNpdGlvbmluZyA9IHRydWU7XG5cbn07XG5cbi8vIGRhc2ggYmVmb3JlIGFsbCBjYXAgbGV0dGVycywgaW5jbHVkaW5nIGZpcnN0IGZvclxuLy8gV2Via2l0VHJhbnNmb3JtID0+IC13ZWJraXQtdHJhbnNmb3JtXG5mdW5jdGlvbiB0b0Rhc2hlZEFsbCggc3RyICkge1xuICByZXR1cm4gc3RyLnJlcGxhY2UoIC8oW0EtWl0pL2csIGZ1bmN0aW9uKCAkMSApIHtcbiAgICByZXR1cm4gJy0nICsgJDEudG9Mb3dlckNhc2UoKTtcbiAgfSk7XG59XG5cbnZhciB0cmFuc2l0aW9uUHJvcHMgPSAnb3BhY2l0eSwnICsgdG9EYXNoZWRBbGwoIHRyYW5zZm9ybVByb3BlcnR5ICk7XG5cbnByb3RvLmVuYWJsZVRyYW5zaXRpb24gPSBmdW5jdGlvbigvKiBzdHlsZSAqLykge1xuICAvLyBIQUNLIGNoYW5naW5nIHRyYW5zaXRpb25Qcm9wZXJ0eSBkdXJpbmcgYSB0cmFuc2l0aW9uXG4gIC8vIHdpbGwgY2F1c2UgdHJhbnNpdGlvbiB0byBqdW1wXG4gIGlmICggdGhpcy5pc1RyYW5zaXRpb25pbmcgKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gbWFrZSBgdHJhbnNpdGlvbjogZm9vLCBiYXIsIGJhemAgZnJvbSBzdHlsZSBvYmplY3RcbiAgLy8gSEFDSyB1bi1jb21tZW50IHRoaXMgd2hlbiBlbmFibGVUcmFuc2l0aW9uIGNhbiB3b3JrXG4gIC8vIHdoaWxlIGEgdHJhbnNpdGlvbiBpcyBoYXBwZW5pbmdcbiAgLy8gdmFyIHRyYW5zaXRpb25WYWx1ZXMgPSBbXTtcbiAgLy8gZm9yICggdmFyIHByb3AgaW4gc3R5bGUgKSB7XG4gIC8vICAgLy8gZGFzaC1pZnkgY2FtZWxDYXNlZCBwcm9wZXJ0aWVzIGxpa2UgV2Via2l0VHJhbnNpdGlvblxuICAvLyAgIHByb3AgPSB2ZW5kb3JQcm9wZXJ0aWVzWyBwcm9wIF0gfHwgcHJvcDtcbiAgLy8gICB0cmFuc2l0aW9uVmFsdWVzLnB1c2goIHRvRGFzaGVkQWxsKCBwcm9wICkgKTtcbiAgLy8gfVxuICAvLyBtdW5nZSBudW1iZXIgdG8gbWlsbGlzZWNvbmQsIHRvIG1hdGNoIHN0YWdnZXJcbiAgdmFyIGR1cmF0aW9uID0gdGhpcy5sYXlvdXQub3B0aW9ucy50cmFuc2l0aW9uRHVyYXRpb247XG4gIGR1cmF0aW9uID0gdHlwZW9mIGR1cmF0aW9uID09ICdudW1iZXInID8gZHVyYXRpb24gKyAnbXMnIDogZHVyYXRpb247XG4gIC8vIGVuYWJsZSB0cmFuc2l0aW9uIHN0eWxlc1xuICB0aGlzLmNzcyh7XG4gICAgdHJhbnNpdGlvblByb3BlcnR5OiB0cmFuc2l0aW9uUHJvcHMsXG4gICAgdHJhbnNpdGlvbkR1cmF0aW9uOiBkdXJhdGlvbixcbiAgICB0cmFuc2l0aW9uRGVsYXk6IHRoaXMuc3RhZ2dlckRlbGF5IHx8IDBcbiAgfSk7XG4gIC8vIGxpc3RlbiBmb3IgdHJhbnNpdGlvbiBlbmQgZXZlbnRcbiAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoIHRyYW5zaXRpb25FbmRFdmVudCwgdGhpcywgZmFsc2UgKTtcbn07XG5cbi8vIC0tLS0tIGV2ZW50cyAtLS0tLSAvL1xuXG5wcm90by5vbndlYmtpdFRyYW5zaXRpb25FbmQgPSBmdW5jdGlvbiggZXZlbnQgKSB7XG4gIHRoaXMub250cmFuc2l0aW9uZW5kKCBldmVudCApO1xufTtcblxucHJvdG8ub25vdHJhbnNpdGlvbmVuZCA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgdGhpcy5vbnRyYW5zaXRpb25lbmQoIGV2ZW50ICk7XG59O1xuXG4vLyBwcm9wZXJ0aWVzIHRoYXQgSSBtdW5nZSB0byBtYWtlIG15IGxpZmUgZWFzaWVyXG52YXIgZGFzaGVkVmVuZG9yUHJvcGVydGllcyA9IHtcbiAgJy13ZWJraXQtdHJhbnNmb3JtJzogJ3RyYW5zZm9ybSdcbn07XG5cbnByb3RvLm9udHJhbnNpdGlvbmVuZCA9IGZ1bmN0aW9uKCBldmVudCApIHtcbiAgLy8gZGlzcmVnYXJkIGJ1YmJsZWQgZXZlbnRzIGZyb20gY2hpbGRyZW5cbiAgaWYgKCBldmVudC50YXJnZXQgIT09IHRoaXMuZWxlbWVudCApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIF90cmFuc2l0aW9uID0gdGhpcy5fdHJhbnNuO1xuICAvLyBnZXQgcHJvcGVydHkgbmFtZSBvZiB0cmFuc2l0aW9uZWQgcHJvcGVydHksIGNvbnZlcnQgdG8gcHJlZml4LWZyZWVcbiAgdmFyIHByb3BlcnR5TmFtZSA9IGRhc2hlZFZlbmRvclByb3BlcnRpZXNbIGV2ZW50LnByb3BlcnR5TmFtZSBdIHx8IGV2ZW50LnByb3BlcnR5TmFtZTtcblxuICAvLyByZW1vdmUgcHJvcGVydHkgdGhhdCBoYXMgY29tcGxldGVkIHRyYW5zaXRpb25pbmdcbiAgZGVsZXRlIF90cmFuc2l0aW9uLmluZ1Byb3BlcnRpZXNbIHByb3BlcnR5TmFtZSBdO1xuICAvLyBjaGVjayBpZiBhbnkgcHJvcGVydGllcyBhcmUgc3RpbGwgdHJhbnNpdGlvbmluZ1xuICBpZiAoIGlzRW1wdHlPYmooIF90cmFuc2l0aW9uLmluZ1Byb3BlcnRpZXMgKSApIHtcbiAgICAvLyBhbGwgcHJvcGVydGllcyBoYXZlIGNvbXBsZXRlZCB0cmFuc2l0aW9uaW5nXG4gICAgdGhpcy5kaXNhYmxlVHJhbnNpdGlvbigpO1xuICB9XG4gIC8vIGNsZWFuIHN0eWxlXG4gIGlmICggcHJvcGVydHlOYW1lIGluIF90cmFuc2l0aW9uLmNsZWFuICkge1xuICAgIC8vIGNsZWFuIHVwIHN0eWxlXG4gICAgdGhpcy5lbGVtZW50LnN0eWxlWyBldmVudC5wcm9wZXJ0eU5hbWUgXSA9ICcnO1xuICAgIGRlbGV0ZSBfdHJhbnNpdGlvbi5jbGVhblsgcHJvcGVydHlOYW1lIF07XG4gIH1cbiAgLy8gdHJpZ2dlciBvblRyYW5zaXRpb25FbmQgY2FsbGJhY2tcbiAgaWYgKCBwcm9wZXJ0eU5hbWUgaW4gX3RyYW5zaXRpb24ub25FbmQgKSB7XG4gICAgdmFyIG9uVHJhbnNpdGlvbkVuZCA9IF90cmFuc2l0aW9uLm9uRW5kWyBwcm9wZXJ0eU5hbWUgXTtcbiAgICBvblRyYW5zaXRpb25FbmQuY2FsbCggdGhpcyApO1xuICAgIGRlbGV0ZSBfdHJhbnNpdGlvbi5vbkVuZFsgcHJvcGVydHlOYW1lIF07XG4gIH1cblxuICB0aGlzLmVtaXRFdmVudCggJ3RyYW5zaXRpb25FbmQnLCBbIHRoaXMgXSApO1xufTtcblxucHJvdG8uZGlzYWJsZVRyYW5zaXRpb24gPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5yZW1vdmVUcmFuc2l0aW9uU3R5bGVzKCk7XG4gIHRoaXMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCB0cmFuc2l0aW9uRW5kRXZlbnQsIHRoaXMsIGZhbHNlICk7XG4gIHRoaXMuaXNUcmFuc2l0aW9uaW5nID0gZmFsc2U7XG59O1xuXG4vKipcbiAqIHJlbW92ZXMgc3R5bGUgcHJvcGVydHkgZnJvbSBlbGVtZW50XG4gKiBAcGFyYW0ge09iamVjdH0gc3R5bGVcbioqL1xucHJvdG8uX3JlbW92ZVN0eWxlcyA9IGZ1bmN0aW9uKCBzdHlsZSApIHtcbiAgLy8gY2xlYW4gdXAgdHJhbnNpdGlvbiBzdHlsZXNcbiAgdmFyIGNsZWFuU3R5bGUgPSB7fTtcbiAgZm9yICggdmFyIHByb3AgaW4gc3R5bGUgKSB7XG4gICAgY2xlYW5TdHlsZVsgcHJvcCBdID0gJyc7XG4gIH1cbiAgdGhpcy5jc3MoIGNsZWFuU3R5bGUgKTtcbn07XG5cbnZhciBjbGVhblRyYW5zaXRpb25TdHlsZSA9IHtcbiAgdHJhbnNpdGlvblByb3BlcnR5OiAnJyxcbiAgdHJhbnNpdGlvbkR1cmF0aW9uOiAnJyxcbiAgdHJhbnNpdGlvbkRlbGF5OiAnJ1xufTtcblxucHJvdG8ucmVtb3ZlVHJhbnNpdGlvblN0eWxlcyA9IGZ1bmN0aW9uKCkge1xuICAvLyByZW1vdmUgdHJhbnNpdGlvblxuICB0aGlzLmNzcyggY2xlYW5UcmFuc2l0aW9uU3R5bGUgKTtcbn07XG5cbi8vIC0tLS0tIHN0YWdnZXIgLS0tLS0gLy9cblxucHJvdG8uc3RhZ2dlciA9IGZ1bmN0aW9uKCBkZWxheSApIHtcbiAgZGVsYXkgPSBpc05hTiggZGVsYXkgKSA/IDAgOiBkZWxheTtcbiAgdGhpcy5zdGFnZ2VyRGVsYXkgPSBkZWxheSArICdtcyc7XG59O1xuXG4vLyAtLS0tLSBzaG93L2hpZGUvcmVtb3ZlIC0tLS0tIC8vXG5cbi8vIHJlbW92ZSBlbGVtZW50IGZyb20gRE9NXG5wcm90by5yZW1vdmVFbGVtID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMuZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCB0aGlzLmVsZW1lbnQgKTtcbiAgLy8gcmVtb3ZlIGRpc3BsYXk6IG5vbmVcbiAgdGhpcy5jc3MoeyBkaXNwbGF5OiAnJyB9KTtcbiAgdGhpcy5lbWl0RXZlbnQoICdyZW1vdmUnLCBbIHRoaXMgXSApO1xufTtcblxucHJvdG8ucmVtb3ZlID0gZnVuY3Rpb24oKSB7XG4gIC8vIGp1c3QgcmVtb3ZlIGVsZW1lbnQgaWYgbm8gdHJhbnNpdGlvbiBzdXBwb3J0IG9yIG5vIHRyYW5zaXRpb25cbiAgaWYgKCAhdHJhbnNpdGlvblByb3BlcnR5IHx8ICFwYXJzZUZsb2F0KCB0aGlzLmxheW91dC5vcHRpb25zLnRyYW5zaXRpb25EdXJhdGlvbiApICkge1xuICAgIHRoaXMucmVtb3ZlRWxlbSgpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIHN0YXJ0IHRyYW5zaXRpb25cbiAgdGhpcy5vbmNlKCAndHJhbnNpdGlvbkVuZCcsIGZ1bmN0aW9uKCkge1xuICAgIHRoaXMucmVtb3ZlRWxlbSgpO1xuICB9KTtcbiAgdGhpcy5oaWRlKCk7XG59O1xuXG5wcm90by5yZXZlYWwgPSBmdW5jdGlvbigpIHtcbiAgZGVsZXRlIHRoaXMuaXNIaWRkZW47XG4gIC8vIHJlbW92ZSBkaXNwbGF5OiBub25lXG4gIHRoaXMuY3NzKHsgZGlzcGxheTogJycgfSk7XG5cbiAgdmFyIG9wdGlvbnMgPSB0aGlzLmxheW91dC5vcHRpb25zO1xuXG4gIHZhciBvblRyYW5zaXRpb25FbmQgPSB7fTtcbiAgdmFyIHRyYW5zaXRpb25FbmRQcm9wZXJ0eSA9IHRoaXMuZ2V0SGlkZVJldmVhbFRyYW5zaXRpb25FbmRQcm9wZXJ0eSgndmlzaWJsZVN0eWxlJyk7XG4gIG9uVHJhbnNpdGlvbkVuZFsgdHJhbnNpdGlvbkVuZFByb3BlcnR5IF0gPSB0aGlzLm9uUmV2ZWFsVHJhbnNpdGlvbkVuZDtcblxuICB0aGlzLnRyYW5zaXRpb24oe1xuICAgIGZyb206IG9wdGlvbnMuaGlkZGVuU3R5bGUsXG4gICAgdG86IG9wdGlvbnMudmlzaWJsZVN0eWxlLFxuICAgIGlzQ2xlYW5pbmc6IHRydWUsXG4gICAgb25UcmFuc2l0aW9uRW5kOiBvblRyYW5zaXRpb25FbmRcbiAgfSk7XG59O1xuXG5wcm90by5vblJldmVhbFRyYW5zaXRpb25FbmQgPSBmdW5jdGlvbigpIHtcbiAgLy8gY2hlY2sgaWYgc3RpbGwgdmlzaWJsZVxuICAvLyBkdXJpbmcgdHJhbnNpdGlvbiwgaXRlbSBtYXkgaGF2ZSBiZWVuIGhpZGRlblxuICBpZiAoICF0aGlzLmlzSGlkZGVuICkge1xuICAgIHRoaXMuZW1pdEV2ZW50KCdyZXZlYWwnKTtcbiAgfVxufTtcblxuLyoqXG4gKiBnZXQgc3R5bGUgcHJvcGVydHkgdXNlIGZvciBoaWRlL3JldmVhbCB0cmFuc2l0aW9uIGVuZFxuICogQHBhcmFtIHtTdHJpbmd9IHN0eWxlUHJvcGVydHkgLSBoaWRkZW5TdHlsZS92aXNpYmxlU3R5bGVcbiAqIEByZXR1cm5zIHtTdHJpbmd9XG4gKi9cbnByb3RvLmdldEhpZGVSZXZlYWxUcmFuc2l0aW9uRW5kUHJvcGVydHkgPSBmdW5jdGlvbiggc3R5bGVQcm9wZXJ0eSApIHtcbiAgdmFyIG9wdGlvblN0eWxlID0gdGhpcy5sYXlvdXQub3B0aW9uc1sgc3R5bGVQcm9wZXJ0eSBdO1xuICAvLyB1c2Ugb3BhY2l0eVxuICBpZiAoIG9wdGlvblN0eWxlLm9wYWNpdHkgKSB7XG4gICAgcmV0dXJuICdvcGFjaXR5JztcbiAgfVxuICAvLyBnZXQgZmlyc3QgcHJvcGVydHlcbiAgZm9yICggdmFyIHByb3AgaW4gb3B0aW9uU3R5bGUgKSB7XG4gICAgcmV0dXJuIHByb3A7XG4gIH1cbn07XG5cbnByb3RvLmhpZGUgPSBmdW5jdGlvbigpIHtcbiAgLy8gc2V0IGZsYWdcbiAgdGhpcy5pc0hpZGRlbiA9IHRydWU7XG4gIC8vIHJlbW92ZSBkaXNwbGF5OiBub25lXG4gIHRoaXMuY3NzKHsgZGlzcGxheTogJycgfSk7XG5cbiAgdmFyIG9wdGlvbnMgPSB0aGlzLmxheW91dC5vcHRpb25zO1xuXG4gIHZhciBvblRyYW5zaXRpb25FbmQgPSB7fTtcbiAgdmFyIHRyYW5zaXRpb25FbmRQcm9wZXJ0eSA9IHRoaXMuZ2V0SGlkZVJldmVhbFRyYW5zaXRpb25FbmRQcm9wZXJ0eSgnaGlkZGVuU3R5bGUnKTtcbiAgb25UcmFuc2l0aW9uRW5kWyB0cmFuc2l0aW9uRW5kUHJvcGVydHkgXSA9IHRoaXMub25IaWRlVHJhbnNpdGlvbkVuZDtcblxuICB0aGlzLnRyYW5zaXRpb24oe1xuICAgIGZyb206IG9wdGlvbnMudmlzaWJsZVN0eWxlLFxuICAgIHRvOiBvcHRpb25zLmhpZGRlblN0eWxlLFxuICAgIC8vIGtlZXAgaGlkZGVuIHN0dWZmIGhpZGRlblxuICAgIGlzQ2xlYW5pbmc6IHRydWUsXG4gICAgb25UcmFuc2l0aW9uRW5kOiBvblRyYW5zaXRpb25FbmRcbiAgfSk7XG59O1xuXG5wcm90by5vbkhpZGVUcmFuc2l0aW9uRW5kID0gZnVuY3Rpb24oKSB7XG4gIC8vIGNoZWNrIGlmIHN0aWxsIGhpZGRlblxuICAvLyBkdXJpbmcgdHJhbnNpdGlvbiwgaXRlbSBtYXkgaGF2ZSBiZWVuIHVuLWhpZGRlblxuICBpZiAoIHRoaXMuaXNIaWRkZW4gKSB7XG4gICAgdGhpcy5jc3MoeyBkaXNwbGF5OiAnbm9uZScgfSk7XG4gICAgdGhpcy5lbWl0RXZlbnQoJ2hpZGUnKTtcbiAgfVxufTtcblxucHJvdG8uZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLmNzcyh7XG4gICAgcG9zaXRpb246ICcnLFxuICAgIGxlZnQ6ICcnLFxuICAgIHJpZ2h0OiAnJyxcbiAgICB0b3A6ICcnLFxuICAgIGJvdHRvbTogJycsXG4gICAgdHJhbnNpdGlvbjogJycsXG4gICAgdHJhbnNmb3JtOiAnJ1xuICB9KTtcbn07XG5cbnJldHVybiBJdGVtO1xuXG59KSk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/outlayer/item.js\n");

/***/ }),

/***/ "./node_modules/outlayer/outlayer.js":
/*!*******************************************!*\
  !*** ./node_modules/outlayer/outlayer.js ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!\n * Outlayer v2.1.1\n * the brains and guts of a layout library\n * MIT license\n */\n\n( function( window, factory ) {\n  'use strict';\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, require */\n  if ( true ) {\n    // AMD - RequireJS\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [\n        __webpack_require__(/*! ev-emitter/ev-emitter */ \"./node_modules/ev-emitter/ev-emitter.js\"),\n        __webpack_require__(/*! get-size/get-size */ \"./node_modules/get-size/get-size.js\"),\n        __webpack_require__(/*! fizzy-ui-utils/utils */ \"./node_modules/fizzy-ui-utils/utils.js\"),\n        __webpack_require__(/*! ./item */ \"./node_modules/outlayer/item.js\")\n      ], __WEBPACK_AMD_DEFINE_RESULT__ = (function( EvEmitter, getSize, utils, Item ) {\n        return factory( window, EvEmitter, getSize, utils, Item);\n      }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n\n}( window, function factory( window, EvEmitter, getSize, utils, Item ) {\n'use strict';\n\n// ----- vars ----- //\n\nvar console = window.console;\nvar jQuery = window.jQuery;\nvar noop = function() {};\n\n// -------------------------- Outlayer -------------------------- //\n\n// globally unique identifiers\nvar GUID = 0;\n// internal store of all Outlayer intances\nvar instances = {};\n\n\n/**\n * @param {Element, String} element\n * @param {Object} options\n * @constructor\n */\nfunction Outlayer( element, options ) {\n  var queryElement = utils.getQueryElement( element );\n  if ( !queryElement ) {\n    if ( console ) {\n      console.error( 'Bad element for ' + this.constructor.namespace +\n        ': ' + ( queryElement || element ) );\n    }\n    return;\n  }\n  this.element = queryElement;\n  // add jQuery\n  if ( jQuery ) {\n    this.$element = jQuery( this.element );\n  }\n\n  // options\n  this.options = utils.extend( {}, this.constructor.defaults );\n  this.option( options );\n\n  // add id for Outlayer.getFromElement\n  var id = ++GUID;\n  this.element.outlayerGUID = id; // expando\n  instances[ id ] = this; // associate via id\n\n  // kick it off\n  this._create();\n\n  var isInitLayout = this._getOption('initLayout');\n  if ( isInitLayout ) {\n    this.layout();\n  }\n}\n\n// settings are for internal use only\nOutlayer.namespace = 'outlayer';\nOutlayer.Item = Item;\n\n// default options\nOutlayer.defaults = {\n  containerStyle: {\n    position: 'relative'\n  },\n  initLayout: true,\n  originLeft: true,\n  originTop: true,\n  resize: true,\n  resizeContainer: true,\n  // item options\n  transitionDuration: '0.4s',\n  hiddenStyle: {\n    opacity: 0,\n    transform: 'scale(0.001)'\n  },\n  visibleStyle: {\n    opacity: 1,\n    transform: 'scale(1)'\n  }\n};\n\nvar proto = Outlayer.prototype;\n// inherit EvEmitter\nutils.extend( proto, EvEmitter.prototype );\n\n/**\n * set options\n * @param {Object} opts\n */\nproto.option = function( opts ) {\n  utils.extend( this.options, opts );\n};\n\n/**\n * get backwards compatible option value, check old name\n */\nproto._getOption = function( option ) {\n  var oldOption = this.constructor.compatOptions[ option ];\n  return oldOption && this.options[ oldOption ] !== undefined ?\n    this.options[ oldOption ] : this.options[ option ];\n};\n\nOutlayer.compatOptions = {\n  // currentName: oldName\n  initLayout: 'isInitLayout',\n  horizontal: 'isHorizontal',\n  layoutInstant: 'isLayoutInstant',\n  originLeft: 'isOriginLeft',\n  originTop: 'isOriginTop',\n  resize: 'isResizeBound',\n  resizeContainer: 'isResizingContainer'\n};\n\nproto._create = function() {\n  // get items from children\n  this.reloadItems();\n  // elements that affect layout, but are not laid out\n  this.stamps = [];\n  this.stamp( this.options.stamp );\n  // set container style\n  utils.extend( this.element.style, this.options.containerStyle );\n\n  // bind resize method\n  var canBindResize = this._getOption('resize');\n  if ( canBindResize ) {\n    this.bindResize();\n  }\n};\n\n// goes through all children again and gets bricks in proper order\nproto.reloadItems = function() {\n  // collection of item elements\n  this.items = this._itemize( this.element.children );\n};\n\n\n/**\n * turn elements into Outlayer.Items to be used in layout\n * @param {Array or NodeList or HTMLElement} elems\n * @returns {Array} items - collection of new Outlayer Items\n */\nproto._itemize = function( elems ) {\n\n  var itemElems = this._filterFindItemElements( elems );\n  var Item = this.constructor.Item;\n\n  // create new Outlayer Items for collection\n  var items = [];\n  for ( var i=0; i < itemElems.length; i++ ) {\n    var elem = itemElems[i];\n    var item = new Item( elem, this );\n    items.push( item );\n  }\n\n  return items;\n};\n\n/**\n * get item elements to be used in layout\n * @param {Array or NodeList or HTMLElement} elems\n * @returns {Array} items - item elements\n */\nproto._filterFindItemElements = function( elems ) {\n  return utils.filterFindElements( elems, this.options.itemSelector );\n};\n\n/**\n * getter method for getting item elements\n * @returns {Array} elems - collection of item elements\n */\nproto.getItemElements = function() {\n  return this.items.map( function( item ) {\n    return item.element;\n  });\n};\n\n// ----- init & layout ----- //\n\n/**\n * lays out all items\n */\nproto.layout = function() {\n  this._resetLayout();\n  this._manageStamps();\n\n  // don't animate first layout\n  var layoutInstant = this._getOption('layoutInstant');\n  var isInstant = layoutInstant !== undefined ?\n    layoutInstant : !this._isLayoutInited;\n  this.layoutItems( this.items, isInstant );\n\n  // flag for initalized\n  this._isLayoutInited = true;\n};\n\n// _init is alias for layout\nproto._init = proto.layout;\n\n/**\n * logic before any new layout\n */\nproto._resetLayout = function() {\n  this.getSize();\n};\n\n\nproto.getSize = function() {\n  this.size = getSize( this.element );\n};\n\n/**\n * get measurement from option, for columnWidth, rowHeight, gutter\n * if option is String -> get element from selector string, & get size of element\n * if option is Element -> get size of element\n * else use option as a number\n *\n * @param {String} measurement\n * @param {String} size - width or height\n * @private\n */\nproto._getMeasurement = function( measurement, size ) {\n  var option = this.options[ measurement ];\n  var elem;\n  if ( !option ) {\n    // default to 0\n    this[ measurement ] = 0;\n  } else {\n    // use option as an element\n    if ( typeof option == 'string' ) {\n      elem = this.element.querySelector( option );\n    } else if ( option instanceof HTMLElement ) {\n      elem = option;\n    }\n    // use size of element, if element\n    this[ measurement ] = elem ? getSize( elem )[ size ] : option;\n  }\n};\n\n/**\n * layout a collection of item elements\n * @api public\n */\nproto.layoutItems = function( items, isInstant ) {\n  items = this._getItemsForLayout( items );\n\n  this._layoutItems( items, isInstant );\n\n  this._postLayout();\n};\n\n/**\n * get the items to be laid out\n * you may want to skip over some items\n * @param {Array} items\n * @returns {Array} items\n */\nproto._getItemsForLayout = function( items ) {\n  return items.filter( function( item ) {\n    return !item.isIgnored;\n  });\n};\n\n/**\n * layout items\n * @param {Array} items\n * @param {Boolean} isInstant\n */\nproto._layoutItems = function( items, isInstant ) {\n  this._emitCompleteOnItems( 'layout', items );\n\n  if ( !items || !items.length ) {\n    // no items, emit event with empty array\n    return;\n  }\n\n  var queue = [];\n\n  items.forEach( function( item ) {\n    // get x/y object from method\n    var position = this._getItemLayoutPosition( item );\n    // enqueue\n    position.item = item;\n    position.isInstant = isInstant || item.isLayoutInstant;\n    queue.push( position );\n  }, this );\n\n  this._processLayoutQueue( queue );\n};\n\n/**\n * get item layout position\n * @param {Outlayer.Item} item\n * @returns {Object} x and y position\n */\nproto._getItemLayoutPosition = function( /* item */ ) {\n  return {\n    x: 0,\n    y: 0\n  };\n};\n\n/**\n * iterate over array and position each item\n * Reason being - separating this logic prevents 'layout invalidation'\n * thx @paul_irish\n * @param {Array} queue\n */\nproto._processLayoutQueue = function( queue ) {\n  this.updateStagger();\n  queue.forEach( function( obj, i ) {\n    this._positionItem( obj.item, obj.x, obj.y, obj.isInstant, i );\n  }, this );\n};\n\n// set stagger from option in milliseconds number\nproto.updateStagger = function() {\n  var stagger = this.options.stagger;\n  if ( stagger === null || stagger === undefined ) {\n    this.stagger = 0;\n    return;\n  }\n  this.stagger = getMilliseconds( stagger );\n  return this.stagger;\n};\n\n/**\n * Sets position of item in DOM\n * @param {Outlayer.Item} item\n * @param {Number} x - horizontal position\n * @param {Number} y - vertical position\n * @param {Boolean} isInstant - disables transitions\n */\nproto._positionItem = function( item, x, y, isInstant, i ) {\n  if ( isInstant ) {\n    // if not transition, just set CSS\n    item.goTo( x, y );\n  } else {\n    item.stagger( i * this.stagger );\n    item.moveTo( x, y );\n  }\n};\n\n/**\n * Any logic you want to do after each layout,\n * i.e. size the container\n */\nproto._postLayout = function() {\n  this.resizeContainer();\n};\n\nproto.resizeContainer = function() {\n  var isResizingContainer = this._getOption('resizeContainer');\n  if ( !isResizingContainer ) {\n    return;\n  }\n  var size = this._getContainerSize();\n  if ( size ) {\n    this._setContainerMeasure( size.width, true );\n    this._setContainerMeasure( size.height, false );\n  }\n};\n\n/**\n * Sets width or height of container if returned\n * @returns {Object} size\n *   @param {Number} width\n *   @param {Number} height\n */\nproto._getContainerSize = noop;\n\n/**\n * @param {Number} measure - size of width or height\n * @param {Boolean} isWidth\n */\nproto._setContainerMeasure = function( measure, isWidth ) {\n  if ( measure === undefined ) {\n    return;\n  }\n\n  var elemSize = this.size;\n  // add padding and border width if border box\n  if ( elemSize.isBorderBox ) {\n    measure += isWidth ? elemSize.paddingLeft + elemSize.paddingRight +\n      elemSize.borderLeftWidth + elemSize.borderRightWidth :\n      elemSize.paddingBottom + elemSize.paddingTop +\n      elemSize.borderTopWidth + elemSize.borderBottomWidth;\n  }\n\n  measure = Math.max( measure, 0 );\n  this.element.style[ isWidth ? 'width' : 'height' ] = measure + 'px';\n};\n\n/**\n * emit eventComplete on a collection of items events\n * @param {String} eventName\n * @param {Array} items - Outlayer.Items\n */\nproto._emitCompleteOnItems = function( eventName, items ) {\n  var _this = this;\n  function onComplete() {\n    _this.dispatchEvent( eventName + 'Complete', null, [ items ] );\n  }\n\n  var count = items.length;\n  if ( !items || !count ) {\n    onComplete();\n    return;\n  }\n\n  var doneCount = 0;\n  function tick() {\n    doneCount++;\n    if ( doneCount == count ) {\n      onComplete();\n    }\n  }\n\n  // bind callback\n  items.forEach( function( item ) {\n    item.once( eventName, tick );\n  });\n};\n\n/**\n * emits events via EvEmitter and jQuery events\n * @param {String} type - name of event\n * @param {Event} event - original event\n * @param {Array} args - extra arguments\n */\nproto.dispatchEvent = function( type, event, args ) {\n  // add original event to arguments\n  var emitArgs = event ? [ event ].concat( args ) : args;\n  this.emitEvent( type, emitArgs );\n\n  if ( jQuery ) {\n    // set this.$element\n    this.$element = this.$element || jQuery( this.element );\n    if ( event ) {\n      // create jQuery event\n      var $event = jQuery.Event( event );\n      $event.type = type;\n      this.$element.trigger( $event, args );\n    } else {\n      // just trigger with type if no event available\n      this.$element.trigger( type, args );\n    }\n  }\n};\n\n// -------------------------- ignore & stamps -------------------------- //\n\n\n/**\n * keep item in collection, but do not lay it out\n * ignored items do not get skipped in layout\n * @param {Element} elem\n */\nproto.ignore = function( elem ) {\n  var item = this.getItem( elem );\n  if ( item ) {\n    item.isIgnored = true;\n  }\n};\n\n/**\n * return item to layout collection\n * @param {Element} elem\n */\nproto.unignore = function( elem ) {\n  var item = this.getItem( elem );\n  if ( item ) {\n    delete item.isIgnored;\n  }\n};\n\n/**\n * adds elements to stamps\n * @param {NodeList, Array, Element, or String} elems\n */\nproto.stamp = function( elems ) {\n  elems = this._find( elems );\n  if ( !elems ) {\n    return;\n  }\n\n  this.stamps = this.stamps.concat( elems );\n  // ignore\n  elems.forEach( this.ignore, this );\n};\n\n/**\n * removes elements to stamps\n * @param {NodeList, Array, or Element} elems\n */\nproto.unstamp = function( elems ) {\n  elems = this._find( elems );\n  if ( !elems ){\n    return;\n  }\n\n  elems.forEach( function( elem ) {\n    // filter out removed stamp elements\n    utils.removeFrom( this.stamps, elem );\n    this.unignore( elem );\n  }, this );\n};\n\n/**\n * finds child elements\n * @param {NodeList, Array, Element, or String} elems\n * @returns {Array} elems\n */\nproto._find = function( elems ) {\n  if ( !elems ) {\n    return;\n  }\n  // if string, use argument as selector string\n  if ( typeof elems == 'string' ) {\n    elems = this.element.querySelectorAll( elems );\n  }\n  elems = utils.makeArray( elems );\n  return elems;\n};\n\nproto._manageStamps = function() {\n  if ( !this.stamps || !this.stamps.length ) {\n    return;\n  }\n\n  this._getBoundingRect();\n\n  this.stamps.forEach( this._manageStamp, this );\n};\n\n// update boundingLeft / Top\nproto._getBoundingRect = function() {\n  // get bounding rect for container element\n  var boundingRect = this.element.getBoundingClientRect();\n  var size = this.size;\n  this._boundingRect = {\n    left: boundingRect.left + size.paddingLeft + size.borderLeftWidth,\n    top: boundingRect.top + size.paddingTop + size.borderTopWidth,\n    right: boundingRect.right - ( size.paddingRight + size.borderRightWidth ),\n    bottom: boundingRect.bottom - ( size.paddingBottom + size.borderBottomWidth )\n  };\n};\n\n/**\n * @param {Element} stamp\n**/\nproto._manageStamp = noop;\n\n/**\n * get x/y position of element relative to container element\n * @param {Element} elem\n * @returns {Object} offset - has left, top, right, bottom\n */\nproto._getElementOffset = function( elem ) {\n  var boundingRect = elem.getBoundingClientRect();\n  var thisRect = this._boundingRect;\n  var size = getSize( elem );\n  var offset = {\n    left: boundingRect.left - thisRect.left - size.marginLeft,\n    top: boundingRect.top - thisRect.top - size.marginTop,\n    right: thisRect.right - boundingRect.right - size.marginRight,\n    bottom: thisRect.bottom - boundingRect.bottom - size.marginBottom\n  };\n  return offset;\n};\n\n// -------------------------- resize -------------------------- //\n\n// enable event handlers for listeners\n// i.e. resize -> onresize\nproto.handleEvent = utils.handleEvent;\n\n/**\n * Bind layout to window resizing\n */\nproto.bindResize = function() {\n  window.addEventListener( 'resize', this );\n  this.isResizeBound = true;\n};\n\n/**\n * Unbind layout to window resizing\n */\nproto.unbindResize = function() {\n  window.removeEventListener( 'resize', this );\n  this.isResizeBound = false;\n};\n\nproto.onresize = function() {\n  this.resize();\n};\n\nutils.debounceMethod( Outlayer, 'onresize', 100 );\n\nproto.resize = function() {\n  // don't trigger if size did not change\n  // or if resize was unbound. See #9\n  if ( !this.isResizeBound || !this.needsResizeLayout() ) {\n    return;\n  }\n\n  this.layout();\n};\n\n/**\n * check if layout is needed post layout\n * @returns Boolean\n */\nproto.needsResizeLayout = function() {\n  var size = getSize( this.element );\n  // check that this.size and size are there\n  // IE8 triggers resize on body size change, so they might not be\n  var hasSizes = this.size && size;\n  return hasSizes && size.innerWidth !== this.size.innerWidth;\n};\n\n// -------------------------- methods -------------------------- //\n\n/**\n * add items to Outlayer instance\n * @param {Array or NodeList or Element} elems\n * @returns {Array} items - Outlayer.Items\n**/\nproto.addItems = function( elems ) {\n  var items = this._itemize( elems );\n  // add items to collection\n  if ( items.length ) {\n    this.items = this.items.concat( items );\n  }\n  return items;\n};\n\n/**\n * Layout newly-appended item elements\n * @param {Array or NodeList or Element} elems\n */\nproto.appended = function( elems ) {\n  var items = this.addItems( elems );\n  if ( !items.length ) {\n    return;\n  }\n  // layout and reveal just the new items\n  this.layoutItems( items, true );\n  this.reveal( items );\n};\n\n/**\n * Layout prepended elements\n * @param {Array or NodeList or Element} elems\n */\nproto.prepended = function( elems ) {\n  var items = this._itemize( elems );\n  if ( !items.length ) {\n    return;\n  }\n  // add items to beginning of collection\n  var previousItems = this.items.slice(0);\n  this.items = items.concat( previousItems );\n  // start new layout\n  this._resetLayout();\n  this._manageStamps();\n  // layout new stuff without transition\n  this.layoutItems( items, true );\n  this.reveal( items );\n  // layout previous items\n  this.layoutItems( previousItems );\n};\n\n/**\n * reveal a collection of items\n * @param {Array of Outlayer.Items} items\n */\nproto.reveal = function( items ) {\n  this._emitCompleteOnItems( 'reveal', items );\n  if ( !items || !items.length ) {\n    return;\n  }\n  var stagger = this.updateStagger();\n  items.forEach( function( item, i ) {\n    item.stagger( i * stagger );\n    item.reveal();\n  });\n};\n\n/**\n * hide a collection of items\n * @param {Array of Outlayer.Items} items\n */\nproto.hide = function( items ) {\n  this._emitCompleteOnItems( 'hide', items );\n  if ( !items || !items.length ) {\n    return;\n  }\n  var stagger = this.updateStagger();\n  items.forEach( function( item, i ) {\n    item.stagger( i * stagger );\n    item.hide();\n  });\n};\n\n/**\n * reveal item elements\n * @param {Array}, {Element}, {NodeList} items\n */\nproto.revealItemElements = function( elems ) {\n  var items = this.getItems( elems );\n  this.reveal( items );\n};\n\n/**\n * hide item elements\n * @param {Array}, {Element}, {NodeList} items\n */\nproto.hideItemElements = function( elems ) {\n  var items = this.getItems( elems );\n  this.hide( items );\n};\n\n/**\n * get Outlayer.Item, given an Element\n * @param {Element} elem\n * @param {Function} callback\n * @returns {Outlayer.Item} item\n */\nproto.getItem = function( elem ) {\n  // loop through items to get the one that matches\n  for ( var i=0; i < this.items.length; i++ ) {\n    var item = this.items[i];\n    if ( item.element == elem ) {\n      // return item\n      return item;\n    }\n  }\n};\n\n/**\n * get collection of Outlayer.Items, given Elements\n * @param {Array} elems\n * @returns {Array} items - Outlayer.Items\n */\nproto.getItems = function( elems ) {\n  elems = utils.makeArray( elems );\n  var items = [];\n  elems.forEach( function( elem ) {\n    var item = this.getItem( elem );\n    if ( item ) {\n      items.push( item );\n    }\n  }, this );\n\n  return items;\n};\n\n/**\n * remove element(s) from instance and DOM\n * @param {Array or NodeList or Element} elems\n */\nproto.remove = function( elems ) {\n  var removeItems = this.getItems( elems );\n\n  this._emitCompleteOnItems( 'remove', removeItems );\n\n  // bail if no items to remove\n  if ( !removeItems || !removeItems.length ) {\n    return;\n  }\n\n  removeItems.forEach( function( item ) {\n    item.remove();\n    // remove item from collection\n    utils.removeFrom( this.items, item );\n  }, this );\n};\n\n// ----- destroy ----- //\n\n// remove and disable Outlayer instance\nproto.destroy = function() {\n  // clean up dynamic styles\n  var style = this.element.style;\n  style.height = '';\n  style.position = '';\n  style.width = '';\n  // destroy items\n  this.items.forEach( function( item ) {\n    item.destroy();\n  });\n\n  this.unbindResize();\n\n  var id = this.element.outlayerGUID;\n  delete instances[ id ]; // remove reference to instance by id\n  delete this.element.outlayerGUID;\n  // remove data for jQuery\n  if ( jQuery ) {\n    jQuery.removeData( this.element, this.constructor.namespace );\n  }\n\n};\n\n// -------------------------- data -------------------------- //\n\n/**\n * get Outlayer instance from element\n * @param {Element} elem\n * @returns {Outlayer}\n */\nOutlayer.data = function( elem ) {\n  elem = utils.getQueryElement( elem );\n  var id = elem && elem.outlayerGUID;\n  return id && instances[ id ];\n};\n\n\n// -------------------------- create Outlayer class -------------------------- //\n\n/**\n * create a layout class\n * @param {String} namespace\n */\nOutlayer.create = function( namespace, options ) {\n  // sub-class Outlayer\n  var Layout = subclass( Outlayer );\n  // apply new options and compatOptions\n  Layout.defaults = utils.extend( {}, Outlayer.defaults );\n  utils.extend( Layout.defaults, options );\n  Layout.compatOptions = utils.extend( {}, Outlayer.compatOptions  );\n\n  Layout.namespace = namespace;\n\n  Layout.data = Outlayer.data;\n\n  // sub-class Item\n  Layout.Item = subclass( Item );\n\n  // -------------------------- declarative -------------------------- //\n\n  utils.htmlInit( Layout, namespace );\n\n  // -------------------------- jQuery bridge -------------------------- //\n\n  // make into jQuery plugin\n  if ( jQuery && jQuery.bridget ) {\n    jQuery.bridget( namespace, Layout );\n  }\n\n  return Layout;\n};\n\nfunction subclass( Parent ) {\n  function SubClass() {\n    Parent.apply( this, arguments );\n  }\n\n  SubClass.prototype = Object.create( Parent.prototype );\n  SubClass.prototype.constructor = SubClass;\n\n  return SubClass;\n}\n\n// ----- helpers ----- //\n\n// how many milliseconds are in each unit\nvar msUnits = {\n  ms: 1,\n  s: 1000\n};\n\n// munge time-like parameter into millisecond number\n// '0.4s' -> 40\nfunction getMilliseconds( time ) {\n  if ( typeof time == 'number' ) {\n    return time;\n  }\n  var matches = time.match( /(^\\d*\\.?\\d*)(\\w*)/ );\n  var num = matches && matches[1];\n  var unit = matches && matches[2];\n  if ( !num.length ) {\n    return 0;\n  }\n  num = parseFloat( num );\n  var mult = msUnits[ unit ] || 1;\n  return num * mult;\n}\n\n// ----- fin ----- //\n\n// back in global\nOutlayer.Item = Item;\n\nreturn Outlayer;\n\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb3V0bGF5ZXIvb3V0bGF5ZXIuanM/MWYyZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxJQUF5QztBQUNoRDtBQUNBLElBQUksaUNBQVE7QUFDWixRQUFRLDJGQUF1QjtBQUMvQixRQUFRLG1GQUFtQjtBQUMzQixRQUFRLHlGQUFzQjtBQUM5QixRQUFRLG9FQUFRO0FBQ2hCLE9BQU8sbUNBQ0Q7QUFDTjtBQUNBLE9BQU87QUFBQSxvR0FDRjtBQUNMLEdBQUcsTUFBTSxFQWtCTjs7QUFFSCxDQUFDO0FBQ0Q7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBLFdBQVcsZ0JBQWdCO0FBQzNCLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGlDQUFpQztBQUNqQzs7QUFFQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDLHlCQUF5Qjs7QUFFekI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBLFdBQVcsaUNBQWlDO0FBQzVDLGFBQWEsTUFBTTtBQUNuQjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGdCQUFnQixzQkFBc0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxpQ0FBaUM7QUFDNUMsYUFBYSxNQUFNO0FBQ25CO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxhQUFhLE1BQU07QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsT0FBTztBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCLGFBQWEsTUFBTTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsY0FBYztBQUN6QixhQUFhLE9BQU87QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLE1BQU07QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxjQUFjO0FBQ3pCLFdBQVcsT0FBTztBQUNsQixXQUFXLE9BQU87QUFDbEIsV0FBVyxRQUFRO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSxPQUFPO0FBQ3BCLGFBQWEsT0FBTztBQUNwQixhQUFhLE9BQU87QUFDcEI7QUFDQTs7QUFFQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCLFdBQVcsTUFBTTtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBLFdBQVcsT0FBTztBQUNsQixXQUFXLE1BQU07QUFDakIsV0FBVyxNQUFNO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxvQ0FBb0M7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLDRCQUE0QjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBLFdBQVcsb0NBQW9DO0FBQy9DLGFBQWEsTUFBTTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLGFBQWEsT0FBTztBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLFdBQVcsNkJBQTZCO0FBQ3hDLGFBQWEsTUFBTTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsNkJBQTZCO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLDZCQUE2QjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsd0JBQXdCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQSxXQUFXLHdCQUF3QjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxNQUFNLEdBQUcsUUFBUSxHQUFHLFNBQVM7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxNQUFNLEdBQUcsUUFBUSxHQUFHLFNBQVM7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLFdBQVcsU0FBUztBQUNwQixhQUFhLGNBQWM7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHVCQUF1QjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxNQUFNO0FBQ2pCLGFBQWEsTUFBTTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVcsNkJBQTZCO0FBQ3hDO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsV0FBVyxRQUFRO0FBQ25CLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7QUFDQSxXQUFXLE9BQU87QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBLHlDQUF5Qzs7QUFFekM7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUEsQ0FBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9vdXRsYXllci9vdXRsYXllci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogT3V0bGF5ZXIgdjIuMS4xXG4gKiB0aGUgYnJhaW5zIGFuZCBndXRzIG9mIGEgbGF5b3V0IGxpYnJhcnlcbiAqIE1JVCBsaWNlbnNlXG4gKi9cblxuKCBmdW5jdGlvbiggd2luZG93LCBmYWN0b3J5ICkge1xuICAndXNlIHN0cmljdCc7XG4gIC8vIHVuaXZlcnNhbCBtb2R1bGUgZGVmaW5pdGlvblxuICAvKiBqc2hpbnQgc3RyaWN0OiBmYWxzZSAqLyAvKiBnbG9iYWxzIGRlZmluZSwgbW9kdWxlLCByZXF1aXJlICovXG4gIGlmICggdHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgKSB7XG4gICAgLy8gQU1EIC0gUmVxdWlyZUpTXG4gICAgZGVmaW5lKCBbXG4gICAgICAgICdldi1lbWl0dGVyL2V2LWVtaXR0ZXInLFxuICAgICAgICAnZ2V0LXNpemUvZ2V0LXNpemUnLFxuICAgICAgICAnZml6enktdWktdXRpbHMvdXRpbHMnLFxuICAgICAgICAnLi9pdGVtJ1xuICAgICAgXSxcbiAgICAgIGZ1bmN0aW9uKCBFdkVtaXR0ZXIsIGdldFNpemUsIHV0aWxzLCBJdGVtICkge1xuICAgICAgICByZXR1cm4gZmFjdG9yeSggd2luZG93LCBFdkVtaXR0ZXIsIGdldFNpemUsIHV0aWxzLCBJdGVtKTtcbiAgICAgIH1cbiAgICApO1xuICB9IGVsc2UgaWYgKCB0eXBlb2YgbW9kdWxlID09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzICkge1xuICAgIC8vIENvbW1vbkpTIC0gQnJvd3NlcmlmeSwgV2VicGFja1xuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShcbiAgICAgIHdpbmRvdyxcbiAgICAgIHJlcXVpcmUoJ2V2LWVtaXR0ZXInKSxcbiAgICAgIHJlcXVpcmUoJ2dldC1zaXplJyksXG4gICAgICByZXF1aXJlKCdmaXp6eS11aS11dGlscycpLFxuICAgICAgcmVxdWlyZSgnLi9pdGVtJylcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIC8vIGJyb3dzZXIgZ2xvYmFsXG4gICAgd2luZG93Lk91dGxheWVyID0gZmFjdG9yeShcbiAgICAgIHdpbmRvdyxcbiAgICAgIHdpbmRvdy5FdkVtaXR0ZXIsXG4gICAgICB3aW5kb3cuZ2V0U2l6ZSxcbiAgICAgIHdpbmRvdy5maXp6eVVJVXRpbHMsXG4gICAgICB3aW5kb3cuT3V0bGF5ZXIuSXRlbVxuICAgICk7XG4gIH1cblxufSggd2luZG93LCBmdW5jdGlvbiBmYWN0b3J5KCB3aW5kb3csIEV2RW1pdHRlciwgZ2V0U2l6ZSwgdXRpbHMsIEl0ZW0gKSB7XG4ndXNlIHN0cmljdCc7XG5cbi8vIC0tLS0tIHZhcnMgLS0tLS0gLy9cblxudmFyIGNvbnNvbGUgPSB3aW5kb3cuY29uc29sZTtcbnZhciBqUXVlcnkgPSB3aW5kb3cualF1ZXJ5O1xudmFyIG5vb3AgPSBmdW5jdGlvbigpIHt9O1xuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSBPdXRsYXllciAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4vLyBnbG9iYWxseSB1bmlxdWUgaWRlbnRpZmllcnNcbnZhciBHVUlEID0gMDtcbi8vIGludGVybmFsIHN0b3JlIG9mIGFsbCBPdXRsYXllciBpbnRhbmNlc1xudmFyIGluc3RhbmNlcyA9IHt9O1xuXG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50LCBTdHJpbmd9IGVsZW1lbnRcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gT3V0bGF5ZXIoIGVsZW1lbnQsIG9wdGlvbnMgKSB7XG4gIHZhciBxdWVyeUVsZW1lbnQgPSB1dGlscy5nZXRRdWVyeUVsZW1lbnQoIGVsZW1lbnQgKTtcbiAgaWYgKCAhcXVlcnlFbGVtZW50ICkge1xuICAgIGlmICggY29uc29sZSApIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoICdCYWQgZWxlbWVudCBmb3IgJyArIHRoaXMuY29uc3RydWN0b3IubmFtZXNwYWNlICtcbiAgICAgICAgJzogJyArICggcXVlcnlFbGVtZW50IHx8IGVsZW1lbnQgKSApO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cbiAgdGhpcy5lbGVtZW50ID0gcXVlcnlFbGVtZW50O1xuICAvLyBhZGQgalF1ZXJ5XG4gIGlmICggalF1ZXJ5ICkge1xuICAgIHRoaXMuJGVsZW1lbnQgPSBqUXVlcnkoIHRoaXMuZWxlbWVudCApO1xuICB9XG5cbiAgLy8gb3B0aW9uc1xuICB0aGlzLm9wdGlvbnMgPSB1dGlscy5leHRlbmQoIHt9LCB0aGlzLmNvbnN0cnVjdG9yLmRlZmF1bHRzICk7XG4gIHRoaXMub3B0aW9uKCBvcHRpb25zICk7XG5cbiAgLy8gYWRkIGlkIGZvciBPdXRsYXllci5nZXRGcm9tRWxlbWVudFxuICB2YXIgaWQgPSArK0dVSUQ7XG4gIHRoaXMuZWxlbWVudC5vdXRsYXllckdVSUQgPSBpZDsgLy8gZXhwYW5kb1xuICBpbnN0YW5jZXNbIGlkIF0gPSB0aGlzOyAvLyBhc3NvY2lhdGUgdmlhIGlkXG5cbiAgLy8ga2ljayBpdCBvZmZcbiAgdGhpcy5fY3JlYXRlKCk7XG5cbiAgdmFyIGlzSW5pdExheW91dCA9IHRoaXMuX2dldE9wdGlvbignaW5pdExheW91dCcpO1xuICBpZiAoIGlzSW5pdExheW91dCApIHtcbiAgICB0aGlzLmxheW91dCgpO1xuICB9XG59XG5cbi8vIHNldHRpbmdzIGFyZSBmb3IgaW50ZXJuYWwgdXNlIG9ubHlcbk91dGxheWVyLm5hbWVzcGFjZSA9ICdvdXRsYXllcic7XG5PdXRsYXllci5JdGVtID0gSXRlbTtcblxuLy8gZGVmYXVsdCBvcHRpb25zXG5PdXRsYXllci5kZWZhdWx0cyA9IHtcbiAgY29udGFpbmVyU3R5bGU6IHtcbiAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJ1xuICB9LFxuICBpbml0TGF5b3V0OiB0cnVlLFxuICBvcmlnaW5MZWZ0OiB0cnVlLFxuICBvcmlnaW5Ub3A6IHRydWUsXG4gIHJlc2l6ZTogdHJ1ZSxcbiAgcmVzaXplQ29udGFpbmVyOiB0cnVlLFxuICAvLyBpdGVtIG9wdGlvbnNcbiAgdHJhbnNpdGlvbkR1cmF0aW9uOiAnMC40cycsXG4gIGhpZGRlblN0eWxlOiB7XG4gICAgb3BhY2l0eTogMCxcbiAgICB0cmFuc2Zvcm06ICdzY2FsZSgwLjAwMSknXG4gIH0sXG4gIHZpc2libGVTdHlsZToge1xuICAgIG9wYWNpdHk6IDEsXG4gICAgdHJhbnNmb3JtOiAnc2NhbGUoMSknXG4gIH1cbn07XG5cbnZhciBwcm90byA9IE91dGxheWVyLnByb3RvdHlwZTtcbi8vIGluaGVyaXQgRXZFbWl0dGVyXG51dGlscy5leHRlbmQoIHByb3RvLCBFdkVtaXR0ZXIucHJvdG90eXBlICk7XG5cbi8qKlxuICogc2V0IG9wdGlvbnNcbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRzXG4gKi9cbnByb3RvLm9wdGlvbiA9IGZ1bmN0aW9uKCBvcHRzICkge1xuICB1dGlscy5leHRlbmQoIHRoaXMub3B0aW9ucywgb3B0cyApO1xufTtcblxuLyoqXG4gKiBnZXQgYmFja3dhcmRzIGNvbXBhdGlibGUgb3B0aW9uIHZhbHVlLCBjaGVjayBvbGQgbmFtZVxuICovXG5wcm90by5fZ2V0T3B0aW9uID0gZnVuY3Rpb24oIG9wdGlvbiApIHtcbiAgdmFyIG9sZE9wdGlvbiA9IHRoaXMuY29uc3RydWN0b3IuY29tcGF0T3B0aW9uc1sgb3B0aW9uIF07XG4gIHJldHVybiBvbGRPcHRpb24gJiYgdGhpcy5vcHRpb25zWyBvbGRPcHRpb24gXSAhPT0gdW5kZWZpbmVkID9cbiAgICB0aGlzLm9wdGlvbnNbIG9sZE9wdGlvbiBdIDogdGhpcy5vcHRpb25zWyBvcHRpb24gXTtcbn07XG5cbk91dGxheWVyLmNvbXBhdE9wdGlvbnMgPSB7XG4gIC8vIGN1cnJlbnROYW1lOiBvbGROYW1lXG4gIGluaXRMYXlvdXQ6ICdpc0luaXRMYXlvdXQnLFxuICBob3Jpem9udGFsOiAnaXNIb3Jpem9udGFsJyxcbiAgbGF5b3V0SW5zdGFudDogJ2lzTGF5b3V0SW5zdGFudCcsXG4gIG9yaWdpbkxlZnQ6ICdpc09yaWdpbkxlZnQnLFxuICBvcmlnaW5Ub3A6ICdpc09yaWdpblRvcCcsXG4gIHJlc2l6ZTogJ2lzUmVzaXplQm91bmQnLFxuICByZXNpemVDb250YWluZXI6ICdpc1Jlc2l6aW5nQ29udGFpbmVyJ1xufTtcblxucHJvdG8uX2NyZWF0ZSA9IGZ1bmN0aW9uKCkge1xuICAvLyBnZXQgaXRlbXMgZnJvbSBjaGlsZHJlblxuICB0aGlzLnJlbG9hZEl0ZW1zKCk7XG4gIC8vIGVsZW1lbnRzIHRoYXQgYWZmZWN0IGxheW91dCwgYnV0IGFyZSBub3QgbGFpZCBvdXRcbiAgdGhpcy5zdGFtcHMgPSBbXTtcbiAgdGhpcy5zdGFtcCggdGhpcy5vcHRpb25zLnN0YW1wICk7XG4gIC8vIHNldCBjb250YWluZXIgc3R5bGVcbiAgdXRpbHMuZXh0ZW5kKCB0aGlzLmVsZW1lbnQuc3R5bGUsIHRoaXMub3B0aW9ucy5jb250YWluZXJTdHlsZSApO1xuXG4gIC8vIGJpbmQgcmVzaXplIG1ldGhvZFxuICB2YXIgY2FuQmluZFJlc2l6ZSA9IHRoaXMuX2dldE9wdGlvbigncmVzaXplJyk7XG4gIGlmICggY2FuQmluZFJlc2l6ZSApIHtcbiAgICB0aGlzLmJpbmRSZXNpemUoKTtcbiAgfVxufTtcblxuLy8gZ29lcyB0aHJvdWdoIGFsbCBjaGlsZHJlbiBhZ2FpbiBhbmQgZ2V0cyBicmlja3MgaW4gcHJvcGVyIG9yZGVyXG5wcm90by5yZWxvYWRJdGVtcyA9IGZ1bmN0aW9uKCkge1xuICAvLyBjb2xsZWN0aW9uIG9mIGl0ZW0gZWxlbWVudHNcbiAgdGhpcy5pdGVtcyA9IHRoaXMuX2l0ZW1pemUoIHRoaXMuZWxlbWVudC5jaGlsZHJlbiApO1xufTtcblxuXG4vKipcbiAqIHR1cm4gZWxlbWVudHMgaW50byBPdXRsYXllci5JdGVtcyB0byBiZSB1c2VkIGluIGxheW91dFxuICogQHBhcmFtIHtBcnJheSBvciBOb2RlTGlzdCBvciBIVE1MRWxlbWVudH0gZWxlbXNcbiAqIEByZXR1cm5zIHtBcnJheX0gaXRlbXMgLSBjb2xsZWN0aW9uIG9mIG5ldyBPdXRsYXllciBJdGVtc1xuICovXG5wcm90by5faXRlbWl6ZSA9IGZ1bmN0aW9uKCBlbGVtcyApIHtcblxuICB2YXIgaXRlbUVsZW1zID0gdGhpcy5fZmlsdGVyRmluZEl0ZW1FbGVtZW50cyggZWxlbXMgKTtcbiAgdmFyIEl0ZW0gPSB0aGlzLmNvbnN0cnVjdG9yLkl0ZW07XG5cbiAgLy8gY3JlYXRlIG5ldyBPdXRsYXllciBJdGVtcyBmb3IgY29sbGVjdGlvblxuICB2YXIgaXRlbXMgPSBbXTtcbiAgZm9yICggdmFyIGk9MDsgaSA8IGl0ZW1FbGVtcy5sZW5ndGg7IGkrKyApIHtcbiAgICB2YXIgZWxlbSA9IGl0ZW1FbGVtc1tpXTtcbiAgICB2YXIgaXRlbSA9IG5ldyBJdGVtKCBlbGVtLCB0aGlzICk7XG4gICAgaXRlbXMucHVzaCggaXRlbSApO1xuICB9XG5cbiAgcmV0dXJuIGl0ZW1zO1xufTtcblxuLyoqXG4gKiBnZXQgaXRlbSBlbGVtZW50cyB0byBiZSB1c2VkIGluIGxheW91dFxuICogQHBhcmFtIHtBcnJheSBvciBOb2RlTGlzdCBvciBIVE1MRWxlbWVudH0gZWxlbXNcbiAqIEByZXR1cm5zIHtBcnJheX0gaXRlbXMgLSBpdGVtIGVsZW1lbnRzXG4gKi9cbnByb3RvLl9maWx0ZXJGaW5kSXRlbUVsZW1lbnRzID0gZnVuY3Rpb24oIGVsZW1zICkge1xuICByZXR1cm4gdXRpbHMuZmlsdGVyRmluZEVsZW1lbnRzKCBlbGVtcywgdGhpcy5vcHRpb25zLml0ZW1TZWxlY3RvciApO1xufTtcblxuLyoqXG4gKiBnZXR0ZXIgbWV0aG9kIGZvciBnZXR0aW5nIGl0ZW0gZWxlbWVudHNcbiAqIEByZXR1cm5zIHtBcnJheX0gZWxlbXMgLSBjb2xsZWN0aW9uIG9mIGl0ZW0gZWxlbWVudHNcbiAqL1xucHJvdG8uZ2V0SXRlbUVsZW1lbnRzID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLml0ZW1zLm1hcCggZnVuY3Rpb24oIGl0ZW0gKSB7XG4gICAgcmV0dXJuIGl0ZW0uZWxlbWVudDtcbiAgfSk7XG59O1xuXG4vLyAtLS0tLSBpbml0ICYgbGF5b3V0IC0tLS0tIC8vXG5cbi8qKlxuICogbGF5cyBvdXQgYWxsIGl0ZW1zXG4gKi9cbnByb3RvLmxheW91dCA9IGZ1bmN0aW9uKCkge1xuICB0aGlzLl9yZXNldExheW91dCgpO1xuICB0aGlzLl9tYW5hZ2VTdGFtcHMoKTtcblxuICAvLyBkb24ndCBhbmltYXRlIGZpcnN0IGxheW91dFxuICB2YXIgbGF5b3V0SW5zdGFudCA9IHRoaXMuX2dldE9wdGlvbignbGF5b3V0SW5zdGFudCcpO1xuICB2YXIgaXNJbnN0YW50ID0gbGF5b3V0SW5zdGFudCAhPT0gdW5kZWZpbmVkID9cbiAgICBsYXlvdXRJbnN0YW50IDogIXRoaXMuX2lzTGF5b3V0SW5pdGVkO1xuICB0aGlzLmxheW91dEl0ZW1zKCB0aGlzLml0ZW1zLCBpc0luc3RhbnQgKTtcblxuICAvLyBmbGFnIGZvciBpbml0YWxpemVkXG4gIHRoaXMuX2lzTGF5b3V0SW5pdGVkID0gdHJ1ZTtcbn07XG5cbi8vIF9pbml0IGlzIGFsaWFzIGZvciBsYXlvdXRcbnByb3RvLl9pbml0ID0gcHJvdG8ubGF5b3V0O1xuXG4vKipcbiAqIGxvZ2ljIGJlZm9yZSBhbnkgbmV3IGxheW91dFxuICovXG5wcm90by5fcmVzZXRMYXlvdXQgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5nZXRTaXplKCk7XG59O1xuXG5cbnByb3RvLmdldFNpemUgPSBmdW5jdGlvbigpIHtcbiAgdGhpcy5zaXplID0gZ2V0U2l6ZSggdGhpcy5lbGVtZW50ICk7XG59O1xuXG4vKipcbiAqIGdldCBtZWFzdXJlbWVudCBmcm9tIG9wdGlvbiwgZm9yIGNvbHVtbldpZHRoLCByb3dIZWlnaHQsIGd1dHRlclxuICogaWYgb3B0aW9uIGlzIFN0cmluZyAtPiBnZXQgZWxlbWVudCBmcm9tIHNlbGVjdG9yIHN0cmluZywgJiBnZXQgc2l6ZSBvZiBlbGVtZW50XG4gKiBpZiBvcHRpb24gaXMgRWxlbWVudCAtPiBnZXQgc2l6ZSBvZiBlbGVtZW50XG4gKiBlbHNlIHVzZSBvcHRpb24gYXMgYSBudW1iZXJcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbWVhc3VyZW1lbnRcbiAqIEBwYXJhbSB7U3RyaW5nfSBzaXplIC0gd2lkdGggb3IgaGVpZ2h0XG4gKiBAcHJpdmF0ZVxuICovXG5wcm90by5fZ2V0TWVhc3VyZW1lbnQgPSBmdW5jdGlvbiggbWVhc3VyZW1lbnQsIHNpemUgKSB7XG4gIHZhciBvcHRpb24gPSB0aGlzLm9wdGlvbnNbIG1lYXN1cmVtZW50IF07XG4gIHZhciBlbGVtO1xuICBpZiAoICFvcHRpb24gKSB7XG4gICAgLy8gZGVmYXVsdCB0byAwXG4gICAgdGhpc1sgbWVhc3VyZW1lbnQgXSA9IDA7XG4gIH0gZWxzZSB7XG4gICAgLy8gdXNlIG9wdGlvbiBhcyBhbiBlbGVtZW50XG4gICAgaWYgKCB0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnICkge1xuICAgICAgZWxlbSA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCBvcHRpb24gKTtcbiAgICB9IGVsc2UgaWYgKCBvcHRpb24gaW5zdGFuY2VvZiBIVE1MRWxlbWVudCApIHtcbiAgICAgIGVsZW0gPSBvcHRpb247XG4gICAgfVxuICAgIC8vIHVzZSBzaXplIG9mIGVsZW1lbnQsIGlmIGVsZW1lbnRcbiAgICB0aGlzWyBtZWFzdXJlbWVudCBdID0gZWxlbSA/IGdldFNpemUoIGVsZW0gKVsgc2l6ZSBdIDogb3B0aW9uO1xuICB9XG59O1xuXG4vKipcbiAqIGxheW91dCBhIGNvbGxlY3Rpb24gb2YgaXRlbSBlbGVtZW50c1xuICogQGFwaSBwdWJsaWNcbiAqL1xucHJvdG8ubGF5b3V0SXRlbXMgPSBmdW5jdGlvbiggaXRlbXMsIGlzSW5zdGFudCApIHtcbiAgaXRlbXMgPSB0aGlzLl9nZXRJdGVtc0ZvckxheW91dCggaXRlbXMgKTtcblxuICB0aGlzLl9sYXlvdXRJdGVtcyggaXRlbXMsIGlzSW5zdGFudCApO1xuXG4gIHRoaXMuX3Bvc3RMYXlvdXQoKTtcbn07XG5cbi8qKlxuICogZ2V0IHRoZSBpdGVtcyB0byBiZSBsYWlkIG91dFxuICogeW91IG1heSB3YW50IHRvIHNraXAgb3ZlciBzb21lIGl0ZW1zXG4gKiBAcGFyYW0ge0FycmF5fSBpdGVtc1xuICogQHJldHVybnMge0FycmF5fSBpdGVtc1xuICovXG5wcm90by5fZ2V0SXRlbXNGb3JMYXlvdXQgPSBmdW5jdGlvbiggaXRlbXMgKSB7XG4gIHJldHVybiBpdGVtcy5maWx0ZXIoIGZ1bmN0aW9uKCBpdGVtICkge1xuICAgIHJldHVybiAhaXRlbS5pc0lnbm9yZWQ7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBsYXlvdXQgaXRlbXNcbiAqIEBwYXJhbSB7QXJyYXl9IGl0ZW1zXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGlzSW5zdGFudFxuICovXG5wcm90by5fbGF5b3V0SXRlbXMgPSBmdW5jdGlvbiggaXRlbXMsIGlzSW5zdGFudCApIHtcbiAgdGhpcy5fZW1pdENvbXBsZXRlT25JdGVtcyggJ2xheW91dCcsIGl0ZW1zICk7XG5cbiAgaWYgKCAhaXRlbXMgfHwgIWl0ZW1zLmxlbmd0aCApIHtcbiAgICAvLyBubyBpdGVtcywgZW1pdCBldmVudCB3aXRoIGVtcHR5IGFycmF5XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHF1ZXVlID0gW107XG5cbiAgaXRlbXMuZm9yRWFjaCggZnVuY3Rpb24oIGl0ZW0gKSB7XG4gICAgLy8gZ2V0IHgveSBvYmplY3QgZnJvbSBtZXRob2RcbiAgICB2YXIgcG9zaXRpb24gPSB0aGlzLl9nZXRJdGVtTGF5b3V0UG9zaXRpb24oIGl0ZW0gKTtcbiAgICAvLyBlbnF1ZXVlXG4gICAgcG9zaXRpb24uaXRlbSA9IGl0ZW07XG4gICAgcG9zaXRpb24uaXNJbnN0YW50ID0gaXNJbnN0YW50IHx8IGl0ZW0uaXNMYXlvdXRJbnN0YW50O1xuICAgIHF1ZXVlLnB1c2goIHBvc2l0aW9uICk7XG4gIH0sIHRoaXMgKTtcblxuICB0aGlzLl9wcm9jZXNzTGF5b3V0UXVldWUoIHF1ZXVlICk7XG59O1xuXG4vKipcbiAqIGdldCBpdGVtIGxheW91dCBwb3NpdGlvblxuICogQHBhcmFtIHtPdXRsYXllci5JdGVtfSBpdGVtXG4gKiBAcmV0dXJucyB7T2JqZWN0fSB4IGFuZCB5IHBvc2l0aW9uXG4gKi9cbnByb3RvLl9nZXRJdGVtTGF5b3V0UG9zaXRpb24gPSBmdW5jdGlvbiggLyogaXRlbSAqLyApIHtcbiAgcmV0dXJuIHtcbiAgICB4OiAwLFxuICAgIHk6IDBcbiAgfTtcbn07XG5cbi8qKlxuICogaXRlcmF0ZSBvdmVyIGFycmF5IGFuZCBwb3NpdGlvbiBlYWNoIGl0ZW1cbiAqIFJlYXNvbiBiZWluZyAtIHNlcGFyYXRpbmcgdGhpcyBsb2dpYyBwcmV2ZW50cyAnbGF5b3V0IGludmFsaWRhdGlvbidcbiAqIHRoeCBAcGF1bF9pcmlzaFxuICogQHBhcmFtIHtBcnJheX0gcXVldWVcbiAqL1xucHJvdG8uX3Byb2Nlc3NMYXlvdXRRdWV1ZSA9IGZ1bmN0aW9uKCBxdWV1ZSApIHtcbiAgdGhpcy51cGRhdGVTdGFnZ2VyKCk7XG4gIHF1ZXVlLmZvckVhY2goIGZ1bmN0aW9uKCBvYmosIGkgKSB7XG4gICAgdGhpcy5fcG9zaXRpb25JdGVtKCBvYmouaXRlbSwgb2JqLngsIG9iai55LCBvYmouaXNJbnN0YW50LCBpICk7XG4gIH0sIHRoaXMgKTtcbn07XG5cbi8vIHNldCBzdGFnZ2VyIGZyb20gb3B0aW9uIGluIG1pbGxpc2Vjb25kcyBudW1iZXJcbnByb3RvLnVwZGF0ZVN0YWdnZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHN0YWdnZXIgPSB0aGlzLm9wdGlvbnMuc3RhZ2dlcjtcbiAgaWYgKCBzdGFnZ2VyID09PSBudWxsIHx8IHN0YWdnZXIgPT09IHVuZGVmaW5lZCApIHtcbiAgICB0aGlzLnN0YWdnZXIgPSAwO1xuICAgIHJldHVybjtcbiAgfVxuICB0aGlzLnN0YWdnZXIgPSBnZXRNaWxsaXNlY29uZHMoIHN0YWdnZXIgKTtcbiAgcmV0dXJuIHRoaXMuc3RhZ2dlcjtcbn07XG5cbi8qKlxuICogU2V0cyBwb3NpdGlvbiBvZiBpdGVtIGluIERPTVxuICogQHBhcmFtIHtPdXRsYXllci5JdGVtfSBpdGVtXG4gKiBAcGFyYW0ge051bWJlcn0geCAtIGhvcml6b250YWwgcG9zaXRpb25cbiAqIEBwYXJhbSB7TnVtYmVyfSB5IC0gdmVydGljYWwgcG9zaXRpb25cbiAqIEBwYXJhbSB7Qm9vbGVhbn0gaXNJbnN0YW50IC0gZGlzYWJsZXMgdHJhbnNpdGlvbnNcbiAqL1xucHJvdG8uX3Bvc2l0aW9uSXRlbSA9IGZ1bmN0aW9uKCBpdGVtLCB4LCB5LCBpc0luc3RhbnQsIGkgKSB7XG4gIGlmICggaXNJbnN0YW50ICkge1xuICAgIC8vIGlmIG5vdCB0cmFuc2l0aW9uLCBqdXN0IHNldCBDU1NcbiAgICBpdGVtLmdvVG8oIHgsIHkgKTtcbiAgfSBlbHNlIHtcbiAgICBpdGVtLnN0YWdnZXIoIGkgKiB0aGlzLnN0YWdnZXIgKTtcbiAgICBpdGVtLm1vdmVUbyggeCwgeSApO1xuICB9XG59O1xuXG4vKipcbiAqIEFueSBsb2dpYyB5b3Ugd2FudCB0byBkbyBhZnRlciBlYWNoIGxheW91dCxcbiAqIGkuZS4gc2l6ZSB0aGUgY29udGFpbmVyXG4gKi9cbnByb3RvLl9wb3N0TGF5b3V0ID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMucmVzaXplQ29udGFpbmVyKCk7XG59O1xuXG5wcm90by5yZXNpemVDb250YWluZXIgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGlzUmVzaXppbmdDb250YWluZXIgPSB0aGlzLl9nZXRPcHRpb24oJ3Jlc2l6ZUNvbnRhaW5lcicpO1xuICBpZiAoICFpc1Jlc2l6aW5nQ29udGFpbmVyICkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgc2l6ZSA9IHRoaXMuX2dldENvbnRhaW5lclNpemUoKTtcbiAgaWYgKCBzaXplICkge1xuICAgIHRoaXMuX3NldENvbnRhaW5lck1lYXN1cmUoIHNpemUud2lkdGgsIHRydWUgKTtcbiAgICB0aGlzLl9zZXRDb250YWluZXJNZWFzdXJlKCBzaXplLmhlaWdodCwgZmFsc2UgKTtcbiAgfVxufTtcblxuLyoqXG4gKiBTZXRzIHdpZHRoIG9yIGhlaWdodCBvZiBjb250YWluZXIgaWYgcmV0dXJuZWRcbiAqIEByZXR1cm5zIHtPYmplY3R9IHNpemVcbiAqICAgQHBhcmFtIHtOdW1iZXJ9IHdpZHRoXG4gKiAgIEBwYXJhbSB7TnVtYmVyfSBoZWlnaHRcbiAqL1xucHJvdG8uX2dldENvbnRhaW5lclNpemUgPSBub29wO1xuXG4vKipcbiAqIEBwYXJhbSB7TnVtYmVyfSBtZWFzdXJlIC0gc2l6ZSBvZiB3aWR0aCBvciBoZWlnaHRcbiAqIEBwYXJhbSB7Qm9vbGVhbn0gaXNXaWR0aFxuICovXG5wcm90by5fc2V0Q29udGFpbmVyTWVhc3VyZSA9IGZ1bmN0aW9uKCBtZWFzdXJlLCBpc1dpZHRoICkge1xuICBpZiAoIG1lYXN1cmUgPT09IHVuZGVmaW5lZCApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgZWxlbVNpemUgPSB0aGlzLnNpemU7XG4gIC8vIGFkZCBwYWRkaW5nIGFuZCBib3JkZXIgd2lkdGggaWYgYm9yZGVyIGJveFxuICBpZiAoIGVsZW1TaXplLmlzQm9yZGVyQm94ICkge1xuICAgIG1lYXN1cmUgKz0gaXNXaWR0aCA/IGVsZW1TaXplLnBhZGRpbmdMZWZ0ICsgZWxlbVNpemUucGFkZGluZ1JpZ2h0ICtcbiAgICAgIGVsZW1TaXplLmJvcmRlckxlZnRXaWR0aCArIGVsZW1TaXplLmJvcmRlclJpZ2h0V2lkdGggOlxuICAgICAgZWxlbVNpemUucGFkZGluZ0JvdHRvbSArIGVsZW1TaXplLnBhZGRpbmdUb3AgK1xuICAgICAgZWxlbVNpemUuYm9yZGVyVG9wV2lkdGggKyBlbGVtU2l6ZS5ib3JkZXJCb3R0b21XaWR0aDtcbiAgfVxuXG4gIG1lYXN1cmUgPSBNYXRoLm1heCggbWVhc3VyZSwgMCApO1xuICB0aGlzLmVsZW1lbnQuc3R5bGVbIGlzV2lkdGggPyAnd2lkdGgnIDogJ2hlaWdodCcgXSA9IG1lYXN1cmUgKyAncHgnO1xufTtcblxuLyoqXG4gKiBlbWl0IGV2ZW50Q29tcGxldGUgb24gYSBjb2xsZWN0aW9uIG9mIGl0ZW1zIGV2ZW50c1xuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50TmFtZVxuICogQHBhcmFtIHtBcnJheX0gaXRlbXMgLSBPdXRsYXllci5JdGVtc1xuICovXG5wcm90by5fZW1pdENvbXBsZXRlT25JdGVtcyA9IGZ1bmN0aW9uKCBldmVudE5hbWUsIGl0ZW1zICkge1xuICB2YXIgX3RoaXMgPSB0aGlzO1xuICBmdW5jdGlvbiBvbkNvbXBsZXRlKCkge1xuICAgIF90aGlzLmRpc3BhdGNoRXZlbnQoIGV2ZW50TmFtZSArICdDb21wbGV0ZScsIG51bGwsIFsgaXRlbXMgXSApO1xuICB9XG5cbiAgdmFyIGNvdW50ID0gaXRlbXMubGVuZ3RoO1xuICBpZiAoICFpdGVtcyB8fCAhY291bnQgKSB7XG4gICAgb25Db21wbGV0ZSgpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBkb25lQ291bnQgPSAwO1xuICBmdW5jdGlvbiB0aWNrKCkge1xuICAgIGRvbmVDb3VudCsrO1xuICAgIGlmICggZG9uZUNvdW50ID09IGNvdW50ICkge1xuICAgICAgb25Db21wbGV0ZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGJpbmQgY2FsbGJhY2tcbiAgaXRlbXMuZm9yRWFjaCggZnVuY3Rpb24oIGl0ZW0gKSB7XG4gICAgaXRlbS5vbmNlKCBldmVudE5hbWUsIHRpY2sgKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIGVtaXRzIGV2ZW50cyB2aWEgRXZFbWl0dGVyIGFuZCBqUXVlcnkgZXZlbnRzXG4gKiBAcGFyYW0ge1N0cmluZ30gdHlwZSAtIG5hbWUgb2YgZXZlbnRcbiAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IC0gb3JpZ2luYWwgZXZlbnRcbiAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgLSBleHRyYSBhcmd1bWVudHNcbiAqL1xucHJvdG8uZGlzcGF0Y2hFdmVudCA9IGZ1bmN0aW9uKCB0eXBlLCBldmVudCwgYXJncyApIHtcbiAgLy8gYWRkIG9yaWdpbmFsIGV2ZW50IHRvIGFyZ3VtZW50c1xuICB2YXIgZW1pdEFyZ3MgPSBldmVudCA/IFsgZXZlbnQgXS5jb25jYXQoIGFyZ3MgKSA6IGFyZ3M7XG4gIHRoaXMuZW1pdEV2ZW50KCB0eXBlLCBlbWl0QXJncyApO1xuXG4gIGlmICggalF1ZXJ5ICkge1xuICAgIC8vIHNldCB0aGlzLiRlbGVtZW50XG4gICAgdGhpcy4kZWxlbWVudCA9IHRoaXMuJGVsZW1lbnQgfHwgalF1ZXJ5KCB0aGlzLmVsZW1lbnQgKTtcbiAgICBpZiAoIGV2ZW50ICkge1xuICAgICAgLy8gY3JlYXRlIGpRdWVyeSBldmVudFxuICAgICAgdmFyICRldmVudCA9IGpRdWVyeS5FdmVudCggZXZlbnQgKTtcbiAgICAgICRldmVudC50eXBlID0gdHlwZTtcbiAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlciggJGV2ZW50LCBhcmdzICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGp1c3QgdHJpZ2dlciB3aXRoIHR5cGUgaWYgbm8gZXZlbnQgYXZhaWxhYmxlXG4gICAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoIHR5cGUsIGFyZ3MgKTtcbiAgICB9XG4gIH1cbn07XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGlnbm9yZSAmIHN0YW1wcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG5cbi8qKlxuICoga2VlcCBpdGVtIGluIGNvbGxlY3Rpb24sIGJ1dCBkbyBub3QgbGF5IGl0IG91dFxuICogaWdub3JlZCBpdGVtcyBkbyBub3QgZ2V0IHNraXBwZWQgaW4gbGF5b3V0XG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1cbiAqL1xucHJvdG8uaWdub3JlID0gZnVuY3Rpb24oIGVsZW0gKSB7XG4gIHZhciBpdGVtID0gdGhpcy5nZXRJdGVtKCBlbGVtICk7XG4gIGlmICggaXRlbSApIHtcbiAgICBpdGVtLmlzSWdub3JlZCA9IHRydWU7XG4gIH1cbn07XG5cbi8qKlxuICogcmV0dXJuIGl0ZW0gdG8gbGF5b3V0IGNvbGxlY3Rpb25cbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbVxuICovXG5wcm90by51bmlnbm9yZSA9IGZ1bmN0aW9uKCBlbGVtICkge1xuICB2YXIgaXRlbSA9IHRoaXMuZ2V0SXRlbSggZWxlbSApO1xuICBpZiAoIGl0ZW0gKSB7XG4gICAgZGVsZXRlIGl0ZW0uaXNJZ25vcmVkO1xuICB9XG59O1xuXG4vKipcbiAqIGFkZHMgZWxlbWVudHMgdG8gc3RhbXBzXG4gKiBAcGFyYW0ge05vZGVMaXN0LCBBcnJheSwgRWxlbWVudCwgb3IgU3RyaW5nfSBlbGVtc1xuICovXG5wcm90by5zdGFtcCA9IGZ1bmN0aW9uKCBlbGVtcyApIHtcbiAgZWxlbXMgPSB0aGlzLl9maW5kKCBlbGVtcyApO1xuICBpZiAoICFlbGVtcyApIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB0aGlzLnN0YW1wcyA9IHRoaXMuc3RhbXBzLmNvbmNhdCggZWxlbXMgKTtcbiAgLy8gaWdub3JlXG4gIGVsZW1zLmZvckVhY2goIHRoaXMuaWdub3JlLCB0aGlzICk7XG59O1xuXG4vKipcbiAqIHJlbW92ZXMgZWxlbWVudHMgdG8gc3RhbXBzXG4gKiBAcGFyYW0ge05vZGVMaXN0LCBBcnJheSwgb3IgRWxlbWVudH0gZWxlbXNcbiAqL1xucHJvdG8udW5zdGFtcCA9IGZ1bmN0aW9uKCBlbGVtcyApIHtcbiAgZWxlbXMgPSB0aGlzLl9maW5kKCBlbGVtcyApO1xuICBpZiAoICFlbGVtcyApe1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGVsZW1zLmZvckVhY2goIGZ1bmN0aW9uKCBlbGVtICkge1xuICAgIC8vIGZpbHRlciBvdXQgcmVtb3ZlZCBzdGFtcCBlbGVtZW50c1xuICAgIHV0aWxzLnJlbW92ZUZyb20oIHRoaXMuc3RhbXBzLCBlbGVtICk7XG4gICAgdGhpcy51bmlnbm9yZSggZWxlbSApO1xuICB9LCB0aGlzICk7XG59O1xuXG4vKipcbiAqIGZpbmRzIGNoaWxkIGVsZW1lbnRzXG4gKiBAcGFyYW0ge05vZGVMaXN0LCBBcnJheSwgRWxlbWVudCwgb3IgU3RyaW5nfSBlbGVtc1xuICogQHJldHVybnMge0FycmF5fSBlbGVtc1xuICovXG5wcm90by5fZmluZCA9IGZ1bmN0aW9uKCBlbGVtcyApIHtcbiAgaWYgKCAhZWxlbXMgKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIGlmIHN0cmluZywgdXNlIGFyZ3VtZW50IGFzIHNlbGVjdG9yIHN0cmluZ1xuICBpZiAoIHR5cGVvZiBlbGVtcyA9PSAnc3RyaW5nJyApIHtcbiAgICBlbGVtcyA9IHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCBlbGVtcyApO1xuICB9XG4gIGVsZW1zID0gdXRpbHMubWFrZUFycmF5KCBlbGVtcyApO1xuICByZXR1cm4gZWxlbXM7XG59O1xuXG5wcm90by5fbWFuYWdlU3RhbXBzID0gZnVuY3Rpb24oKSB7XG4gIGlmICggIXRoaXMuc3RhbXBzIHx8ICF0aGlzLnN0YW1wcy5sZW5ndGggKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdGhpcy5fZ2V0Qm91bmRpbmdSZWN0KCk7XG5cbiAgdGhpcy5zdGFtcHMuZm9yRWFjaCggdGhpcy5fbWFuYWdlU3RhbXAsIHRoaXMgKTtcbn07XG5cbi8vIHVwZGF0ZSBib3VuZGluZ0xlZnQgLyBUb3BcbnByb3RvLl9nZXRCb3VuZGluZ1JlY3QgPSBmdW5jdGlvbigpIHtcbiAgLy8gZ2V0IGJvdW5kaW5nIHJlY3QgZm9yIGNvbnRhaW5lciBlbGVtZW50XG4gIHZhciBib3VuZGluZ1JlY3QgPSB0aGlzLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIHZhciBzaXplID0gdGhpcy5zaXplO1xuICB0aGlzLl9ib3VuZGluZ1JlY3QgPSB7XG4gICAgbGVmdDogYm91bmRpbmdSZWN0LmxlZnQgKyBzaXplLnBhZGRpbmdMZWZ0ICsgc2l6ZS5ib3JkZXJMZWZ0V2lkdGgsXG4gICAgdG9wOiBib3VuZGluZ1JlY3QudG9wICsgc2l6ZS5wYWRkaW5nVG9wICsgc2l6ZS5ib3JkZXJUb3BXaWR0aCxcbiAgICByaWdodDogYm91bmRpbmdSZWN0LnJpZ2h0IC0gKCBzaXplLnBhZGRpbmdSaWdodCArIHNpemUuYm9yZGVyUmlnaHRXaWR0aCApLFxuICAgIGJvdHRvbTogYm91bmRpbmdSZWN0LmJvdHRvbSAtICggc2l6ZS5wYWRkaW5nQm90dG9tICsgc2l6ZS5ib3JkZXJCb3R0b21XaWR0aCApXG4gIH07XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudH0gc3RhbXBcbioqL1xucHJvdG8uX21hbmFnZVN0YW1wID0gbm9vcDtcblxuLyoqXG4gKiBnZXQgeC95IHBvc2l0aW9uIG9mIGVsZW1lbnQgcmVsYXRpdmUgdG8gY29udGFpbmVyIGVsZW1lbnRcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbVxuICogQHJldHVybnMge09iamVjdH0gb2Zmc2V0IC0gaGFzIGxlZnQsIHRvcCwgcmlnaHQsIGJvdHRvbVxuICovXG5wcm90by5fZ2V0RWxlbWVudE9mZnNldCA9IGZ1bmN0aW9uKCBlbGVtICkge1xuICB2YXIgYm91bmRpbmdSZWN0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgdmFyIHRoaXNSZWN0ID0gdGhpcy5fYm91bmRpbmdSZWN0O1xuICB2YXIgc2l6ZSA9IGdldFNpemUoIGVsZW0gKTtcbiAgdmFyIG9mZnNldCA9IHtcbiAgICBsZWZ0OiBib3VuZGluZ1JlY3QubGVmdCAtIHRoaXNSZWN0LmxlZnQgLSBzaXplLm1hcmdpbkxlZnQsXG4gICAgdG9wOiBib3VuZGluZ1JlY3QudG9wIC0gdGhpc1JlY3QudG9wIC0gc2l6ZS5tYXJnaW5Ub3AsXG4gICAgcmlnaHQ6IHRoaXNSZWN0LnJpZ2h0IC0gYm91bmRpbmdSZWN0LnJpZ2h0IC0gc2l6ZS5tYXJnaW5SaWdodCxcbiAgICBib3R0b206IHRoaXNSZWN0LmJvdHRvbSAtIGJvdW5kaW5nUmVjdC5ib3R0b20gLSBzaXplLm1hcmdpbkJvdHRvbVxuICB9O1xuICByZXR1cm4gb2Zmc2V0O1xufTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gcmVzaXplIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbi8vIGVuYWJsZSBldmVudCBoYW5kbGVycyBmb3IgbGlzdGVuZXJzXG4vLyBpLmUuIHJlc2l6ZSAtPiBvbnJlc2l6ZVxucHJvdG8uaGFuZGxlRXZlbnQgPSB1dGlscy5oYW5kbGVFdmVudDtcblxuLyoqXG4gKiBCaW5kIGxheW91dCB0byB3aW5kb3cgcmVzaXppbmdcbiAqL1xucHJvdG8uYmluZFJlc2l6ZSA9IGZ1bmN0aW9uKCkge1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggJ3Jlc2l6ZScsIHRoaXMgKTtcbiAgdGhpcy5pc1Jlc2l6ZUJvdW5kID0gdHJ1ZTtcbn07XG5cbi8qKlxuICogVW5iaW5kIGxheW91dCB0byB3aW5kb3cgcmVzaXppbmdcbiAqL1xucHJvdG8udW5iaW5kUmVzaXplID0gZnVuY3Rpb24oKSB7XG4gIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCAncmVzaXplJywgdGhpcyApO1xuICB0aGlzLmlzUmVzaXplQm91bmQgPSBmYWxzZTtcbn07XG5cbnByb3RvLm9ucmVzaXplID0gZnVuY3Rpb24oKSB7XG4gIHRoaXMucmVzaXplKCk7XG59O1xuXG51dGlscy5kZWJvdW5jZU1ldGhvZCggT3V0bGF5ZXIsICdvbnJlc2l6ZScsIDEwMCApO1xuXG5wcm90by5yZXNpemUgPSBmdW5jdGlvbigpIHtcbiAgLy8gZG9uJ3QgdHJpZ2dlciBpZiBzaXplIGRpZCBub3QgY2hhbmdlXG4gIC8vIG9yIGlmIHJlc2l6ZSB3YXMgdW5ib3VuZC4gU2VlICM5XG4gIGlmICggIXRoaXMuaXNSZXNpemVCb3VuZCB8fCAhdGhpcy5uZWVkc1Jlc2l6ZUxheW91dCgpICkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMubGF5b3V0KCk7XG59O1xuXG4vKipcbiAqIGNoZWNrIGlmIGxheW91dCBpcyBuZWVkZWQgcG9zdCBsYXlvdXRcbiAqIEByZXR1cm5zIEJvb2xlYW5cbiAqL1xucHJvdG8ubmVlZHNSZXNpemVMYXlvdXQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHNpemUgPSBnZXRTaXplKCB0aGlzLmVsZW1lbnQgKTtcbiAgLy8gY2hlY2sgdGhhdCB0aGlzLnNpemUgYW5kIHNpemUgYXJlIHRoZXJlXG4gIC8vIElFOCB0cmlnZ2VycyByZXNpemUgb24gYm9keSBzaXplIGNoYW5nZSwgc28gdGhleSBtaWdodCBub3QgYmVcbiAgdmFyIGhhc1NpemVzID0gdGhpcy5zaXplICYmIHNpemU7XG4gIHJldHVybiBoYXNTaXplcyAmJiBzaXplLmlubmVyV2lkdGggIT09IHRoaXMuc2l6ZS5pbm5lcldpZHRoO1xufTtcblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gbWV0aG9kcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4vKipcbiAqIGFkZCBpdGVtcyB0byBPdXRsYXllciBpbnN0YW5jZVxuICogQHBhcmFtIHtBcnJheSBvciBOb2RlTGlzdCBvciBFbGVtZW50fSBlbGVtc1xuICogQHJldHVybnMge0FycmF5fSBpdGVtcyAtIE91dGxheWVyLkl0ZW1zXG4qKi9cbnByb3RvLmFkZEl0ZW1zID0gZnVuY3Rpb24oIGVsZW1zICkge1xuICB2YXIgaXRlbXMgPSB0aGlzLl9pdGVtaXplKCBlbGVtcyApO1xuICAvLyBhZGQgaXRlbXMgdG8gY29sbGVjdGlvblxuICBpZiAoIGl0ZW1zLmxlbmd0aCApIHtcbiAgICB0aGlzLml0ZW1zID0gdGhpcy5pdGVtcy5jb25jYXQoIGl0ZW1zICk7XG4gIH1cbiAgcmV0dXJuIGl0ZW1zO1xufTtcblxuLyoqXG4gKiBMYXlvdXQgbmV3bHktYXBwZW5kZWQgaXRlbSBlbGVtZW50c1xuICogQHBhcmFtIHtBcnJheSBvciBOb2RlTGlzdCBvciBFbGVtZW50fSBlbGVtc1xuICovXG5wcm90by5hcHBlbmRlZCA9IGZ1bmN0aW9uKCBlbGVtcyApIHtcbiAgdmFyIGl0ZW1zID0gdGhpcy5hZGRJdGVtcyggZWxlbXMgKTtcbiAgaWYgKCAhaXRlbXMubGVuZ3RoICkge1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBsYXlvdXQgYW5kIHJldmVhbCBqdXN0IHRoZSBuZXcgaXRlbXNcbiAgdGhpcy5sYXlvdXRJdGVtcyggaXRlbXMsIHRydWUgKTtcbiAgdGhpcy5yZXZlYWwoIGl0ZW1zICk7XG59O1xuXG4vKipcbiAqIExheW91dCBwcmVwZW5kZWQgZWxlbWVudHNcbiAqIEBwYXJhbSB7QXJyYXkgb3IgTm9kZUxpc3Qgb3IgRWxlbWVudH0gZWxlbXNcbiAqL1xucHJvdG8ucHJlcGVuZGVkID0gZnVuY3Rpb24oIGVsZW1zICkge1xuICB2YXIgaXRlbXMgPSB0aGlzLl9pdGVtaXplKCBlbGVtcyApO1xuICBpZiAoICFpdGVtcy5sZW5ndGggKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIGFkZCBpdGVtcyB0byBiZWdpbm5pbmcgb2YgY29sbGVjdGlvblxuICB2YXIgcHJldmlvdXNJdGVtcyA9IHRoaXMuaXRlbXMuc2xpY2UoMCk7XG4gIHRoaXMuaXRlbXMgPSBpdGVtcy5jb25jYXQoIHByZXZpb3VzSXRlbXMgKTtcbiAgLy8gc3RhcnQgbmV3IGxheW91dFxuICB0aGlzLl9yZXNldExheW91dCgpO1xuICB0aGlzLl9tYW5hZ2VTdGFtcHMoKTtcbiAgLy8gbGF5b3V0IG5ldyBzdHVmZiB3aXRob3V0IHRyYW5zaXRpb25cbiAgdGhpcy5sYXlvdXRJdGVtcyggaXRlbXMsIHRydWUgKTtcbiAgdGhpcy5yZXZlYWwoIGl0ZW1zICk7XG4gIC8vIGxheW91dCBwcmV2aW91cyBpdGVtc1xuICB0aGlzLmxheW91dEl0ZW1zKCBwcmV2aW91c0l0ZW1zICk7XG59O1xuXG4vKipcbiAqIHJldmVhbCBhIGNvbGxlY3Rpb24gb2YgaXRlbXNcbiAqIEBwYXJhbSB7QXJyYXkgb2YgT3V0bGF5ZXIuSXRlbXN9IGl0ZW1zXG4gKi9cbnByb3RvLnJldmVhbCA9IGZ1bmN0aW9uKCBpdGVtcyApIHtcbiAgdGhpcy5fZW1pdENvbXBsZXRlT25JdGVtcyggJ3JldmVhbCcsIGl0ZW1zICk7XG4gIGlmICggIWl0ZW1zIHx8ICFpdGVtcy5sZW5ndGggKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBzdGFnZ2VyID0gdGhpcy51cGRhdGVTdGFnZ2VyKCk7XG4gIGl0ZW1zLmZvckVhY2goIGZ1bmN0aW9uKCBpdGVtLCBpICkge1xuICAgIGl0ZW0uc3RhZ2dlciggaSAqIHN0YWdnZXIgKTtcbiAgICBpdGVtLnJldmVhbCgpO1xuICB9KTtcbn07XG5cbi8qKlxuICogaGlkZSBhIGNvbGxlY3Rpb24gb2YgaXRlbXNcbiAqIEBwYXJhbSB7QXJyYXkgb2YgT3V0bGF5ZXIuSXRlbXN9IGl0ZW1zXG4gKi9cbnByb3RvLmhpZGUgPSBmdW5jdGlvbiggaXRlbXMgKSB7XG4gIHRoaXMuX2VtaXRDb21wbGV0ZU9uSXRlbXMoICdoaWRlJywgaXRlbXMgKTtcbiAgaWYgKCAhaXRlbXMgfHwgIWl0ZW1zLmxlbmd0aCApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIHN0YWdnZXIgPSB0aGlzLnVwZGF0ZVN0YWdnZXIoKTtcbiAgaXRlbXMuZm9yRWFjaCggZnVuY3Rpb24oIGl0ZW0sIGkgKSB7XG4gICAgaXRlbS5zdGFnZ2VyKCBpICogc3RhZ2dlciApO1xuICAgIGl0ZW0uaGlkZSgpO1xuICB9KTtcbn07XG5cbi8qKlxuICogcmV2ZWFsIGl0ZW0gZWxlbWVudHNcbiAqIEBwYXJhbSB7QXJyYXl9LCB7RWxlbWVudH0sIHtOb2RlTGlzdH0gaXRlbXNcbiAqL1xucHJvdG8ucmV2ZWFsSXRlbUVsZW1lbnRzID0gZnVuY3Rpb24oIGVsZW1zICkge1xuICB2YXIgaXRlbXMgPSB0aGlzLmdldEl0ZW1zKCBlbGVtcyApO1xuICB0aGlzLnJldmVhbCggaXRlbXMgKTtcbn07XG5cbi8qKlxuICogaGlkZSBpdGVtIGVsZW1lbnRzXG4gKiBAcGFyYW0ge0FycmF5fSwge0VsZW1lbnR9LCB7Tm9kZUxpc3R9IGl0ZW1zXG4gKi9cbnByb3RvLmhpZGVJdGVtRWxlbWVudHMgPSBmdW5jdGlvbiggZWxlbXMgKSB7XG4gIHZhciBpdGVtcyA9IHRoaXMuZ2V0SXRlbXMoIGVsZW1zICk7XG4gIHRoaXMuaGlkZSggaXRlbXMgKTtcbn07XG5cbi8qKlxuICogZ2V0IE91dGxheWVyLkl0ZW0sIGdpdmVuIGFuIEVsZW1lbnRcbiAqIEBwYXJhbSB7RWxlbWVudH0gZWxlbVxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm5zIHtPdXRsYXllci5JdGVtfSBpdGVtXG4gKi9cbnByb3RvLmdldEl0ZW0gPSBmdW5jdGlvbiggZWxlbSApIHtcbiAgLy8gbG9vcCB0aHJvdWdoIGl0ZW1zIHRvIGdldCB0aGUgb25lIHRoYXQgbWF0Y2hlc1xuICBmb3IgKCB2YXIgaT0wOyBpIDwgdGhpcy5pdGVtcy5sZW5ndGg7IGkrKyApIHtcbiAgICB2YXIgaXRlbSA9IHRoaXMuaXRlbXNbaV07XG4gICAgaWYgKCBpdGVtLmVsZW1lbnQgPT0gZWxlbSApIHtcbiAgICAgIC8vIHJldHVybiBpdGVtXG4gICAgICByZXR1cm4gaXRlbTtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogZ2V0IGNvbGxlY3Rpb24gb2YgT3V0bGF5ZXIuSXRlbXMsIGdpdmVuIEVsZW1lbnRzXG4gKiBAcGFyYW0ge0FycmF5fSBlbGVtc1xuICogQHJldHVybnMge0FycmF5fSBpdGVtcyAtIE91dGxheWVyLkl0ZW1zXG4gKi9cbnByb3RvLmdldEl0ZW1zID0gZnVuY3Rpb24oIGVsZW1zICkge1xuICBlbGVtcyA9IHV0aWxzLm1ha2VBcnJheSggZWxlbXMgKTtcbiAgdmFyIGl0ZW1zID0gW107XG4gIGVsZW1zLmZvckVhY2goIGZ1bmN0aW9uKCBlbGVtICkge1xuICAgIHZhciBpdGVtID0gdGhpcy5nZXRJdGVtKCBlbGVtICk7XG4gICAgaWYgKCBpdGVtICkge1xuICAgICAgaXRlbXMucHVzaCggaXRlbSApO1xuICAgIH1cbiAgfSwgdGhpcyApO1xuXG4gIHJldHVybiBpdGVtcztcbn07XG5cbi8qKlxuICogcmVtb3ZlIGVsZW1lbnQocykgZnJvbSBpbnN0YW5jZSBhbmQgRE9NXG4gKiBAcGFyYW0ge0FycmF5IG9yIE5vZGVMaXN0IG9yIEVsZW1lbnR9IGVsZW1zXG4gKi9cbnByb3RvLnJlbW92ZSA9IGZ1bmN0aW9uKCBlbGVtcyApIHtcbiAgdmFyIHJlbW92ZUl0ZW1zID0gdGhpcy5nZXRJdGVtcyggZWxlbXMgKTtcblxuICB0aGlzLl9lbWl0Q29tcGxldGVPbkl0ZW1zKCAncmVtb3ZlJywgcmVtb3ZlSXRlbXMgKTtcblxuICAvLyBiYWlsIGlmIG5vIGl0ZW1zIHRvIHJlbW92ZVxuICBpZiAoICFyZW1vdmVJdGVtcyB8fCAhcmVtb3ZlSXRlbXMubGVuZ3RoICkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHJlbW92ZUl0ZW1zLmZvckVhY2goIGZ1bmN0aW9uKCBpdGVtICkge1xuICAgIGl0ZW0ucmVtb3ZlKCk7XG4gICAgLy8gcmVtb3ZlIGl0ZW0gZnJvbSBjb2xsZWN0aW9uXG4gICAgdXRpbHMucmVtb3ZlRnJvbSggdGhpcy5pdGVtcywgaXRlbSApO1xuICB9LCB0aGlzICk7XG59O1xuXG4vLyAtLS0tLSBkZXN0cm95IC0tLS0tIC8vXG5cbi8vIHJlbW92ZSBhbmQgZGlzYWJsZSBPdXRsYXllciBpbnN0YW5jZVxucHJvdG8uZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuICAvLyBjbGVhbiB1cCBkeW5hbWljIHN0eWxlc1xuICB2YXIgc3R5bGUgPSB0aGlzLmVsZW1lbnQuc3R5bGU7XG4gIHN0eWxlLmhlaWdodCA9ICcnO1xuICBzdHlsZS5wb3NpdGlvbiA9ICcnO1xuICBzdHlsZS53aWR0aCA9ICcnO1xuICAvLyBkZXN0cm95IGl0ZW1zXG4gIHRoaXMuaXRlbXMuZm9yRWFjaCggZnVuY3Rpb24oIGl0ZW0gKSB7XG4gICAgaXRlbS5kZXN0cm95KCk7XG4gIH0pO1xuXG4gIHRoaXMudW5iaW5kUmVzaXplKCk7XG5cbiAgdmFyIGlkID0gdGhpcy5lbGVtZW50Lm91dGxheWVyR1VJRDtcbiAgZGVsZXRlIGluc3RhbmNlc1sgaWQgXTsgLy8gcmVtb3ZlIHJlZmVyZW5jZSB0byBpbnN0YW5jZSBieSBpZFxuICBkZWxldGUgdGhpcy5lbGVtZW50Lm91dGxheWVyR1VJRDtcbiAgLy8gcmVtb3ZlIGRhdGEgZm9yIGpRdWVyeVxuICBpZiAoIGpRdWVyeSApIHtcbiAgICBqUXVlcnkucmVtb3ZlRGF0YSggdGhpcy5lbGVtZW50LCB0aGlzLmNvbnN0cnVjdG9yLm5hbWVzcGFjZSApO1xuICB9XG5cbn07XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGRhdGEgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gLy9cblxuLyoqXG4gKiBnZXQgT3V0bGF5ZXIgaW5zdGFuY2UgZnJvbSBlbGVtZW50XG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1cbiAqIEByZXR1cm5zIHtPdXRsYXllcn1cbiAqL1xuT3V0bGF5ZXIuZGF0YSA9IGZ1bmN0aW9uKCBlbGVtICkge1xuICBlbGVtID0gdXRpbHMuZ2V0UXVlcnlFbGVtZW50KCBlbGVtICk7XG4gIHZhciBpZCA9IGVsZW0gJiYgZWxlbS5vdXRsYXllckdVSUQ7XG4gIHJldHVybiBpZCAmJiBpbnN0YW5jZXNbIGlkIF07XG59O1xuXG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGNyZWF0ZSBPdXRsYXllciBjbGFzcyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4vKipcbiAqIGNyZWF0ZSBhIGxheW91dCBjbGFzc1xuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZVxuICovXG5PdXRsYXllci5jcmVhdGUgPSBmdW5jdGlvbiggbmFtZXNwYWNlLCBvcHRpb25zICkge1xuICAvLyBzdWItY2xhc3MgT3V0bGF5ZXJcbiAgdmFyIExheW91dCA9IHN1YmNsYXNzKCBPdXRsYXllciApO1xuICAvLyBhcHBseSBuZXcgb3B0aW9ucyBhbmQgY29tcGF0T3B0aW9uc1xuICBMYXlvdXQuZGVmYXVsdHMgPSB1dGlscy5leHRlbmQoIHt9LCBPdXRsYXllci5kZWZhdWx0cyApO1xuICB1dGlscy5leHRlbmQoIExheW91dC5kZWZhdWx0cywgb3B0aW9ucyApO1xuICBMYXlvdXQuY29tcGF0T3B0aW9ucyA9IHV0aWxzLmV4dGVuZCgge30sIE91dGxheWVyLmNvbXBhdE9wdGlvbnMgICk7XG5cbiAgTGF5b3V0Lm5hbWVzcGFjZSA9IG5hbWVzcGFjZTtcblxuICBMYXlvdXQuZGF0YSA9IE91dGxheWVyLmRhdGE7XG5cbiAgLy8gc3ViLWNsYXNzIEl0ZW1cbiAgTGF5b3V0Lkl0ZW0gPSBzdWJjbGFzcyggSXRlbSApO1xuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIGRlY2xhcmF0aXZlIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXG5cbiAgdXRpbHMuaHRtbEluaXQoIExheW91dCwgbmFtZXNwYWNlICk7XG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0galF1ZXJ5IGJyaWRnZSAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAvL1xuXG4gIC8vIG1ha2UgaW50byBqUXVlcnkgcGx1Z2luXG4gIGlmICggalF1ZXJ5ICYmIGpRdWVyeS5icmlkZ2V0ICkge1xuICAgIGpRdWVyeS5icmlkZ2V0KCBuYW1lc3BhY2UsIExheW91dCApO1xuICB9XG5cbiAgcmV0dXJuIExheW91dDtcbn07XG5cbmZ1bmN0aW9uIHN1YmNsYXNzKCBQYXJlbnQgKSB7XG4gIGZ1bmN0aW9uIFN1YkNsYXNzKCkge1xuICAgIFBhcmVudC5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG4gIH1cblxuICBTdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBQYXJlbnQucHJvdG90eXBlICk7XG4gIFN1YkNsYXNzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFN1YkNsYXNzO1xuXG4gIHJldHVybiBTdWJDbGFzcztcbn1cblxuLy8gLS0tLS0gaGVscGVycyAtLS0tLSAvL1xuXG4vLyBob3cgbWFueSBtaWxsaXNlY29uZHMgYXJlIGluIGVhY2ggdW5pdFxudmFyIG1zVW5pdHMgPSB7XG4gIG1zOiAxLFxuICBzOiAxMDAwXG59O1xuXG4vLyBtdW5nZSB0aW1lLWxpa2UgcGFyYW1ldGVyIGludG8gbWlsbGlzZWNvbmQgbnVtYmVyXG4vLyAnMC40cycgLT4gNDBcbmZ1bmN0aW9uIGdldE1pbGxpc2Vjb25kcyggdGltZSApIHtcbiAgaWYgKCB0eXBlb2YgdGltZSA9PSAnbnVtYmVyJyApIHtcbiAgICByZXR1cm4gdGltZTtcbiAgfVxuICB2YXIgbWF0Y2hlcyA9IHRpbWUubWF0Y2goIC8oXlxcZCpcXC4/XFxkKikoXFx3KikvICk7XG4gIHZhciBudW0gPSBtYXRjaGVzICYmIG1hdGNoZXNbMV07XG4gIHZhciB1bml0ID0gbWF0Y2hlcyAmJiBtYXRjaGVzWzJdO1xuICBpZiAoICFudW0ubGVuZ3RoICkge1xuICAgIHJldHVybiAwO1xuICB9XG4gIG51bSA9IHBhcnNlRmxvYXQoIG51bSApO1xuICB2YXIgbXVsdCA9IG1zVW5pdHNbIHVuaXQgXSB8fCAxO1xuICByZXR1cm4gbnVtICogbXVsdDtcbn1cblxuLy8gLS0tLS0gZmluIC0tLS0tIC8vXG5cbi8vIGJhY2sgaW4gZ2xvYmFsXG5PdXRsYXllci5JdGVtID0gSXRlbTtcblxucmV0dXJuIE91dGxheWVyO1xuXG59KSk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/outlayer/outlayer.js\n");

/***/ }),

/***/ "./node_modules/process/browser.js":
/*!*****************************************!*\
  !*** ./node_modules/process/browser.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzP2YyOGMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixzQkFBc0I7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHFDQUFxQzs7QUFFckM7QUFDQTtBQUNBOztBQUVBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsVUFBVSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/process/browser.js\n");

/***/ }),

/***/ "./node_modules/regenerator-runtime/runtime.js":
/*!*****************************************************!*\
  !*** ./node_modules/regenerator-runtime/runtime.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n   true ? module.exports : undefined\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzPzk2Y2YiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2QsS0FBSztBQUNMLGNBQWM7QUFDZDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RDtBQUN6RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsV0FBVztBQUNYOztBQUVBO0FBQ0E7QUFDQSx3Q0FBd0MsV0FBVztBQUNuRDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLG9DQUFvQyxjQUFjO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLGlDQUFpQyxrQkFBa0I7QUFDbkQ7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGlCQUFpQjs7QUFFakI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGlCQUFpQjtBQUN6QztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0EsWUFBWTtBQUNaOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUEsOENBQThDLFFBQVE7QUFDdEQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBOztBQUVBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7O0FBRUEsV0FBVztBQUNYO0FBQ0E7QUFDQTs7QUFFQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0EsOENBQThDLFFBQVE7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSw4Q0FBOEMsUUFBUTtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQSw4Q0FBOEMsUUFBUTtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsS0FBMEIsb0JBQW9CLFNBQUU7QUFDbEQ7O0FBRUE7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL3JlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE0LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxudmFyIHJ1bnRpbWUgPSAoZnVuY3Rpb24gKGV4cG9ydHMpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIE9wID0gT2JqZWN0LnByb3RvdHlwZTtcbiAgdmFyIGhhc093biA9IE9wLmhhc093blByb3BlcnR5O1xuICB2YXIgdW5kZWZpbmVkOyAvLyBNb3JlIGNvbXByZXNzaWJsZSB0aGFuIHZvaWQgMC5cbiAgdmFyICRTeW1ib2wgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgPyBTeW1ib2wgOiB7fTtcbiAgdmFyIGl0ZXJhdG9yU3ltYm9sID0gJFN5bWJvbC5pdGVyYXRvciB8fCBcIkBAaXRlcmF0b3JcIjtcbiAgdmFyIGFzeW5jSXRlcmF0b3JTeW1ib2wgPSAkU3ltYm9sLmFzeW5jSXRlcmF0b3IgfHwgXCJAQGFzeW5jSXRlcmF0b3JcIjtcbiAgdmFyIHRvU3RyaW5nVGFnU3ltYm9sID0gJFN5bWJvbC50b1N0cmluZ1RhZyB8fCBcIkBAdG9TdHJpbmdUYWdcIjtcblxuICBmdW5jdGlvbiBkZWZpbmUob2JqLCBrZXksIHZhbHVlKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gb2JqW2tleV07XG4gIH1cbiAgdHJ5IHtcbiAgICAvLyBJRSA4IGhhcyBhIGJyb2tlbiBPYmplY3QuZGVmaW5lUHJvcGVydHkgdGhhdCBvbmx5IHdvcmtzIG9uIERPTSBvYmplY3RzLlxuICAgIGRlZmluZSh7fSwgXCJcIik7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGRlZmluZSA9IGZ1bmN0aW9uKG9iaiwga2V5LCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIG9ialtrZXldID0gdmFsdWU7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpIHtcbiAgICAvLyBJZiBvdXRlckZuIHByb3ZpZGVkIGFuZCBvdXRlckZuLnByb3RvdHlwZSBpcyBhIEdlbmVyYXRvciwgdGhlbiBvdXRlckZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIEdlbmVyYXRvci5cbiAgICB2YXIgcHJvdG9HZW5lcmF0b3IgPSBvdXRlckZuICYmIG91dGVyRm4ucHJvdG90eXBlIGluc3RhbmNlb2YgR2VuZXJhdG9yID8gb3V0ZXJGbiA6IEdlbmVyYXRvcjtcbiAgICB2YXIgZ2VuZXJhdG9yID0gT2JqZWN0LmNyZWF0ZShwcm90b0dlbmVyYXRvci5wcm90b3R5cGUpO1xuICAgIHZhciBjb250ZXh0ID0gbmV3IENvbnRleHQodHJ5TG9jc0xpc3QgfHwgW10pO1xuXG4gICAgLy8gVGhlIC5faW52b2tlIG1ldGhvZCB1bmlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbnMgb2YgdGhlIC5uZXh0LFxuICAgIC8vIC50aHJvdywgYW5kIC5yZXR1cm4gbWV0aG9kcy5cbiAgICBnZW5lcmF0b3IuX2ludm9rZSA9IG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCk7XG5cbiAgICByZXR1cm4gZ2VuZXJhdG9yO1xuICB9XG4gIGV4cG9ydHMud3JhcCA9IHdyYXA7XG5cbiAgLy8gVHJ5L2NhdGNoIGhlbHBlciB0byBtaW5pbWl6ZSBkZW9wdGltaXphdGlvbnMuIFJldHVybnMgYSBjb21wbGV0aW9uXG4gIC8vIHJlY29yZCBsaWtlIGNvbnRleHQudHJ5RW50cmllc1tpXS5jb21wbGV0aW9uLiBUaGlzIGludGVyZmFjZSBjb3VsZFxuICAvLyBoYXZlIGJlZW4gKGFuZCB3YXMgcHJldmlvdXNseSkgZGVzaWduZWQgdG8gdGFrZSBhIGNsb3N1cmUgdG8gYmVcbiAgLy8gaW52b2tlZCB3aXRob3V0IGFyZ3VtZW50cywgYnV0IGluIGFsbCB0aGUgY2FzZXMgd2UgY2FyZSBhYm91dCB3ZVxuICAvLyBhbHJlYWR5IGhhdmUgYW4gZXhpc3RpbmcgbWV0aG9kIHdlIHdhbnQgdG8gY2FsbCwgc28gdGhlcmUncyBubyBuZWVkXG4gIC8vIHRvIGNyZWF0ZSBhIG5ldyBmdW5jdGlvbiBvYmplY3QuIFdlIGNhbiBldmVuIGdldCBhd2F5IHdpdGggYXNzdW1pbmdcbiAgLy8gdGhlIG1ldGhvZCB0YWtlcyBleGFjdGx5IG9uZSBhcmd1bWVudCwgc2luY2UgdGhhdCBoYXBwZW5zIHRvIGJlIHRydWVcbiAgLy8gaW4gZXZlcnkgY2FzZSwgc28gd2UgZG9uJ3QgaGF2ZSB0byB0b3VjaCB0aGUgYXJndW1lbnRzIG9iamVjdC4gVGhlXG4gIC8vIG9ubHkgYWRkaXRpb25hbCBhbGxvY2F0aW9uIHJlcXVpcmVkIGlzIHRoZSBjb21wbGV0aW9uIHJlY29yZCwgd2hpY2hcbiAgLy8gaGFzIGEgc3RhYmxlIHNoYXBlIGFuZCBzbyBob3BlZnVsbHkgc2hvdWxkIGJlIGNoZWFwIHRvIGFsbG9jYXRlLlxuICBmdW5jdGlvbiB0cnlDYXRjaChmbiwgb2JqLCBhcmcpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHsgdHlwZTogXCJub3JtYWxcIiwgYXJnOiBmbi5jYWxsKG9iaiwgYXJnKSB9O1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmV0dXJuIHsgdHlwZTogXCJ0aHJvd1wiLCBhcmc6IGVyciB9O1xuICAgIH1cbiAgfVxuXG4gIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0ID0gXCJzdXNwZW5kZWRTdGFydFwiO1xuICB2YXIgR2VuU3RhdGVTdXNwZW5kZWRZaWVsZCA9IFwic3VzcGVuZGVkWWllbGRcIjtcbiAgdmFyIEdlblN0YXRlRXhlY3V0aW5nID0gXCJleGVjdXRpbmdcIjtcbiAgdmFyIEdlblN0YXRlQ29tcGxldGVkID0gXCJjb21wbGV0ZWRcIjtcblxuICAvLyBSZXR1cm5pbmcgdGhpcyBvYmplY3QgZnJvbSB0aGUgaW5uZXJGbiBoYXMgdGhlIHNhbWUgZWZmZWN0IGFzXG4gIC8vIGJyZWFraW5nIG91dCBvZiB0aGUgZGlzcGF0Y2ggc3dpdGNoIHN0YXRlbWVudC5cbiAgdmFyIENvbnRpbnVlU2VudGluZWwgPSB7fTtcblxuICAvLyBEdW1teSBjb25zdHJ1Y3RvciBmdW5jdGlvbnMgdGhhdCB3ZSB1c2UgYXMgdGhlIC5jb25zdHJ1Y3RvciBhbmRcbiAgLy8gLmNvbnN0cnVjdG9yLnByb3RvdHlwZSBwcm9wZXJ0aWVzIGZvciBmdW5jdGlvbnMgdGhhdCByZXR1cm4gR2VuZXJhdG9yXG4gIC8vIG9iamVjdHMuIEZvciBmdWxsIHNwZWMgY29tcGxpYW5jZSwgeW91IG1heSB3aXNoIHRvIGNvbmZpZ3VyZSB5b3VyXG4gIC8vIG1pbmlmaWVyIG5vdCB0byBtYW5nbGUgdGhlIG5hbWVzIG9mIHRoZXNlIHR3byBmdW5jdGlvbnMuXG4gIGZ1bmN0aW9uIEdlbmVyYXRvcigpIHt9XG4gIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUoKSB7fVxuXG4gIC8vIFRoaXMgaXMgYSBwb2x5ZmlsbCBmb3IgJUl0ZXJhdG9yUHJvdG90eXBlJSBmb3IgZW52aXJvbm1lbnRzIHRoYXRcbiAgLy8gZG9uJ3QgbmF0aXZlbHkgc3VwcG9ydCBpdC5cbiAgdmFyIEl0ZXJhdG9yUHJvdG90eXBlID0ge307XG4gIEl0ZXJhdG9yUHJvdG90eXBlW2l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICB2YXIgZ2V0UHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG4gIHZhciBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSA9IGdldFByb3RvICYmIGdldFByb3RvKGdldFByb3RvKHZhbHVlcyhbXSkpKTtcbiAgaWYgKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlICYmXG4gICAgICBOYXRpdmVJdGVyYXRvclByb3RvdHlwZSAhPT0gT3AgJiZcbiAgICAgIGhhc093bi5jYWxsKE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlLCBpdGVyYXRvclN5bWJvbCkpIHtcbiAgICAvLyBUaGlzIGVudmlyb25tZW50IGhhcyBhIG5hdGl2ZSAlSXRlcmF0b3JQcm90b3R5cGUlOyB1c2UgaXQgaW5zdGVhZFxuICAgIC8vIG9mIHRoZSBwb2x5ZmlsbC5cbiAgICBJdGVyYXRvclByb3RvdHlwZSA9IE5hdGl2ZUl0ZXJhdG9yUHJvdG90eXBlO1xuICB9XG5cbiAgdmFyIEdwID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUucHJvdG90eXBlID1cbiAgICBHZW5lcmF0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShJdGVyYXRvclByb3RvdHlwZSk7XG4gIEdlbmVyYXRvckZ1bmN0aW9uLnByb3RvdHlwZSA9IEdwLmNvbnN0cnVjdG9yID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGU7XG4gIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLmNvbnN0cnVjdG9yID0gR2VuZXJhdG9yRnVuY3Rpb247XG4gIEdlbmVyYXRvckZ1bmN0aW9uLmRpc3BsYXlOYW1lID0gZGVmaW5lKFxuICAgIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLFxuICAgIHRvU3RyaW5nVGFnU3ltYm9sLFxuICAgIFwiR2VuZXJhdG9yRnVuY3Rpb25cIlxuICApO1xuXG4gIC8vIEhlbHBlciBmb3IgZGVmaW5pbmcgdGhlIC5uZXh0LCAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMgb2YgdGhlXG4gIC8vIEl0ZXJhdG9yIGludGVyZmFjZSBpbiB0ZXJtcyBvZiBhIHNpbmdsZSAuX2ludm9rZSBtZXRob2QuXG4gIGZ1bmN0aW9uIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhwcm90b3R5cGUpIHtcbiAgICBbXCJuZXh0XCIsIFwidGhyb3dcIiwgXCJyZXR1cm5cIl0uZm9yRWFjaChmdW5jdGlvbihtZXRob2QpIHtcbiAgICAgIGRlZmluZShwcm90b3R5cGUsIG1ldGhvZCwgZnVuY3Rpb24oYXJnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnZva2UobWV0aG9kLCBhcmcpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBleHBvcnRzLmlzR2VuZXJhdG9yRnVuY3Rpb24gPSBmdW5jdGlvbihnZW5GdW4pIHtcbiAgICB2YXIgY3RvciA9IHR5cGVvZiBnZW5GdW4gPT09IFwiZnVuY3Rpb25cIiAmJiBnZW5GdW4uY29uc3RydWN0b3I7XG4gICAgcmV0dXJuIGN0b3JcbiAgICAgID8gY3RvciA9PT0gR2VuZXJhdG9yRnVuY3Rpb24gfHxcbiAgICAgICAgLy8gRm9yIHRoZSBuYXRpdmUgR2VuZXJhdG9yRnVuY3Rpb24gY29uc3RydWN0b3IsIHRoZSBiZXN0IHdlIGNhblxuICAgICAgICAvLyBkbyBpcyB0byBjaGVjayBpdHMgLm5hbWUgcHJvcGVydHkuXG4gICAgICAgIChjdG9yLmRpc3BsYXlOYW1lIHx8IGN0b3IubmFtZSkgPT09IFwiR2VuZXJhdG9yRnVuY3Rpb25cIlxuICAgICAgOiBmYWxzZTtcbiAgfTtcblxuICBleHBvcnRzLm1hcmsgPSBmdW5jdGlvbihnZW5GdW4pIHtcbiAgICBpZiAoT2JqZWN0LnNldFByb3RvdHlwZU9mKSB7XG4gICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YoZ2VuRnVuLCBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGdlbkZ1bi5fX3Byb3RvX18gPSBHZW5lcmF0b3JGdW5jdGlvblByb3RvdHlwZTtcbiAgICAgIGRlZmluZShnZW5GdW4sIHRvU3RyaW5nVGFnU3ltYm9sLCBcIkdlbmVyYXRvckZ1bmN0aW9uXCIpO1xuICAgIH1cbiAgICBnZW5GdW4ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShHcCk7XG4gICAgcmV0dXJuIGdlbkZ1bjtcbiAgfTtcblxuICAvLyBXaXRoaW4gdGhlIGJvZHkgb2YgYW55IGFzeW5jIGZ1bmN0aW9uLCBgYXdhaXQgeGAgaXMgdHJhbnNmb3JtZWQgdG9cbiAgLy8gYHlpZWxkIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCh4KWAsIHNvIHRoYXQgdGhlIHJ1bnRpbWUgY2FuIHRlc3RcbiAgLy8gYGhhc093bi5jYWxsKHZhbHVlLCBcIl9fYXdhaXRcIilgIHRvIGRldGVybWluZSBpZiB0aGUgeWllbGRlZCB2YWx1ZSBpc1xuICAvLyBtZWFudCB0byBiZSBhd2FpdGVkLlxuICBleHBvcnRzLmF3cmFwID0gZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHsgX19hd2FpdDogYXJnIH07XG4gIH07XG5cbiAgZnVuY3Rpb24gQXN5bmNJdGVyYXRvcihnZW5lcmF0b3IsIFByb21pc2VJbXBsKSB7XG4gICAgZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnLCByZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIHZhciByZWNvcmQgPSB0cnlDYXRjaChnZW5lcmF0b3JbbWV0aG9kXSwgZ2VuZXJhdG9yLCBhcmcpO1xuICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgcmVqZWN0KHJlY29yZC5hcmcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHJlY29yZC5hcmc7XG4gICAgICAgIHZhciB2YWx1ZSA9IHJlc3VsdC52YWx1ZTtcbiAgICAgICAgaWYgKHZhbHVlICYmXG4gICAgICAgICAgICB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgICAgIGhhc093bi5jYWxsKHZhbHVlLCBcIl9fYXdhaXRcIikpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZUltcGwucmVzb2x2ZSh2YWx1ZS5fX2F3YWl0KS50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBpbnZva2UoXCJuZXh0XCIsIHZhbHVlLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgaW52b2tlKFwidGhyb3dcIiwgZXJyLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFByb21pc2VJbXBsLnJlc29sdmUodmFsdWUpLnRoZW4oZnVuY3Rpb24odW53cmFwcGVkKSB7XG4gICAgICAgICAgLy8gV2hlbiBhIHlpZWxkZWQgUHJvbWlzZSBpcyByZXNvbHZlZCwgaXRzIGZpbmFsIHZhbHVlIGJlY29tZXNcbiAgICAgICAgICAvLyB0aGUgLnZhbHVlIG9mIHRoZSBQcm9taXNlPHt2YWx1ZSxkb25lfT4gcmVzdWx0IGZvciB0aGVcbiAgICAgICAgICAvLyBjdXJyZW50IGl0ZXJhdGlvbi5cbiAgICAgICAgICByZXN1bHQudmFsdWUgPSB1bndyYXBwZWQ7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICB9LCBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgIC8vIElmIGEgcmVqZWN0ZWQgUHJvbWlzZSB3YXMgeWllbGRlZCwgdGhyb3cgdGhlIHJlamVjdGlvbiBiYWNrXG4gICAgICAgICAgLy8gaW50byB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIHNvIGl0IGNhbiBiZSBoYW5kbGVkIHRoZXJlLlxuICAgICAgICAgIHJldHVybiBpbnZva2UoXCJ0aHJvd1wiLCBlcnJvciwgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHByZXZpb3VzUHJvbWlzZTtcblxuICAgIGZ1bmN0aW9uIGVucXVldWUobWV0aG9kLCBhcmcpIHtcbiAgICAgIGZ1bmN0aW9uIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2VJbXBsKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgIGludm9rZShtZXRob2QsIGFyZywgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcmV2aW91c1Byb21pc2UgPVxuICAgICAgICAvLyBJZiBlbnF1ZXVlIGhhcyBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gd2Ugd2FudCB0byB3YWl0IHVudGlsXG4gICAgICAgIC8vIGFsbCBwcmV2aW91cyBQcm9taXNlcyBoYXZlIGJlZW4gcmVzb2x2ZWQgYmVmb3JlIGNhbGxpbmcgaW52b2tlLFxuICAgICAgICAvLyBzbyB0aGF0IHJlc3VsdHMgYXJlIGFsd2F5cyBkZWxpdmVyZWQgaW4gdGhlIGNvcnJlY3Qgb3JkZXIuIElmXG4gICAgICAgIC8vIGVucXVldWUgaGFzIG5vdCBiZWVuIGNhbGxlZCBiZWZvcmUsIHRoZW4gaXQgaXMgaW1wb3J0YW50IHRvXG4gICAgICAgIC8vIGNhbGwgaW52b2tlIGltbWVkaWF0ZWx5LCB3aXRob3V0IHdhaXRpbmcgb24gYSBjYWxsYmFjayB0byBmaXJlLFxuICAgICAgICAvLyBzbyB0aGF0IHRoZSBhc3luYyBnZW5lcmF0b3IgZnVuY3Rpb24gaGFzIHRoZSBvcHBvcnR1bml0eSB0byBkb1xuICAgICAgICAvLyBhbnkgbmVjZXNzYXJ5IHNldHVwIGluIGEgcHJlZGljdGFibGUgd2F5LiBUaGlzIHByZWRpY3RhYmlsaXR5XG4gICAgICAgIC8vIGlzIHdoeSB0aGUgUHJvbWlzZSBjb25zdHJ1Y3RvciBzeW5jaHJvbm91c2x5IGludm9rZXMgaXRzXG4gICAgICAgIC8vIGV4ZWN1dG9yIGNhbGxiYWNrLCBhbmQgd2h5IGFzeW5jIGZ1bmN0aW9ucyBzeW5jaHJvbm91c2x5XG4gICAgICAgIC8vIGV4ZWN1dGUgY29kZSBiZWZvcmUgdGhlIGZpcnN0IGF3YWl0LiBTaW5jZSB3ZSBpbXBsZW1lbnQgc2ltcGxlXG4gICAgICAgIC8vIGFzeW5jIGZ1bmN0aW9ucyBpbiB0ZXJtcyBvZiBhc3luYyBnZW5lcmF0b3JzLCBpdCBpcyBlc3BlY2lhbGx5XG4gICAgICAgIC8vIGltcG9ydGFudCB0byBnZXQgdGhpcyByaWdodCwgZXZlbiB0aG91Z2ggaXQgcmVxdWlyZXMgY2FyZS5cbiAgICAgICAgcHJldmlvdXNQcm9taXNlID8gcHJldmlvdXNQcm9taXNlLnRoZW4oXG4gICAgICAgICAgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcsXG4gICAgICAgICAgLy8gQXZvaWQgcHJvcGFnYXRpbmcgZmFpbHVyZXMgdG8gUHJvbWlzZXMgcmV0dXJuZWQgYnkgbGF0ZXJcbiAgICAgICAgICAvLyBpbnZvY2F0aW9ucyBvZiB0aGUgaXRlcmF0b3IuXG4gICAgICAgICAgY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmdcbiAgICAgICAgKSA6IGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnKCk7XG4gICAgfVxuXG4gICAgLy8gRGVmaW5lIHRoZSB1bmlmaWVkIGhlbHBlciBtZXRob2QgdGhhdCBpcyB1c2VkIHRvIGltcGxlbWVudCAubmV4dCxcbiAgICAvLyAudGhyb3csIGFuZCAucmV0dXJuIChzZWUgZGVmaW5lSXRlcmF0b3JNZXRob2RzKS5cbiAgICB0aGlzLl9pbnZva2UgPSBlbnF1ZXVlO1xuICB9XG5cbiAgZGVmaW5lSXRlcmF0b3JNZXRob2RzKEFzeW5jSXRlcmF0b3IucHJvdG90eXBlKTtcbiAgQXN5bmNJdGVyYXRvci5wcm90b3R5cGVbYXN5bmNJdGVyYXRvclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIGV4cG9ydHMuQXN5bmNJdGVyYXRvciA9IEFzeW5jSXRlcmF0b3I7XG5cbiAgLy8gTm90ZSB0aGF0IHNpbXBsZSBhc3luYyBmdW5jdGlvbnMgYXJlIGltcGxlbWVudGVkIG9uIHRvcCBvZlxuICAvLyBBc3luY0l0ZXJhdG9yIG9iamVjdHM7IHRoZXkganVzdCByZXR1cm4gYSBQcm9taXNlIGZvciB0aGUgdmFsdWUgb2ZcbiAgLy8gdGhlIGZpbmFsIHJlc3VsdCBwcm9kdWNlZCBieSB0aGUgaXRlcmF0b3IuXG4gIGV4cG9ydHMuYXN5bmMgPSBmdW5jdGlvbihpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCwgUHJvbWlzZUltcGwpIHtcbiAgICBpZiAoUHJvbWlzZUltcGwgPT09IHZvaWQgMCkgUHJvbWlzZUltcGwgPSBQcm9taXNlO1xuXG4gICAgdmFyIGl0ZXIgPSBuZXcgQXN5bmNJdGVyYXRvcihcbiAgICAgIHdyYXAoaW5uZXJGbiwgb3V0ZXJGbiwgc2VsZiwgdHJ5TG9jc0xpc3QpLFxuICAgICAgUHJvbWlzZUltcGxcbiAgICApO1xuXG4gICAgcmV0dXJuIGV4cG9ydHMuaXNHZW5lcmF0b3JGdW5jdGlvbihvdXRlckZuKVxuICAgICAgPyBpdGVyIC8vIElmIG91dGVyRm4gaXMgYSBnZW5lcmF0b3IsIHJldHVybiB0aGUgZnVsbCBpdGVyYXRvci5cbiAgICAgIDogaXRlci5uZXh0KCkudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0LmRvbmUgPyByZXN1bHQudmFsdWUgOiBpdGVyLm5leHQoKTtcbiAgICAgICAgfSk7XG4gIH07XG5cbiAgZnVuY3Rpb24gbWFrZUludm9rZU1ldGhvZChpbm5lckZuLCBzZWxmLCBjb250ZXh0KSB7XG4gICAgdmFyIHN0YXRlID0gR2VuU3RhdGVTdXNwZW5kZWRTdGFydDtcblxuICAgIHJldHVybiBmdW5jdGlvbiBpbnZva2UobWV0aG9kLCBhcmcpIHtcbiAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVFeGVjdXRpbmcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgcnVubmluZ1wiKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUNvbXBsZXRlZCkge1xuICAgICAgICBpZiAobWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICB0aHJvdyBhcmc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCZSBmb3JnaXZpbmcsIHBlciAyNS4zLjMuMy4zIG9mIHRoZSBzcGVjOlxuICAgICAgICAvLyBodHRwczovL3Blb3BsZS5tb3ppbGxhLm9yZy9+am9yZW5kb3JmZi9lczYtZHJhZnQuaHRtbCNzZWMtZ2VuZXJhdG9ycmVzdW1lXG4gICAgICAgIHJldHVybiBkb25lUmVzdWx0KCk7XG4gICAgICB9XG5cbiAgICAgIGNvbnRleHQubWV0aG9kID0gbWV0aG9kO1xuICAgICAgY29udGV4dC5hcmcgPSBhcmc7XG5cbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHZhciBkZWxlZ2F0ZSA9IGNvbnRleHQuZGVsZWdhdGU7XG4gICAgICAgIGlmIChkZWxlZ2F0ZSkge1xuICAgICAgICAgIHZhciBkZWxlZ2F0ZVJlc3VsdCA9IG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpO1xuICAgICAgICAgIGlmIChkZWxlZ2F0ZVJlc3VsdCkge1xuICAgICAgICAgICAgaWYgKGRlbGVnYXRlUmVzdWx0ID09PSBDb250aW51ZVNlbnRpbmVsKSBjb250aW51ZTtcbiAgICAgICAgICAgIHJldHVybiBkZWxlZ2F0ZVJlc3VsdDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29udGV4dC5tZXRob2QgPT09IFwibmV4dFwiKSB7XG4gICAgICAgICAgLy8gU2V0dGluZyBjb250ZXh0Ll9zZW50IGZvciBsZWdhY3kgc3VwcG9ydCBvZiBCYWJlbCdzXG4gICAgICAgICAgLy8gZnVuY3Rpb24uc2VudCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgICAgICBjb250ZXh0LnNlbnQgPSBjb250ZXh0Ll9zZW50ID0gY29udGV4dC5hcmc7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0KSB7XG4gICAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgICAgdGhyb3cgY29udGV4dC5hcmc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihjb250ZXh0LmFyZyk7XG5cbiAgICAgICAgfSBlbHNlIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICAgIGNvbnRleHQuYWJydXB0KFwicmV0dXJuXCIsIGNvbnRleHQuYXJnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRlID0gR2VuU3RhdGVFeGVjdXRpbmc7XG5cbiAgICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpO1xuICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIpIHtcbiAgICAgICAgICAvLyBJZiBhbiBleGNlcHRpb24gaXMgdGhyb3duIGZyb20gaW5uZXJGbiwgd2UgbGVhdmUgc3RhdGUgPT09XG4gICAgICAgICAgLy8gR2VuU3RhdGVFeGVjdXRpbmcgYW5kIGxvb3AgYmFjayBmb3IgYW5vdGhlciBpbnZvY2F0aW9uLlxuICAgICAgICAgIHN0YXRlID0gY29udGV4dC5kb25lXG4gICAgICAgICAgICA/IEdlblN0YXRlQ29tcGxldGVkXG4gICAgICAgICAgICA6IEdlblN0YXRlU3VzcGVuZGVkWWllbGQ7XG5cbiAgICAgICAgICBpZiAocmVjb3JkLmFyZyA9PT0gQ29udGludWVTZW50aW5lbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiByZWNvcmQuYXJnLFxuICAgICAgICAgICAgZG9uZTogY29udGV4dC5kb25lXG4gICAgICAgICAgfTtcblxuICAgICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgIC8vIERpc3BhdGNoIHRoZSBleGNlcHRpb24gYnkgbG9vcGluZyBiYWNrIGFyb3VuZCB0byB0aGVcbiAgICAgICAgICAvLyBjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGNvbnRleHQuYXJnKSBjYWxsIGFib3ZlLlxuICAgICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gcmVjb3JkLmFyZztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvLyBDYWxsIGRlbGVnYXRlLml0ZXJhdG9yW2NvbnRleHQubWV0aG9kXShjb250ZXh0LmFyZykgYW5kIGhhbmRsZSB0aGVcbiAgLy8gcmVzdWx0LCBlaXRoZXIgYnkgcmV0dXJuaW5nIGEgeyB2YWx1ZSwgZG9uZSB9IHJlc3VsdCBmcm9tIHRoZVxuICAvLyBkZWxlZ2F0ZSBpdGVyYXRvciwgb3IgYnkgbW9kaWZ5aW5nIGNvbnRleHQubWV0aG9kIGFuZCBjb250ZXh0LmFyZyxcbiAgLy8gc2V0dGluZyBjb250ZXh0LmRlbGVnYXRlIHRvIG51bGwsIGFuZCByZXR1cm5pbmcgdGhlIENvbnRpbnVlU2VudGluZWwuXG4gIGZ1bmN0aW9uIG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpIHtcbiAgICB2YXIgbWV0aG9kID0gZGVsZWdhdGUuaXRlcmF0b3JbY29udGV4dC5tZXRob2RdO1xuICAgIGlmIChtZXRob2QgPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gQSAudGhyb3cgb3IgLnJldHVybiB3aGVuIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgbm8gLnRocm93XG4gICAgICAvLyBtZXRob2QgYWx3YXlzIHRlcm1pbmF0ZXMgdGhlIHlpZWxkKiBsb29wLlxuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG5cbiAgICAgIGlmIChjb250ZXh0Lm1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIC8vIE5vdGU6IFtcInJldHVyblwiXSBtdXN0IGJlIHVzZWQgZm9yIEVTMyBwYXJzaW5nIGNvbXBhdGliaWxpdHkuXG4gICAgICAgIGlmIChkZWxlZ2F0ZS5pdGVyYXRvcltcInJldHVyblwiXSkge1xuICAgICAgICAgIC8vIElmIHRoZSBkZWxlZ2F0ZSBpdGVyYXRvciBoYXMgYSByZXR1cm4gbWV0aG9kLCBnaXZlIGl0IGFcbiAgICAgICAgICAvLyBjaGFuY2UgdG8gY2xlYW4gdXAuXG4gICAgICAgICAgY29udGV4dC5tZXRob2QgPSBcInJldHVyblwiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgICAgIG1heWJlSW52b2tlRGVsZWdhdGUoZGVsZWdhdGUsIGNvbnRleHQpO1xuXG4gICAgICAgICAgaWYgKGNvbnRleHQubWV0aG9kID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgIC8vIElmIG1heWJlSW52b2tlRGVsZWdhdGUoY29udGV4dCkgY2hhbmdlZCBjb250ZXh0Lm1ldGhvZCBmcm9tXG4gICAgICAgICAgICAvLyBcInJldHVyblwiIHRvIFwidGhyb3dcIiwgbGV0IHRoYXQgb3ZlcnJpZGUgdGhlIFR5cGVFcnJvciBiZWxvdy5cbiAgICAgICAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICBjb250ZXh0LmFyZyA9IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgXCJUaGUgaXRlcmF0b3IgZG9lcyBub3QgcHJvdmlkZSBhICd0aHJvdycgbWV0aG9kXCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2gobWV0aG9kLCBkZWxlZ2F0ZS5pdGVyYXRvciwgY29udGV4dC5hcmcpO1xuXG4gICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgIGNvbnRleHQubWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgY29udGV4dC5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICB2YXIgaW5mbyA9IHJlY29yZC5hcmc7XG5cbiAgICBpZiAoISBpbmZvKSB7XG4gICAgICBjb250ZXh0Lm1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgIGNvbnRleHQuYXJnID0gbmV3IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpO1xuICAgICAgY29udGV4dC5kZWxlZ2F0ZSA9IG51bGw7XG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9XG5cbiAgICBpZiAoaW5mby5kb25lKSB7XG4gICAgICAvLyBBc3NpZ24gdGhlIHJlc3VsdCBvZiB0aGUgZmluaXNoZWQgZGVsZWdhdGUgdG8gdGhlIHRlbXBvcmFyeVxuICAgICAgLy8gdmFyaWFibGUgc3BlY2lmaWVkIGJ5IGRlbGVnYXRlLnJlc3VsdE5hbWUgKHNlZSBkZWxlZ2F0ZVlpZWxkKS5cbiAgICAgIGNvbnRleHRbZGVsZWdhdGUucmVzdWx0TmFtZV0gPSBpbmZvLnZhbHVlO1xuXG4gICAgICAvLyBSZXN1bWUgZXhlY3V0aW9uIGF0IHRoZSBkZXNpcmVkIGxvY2F0aW9uIChzZWUgZGVsZWdhdGVZaWVsZCkuXG4gICAgICBjb250ZXh0Lm5leHQgPSBkZWxlZ2F0ZS5uZXh0TG9jO1xuXG4gICAgICAvLyBJZiBjb250ZXh0Lm1ldGhvZCB3YXMgXCJ0aHJvd1wiIGJ1dCB0aGUgZGVsZWdhdGUgaGFuZGxlZCB0aGVcbiAgICAgIC8vIGV4Y2VwdGlvbiwgbGV0IHRoZSBvdXRlciBnZW5lcmF0b3IgcHJvY2VlZCBub3JtYWxseS4gSWZcbiAgICAgIC8vIGNvbnRleHQubWV0aG9kIHdhcyBcIm5leHRcIiwgZm9yZ2V0IGNvbnRleHQuYXJnIHNpbmNlIGl0IGhhcyBiZWVuXG4gICAgICAvLyBcImNvbnN1bWVkXCIgYnkgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yLiBJZiBjb250ZXh0Lm1ldGhvZCB3YXNcbiAgICAgIC8vIFwicmV0dXJuXCIsIGFsbG93IHRoZSBvcmlnaW5hbCAucmV0dXJuIGNhbGwgdG8gY29udGludWUgaW4gdGhlXG4gICAgICAvLyBvdXRlciBnZW5lcmF0b3IuXG4gICAgICBpZiAoY29udGV4dC5tZXRob2QgIT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgY29udGV4dC5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgY29udGV4dC5hcmcgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gUmUteWllbGQgdGhlIHJlc3VsdCByZXR1cm5lZCBieSB0aGUgZGVsZWdhdGUgbWV0aG9kLlxuICAgICAgcmV0dXJuIGluZm87XG4gICAgfVxuXG4gICAgLy8gVGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGlzIGZpbmlzaGVkLCBzbyBmb3JnZXQgaXQgYW5kIGNvbnRpbnVlIHdpdGhcbiAgICAvLyB0aGUgb3V0ZXIgZ2VuZXJhdG9yLlxuICAgIGNvbnRleHQuZGVsZWdhdGUgPSBudWxsO1xuICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICB9XG5cbiAgLy8gRGVmaW5lIEdlbmVyYXRvci5wcm90b3R5cGUue25leHQsdGhyb3cscmV0dXJufSBpbiB0ZXJtcyBvZiB0aGVcbiAgLy8gdW5pZmllZCAuX2ludm9rZSBoZWxwZXIgbWV0aG9kLlxuICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoR3ApO1xuXG4gIGRlZmluZShHcCwgdG9TdHJpbmdUYWdTeW1ib2wsIFwiR2VuZXJhdG9yXCIpO1xuXG4gIC8vIEEgR2VuZXJhdG9yIHNob3VsZCBhbHdheXMgcmV0dXJuIGl0c2VsZiBhcyB0aGUgaXRlcmF0b3Igb2JqZWN0IHdoZW4gdGhlXG4gIC8vIEBAaXRlcmF0b3IgZnVuY3Rpb24gaXMgY2FsbGVkIG9uIGl0LiBTb21lIGJyb3dzZXJzJyBpbXBsZW1lbnRhdGlvbnMgb2YgdGhlXG4gIC8vIGl0ZXJhdG9yIHByb3RvdHlwZSBjaGFpbiBpbmNvcnJlY3RseSBpbXBsZW1lbnQgdGhpcywgY2F1c2luZyB0aGUgR2VuZXJhdG9yXG4gIC8vIG9iamVjdCB0byBub3QgYmUgcmV0dXJuZWQgZnJvbSB0aGlzIGNhbGwuIFRoaXMgZW5zdXJlcyB0aGF0IGRvZXNuJ3QgaGFwcGVuLlxuICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlZ2VuZXJhdG9yL2lzc3Vlcy8yNzQgZm9yIG1vcmUgZGV0YWlscy5cbiAgR3BbaXRlcmF0b3JTeW1ib2xdID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgR3AudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gXCJbb2JqZWN0IEdlbmVyYXRvcl1cIjtcbiAgfTtcblxuICBmdW5jdGlvbiBwdXNoVHJ5RW50cnkobG9jcykge1xuICAgIHZhciBlbnRyeSA9IHsgdHJ5TG9jOiBsb2NzWzBdIH07XG5cbiAgICBpZiAoMSBpbiBsb2NzKSB7XG4gICAgICBlbnRyeS5jYXRjaExvYyA9IGxvY3NbMV07XG4gICAgfVxuXG4gICAgaWYgKDIgaW4gbG9jcykge1xuICAgICAgZW50cnkuZmluYWxseUxvYyA9IGxvY3NbMl07XG4gICAgICBlbnRyeS5hZnRlckxvYyA9IGxvY3NbM107XG4gICAgfVxuXG4gICAgdGhpcy50cnlFbnRyaWVzLnB1c2goZW50cnkpO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRUcnlFbnRyeShlbnRyeSkge1xuICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uIHx8IHt9O1xuICAgIHJlY29yZC50eXBlID0gXCJub3JtYWxcIjtcbiAgICBkZWxldGUgcmVjb3JkLmFyZztcbiAgICBlbnRyeS5jb21wbGV0aW9uID0gcmVjb3JkO1xuICB9XG5cbiAgZnVuY3Rpb24gQ29udGV4dCh0cnlMb2NzTGlzdCkge1xuICAgIC8vIFRoZSByb290IGVudHJ5IG9iamVjdCAoZWZmZWN0aXZlbHkgYSB0cnkgc3RhdGVtZW50IHdpdGhvdXQgYSBjYXRjaFxuICAgIC8vIG9yIGEgZmluYWxseSBibG9jaykgZ2l2ZXMgdXMgYSBwbGFjZSB0byBzdG9yZSB2YWx1ZXMgdGhyb3duIGZyb21cbiAgICAvLyBsb2NhdGlvbnMgd2hlcmUgdGhlcmUgaXMgbm8gZW5jbG9zaW5nIHRyeSBzdGF0ZW1lbnQuXG4gICAgdGhpcy50cnlFbnRyaWVzID0gW3sgdHJ5TG9jOiBcInJvb3RcIiB9XTtcbiAgICB0cnlMb2NzTGlzdC5mb3JFYWNoKHB1c2hUcnlFbnRyeSwgdGhpcyk7XG4gICAgdGhpcy5yZXNldCh0cnVlKTtcbiAgfVxuXG4gIGV4cG9ydHMua2V5cyA9IGZ1bmN0aW9uKG9iamVjdCkge1xuICAgIHZhciBrZXlzID0gW107XG4gICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgfVxuICAgIGtleXMucmV2ZXJzZSgpO1xuXG4gICAgLy8gUmF0aGVyIHRoYW4gcmV0dXJuaW5nIGFuIG9iamVjdCB3aXRoIGEgbmV4dCBtZXRob2QsIHdlIGtlZXBcbiAgICAvLyB0aGluZ3Mgc2ltcGxlIGFuZCByZXR1cm4gdGhlIG5leHQgZnVuY3Rpb24gaXRzZWxmLlxuICAgIHJldHVybiBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgd2hpbGUgKGtleXMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBrZXkgPSBrZXlzLnBvcCgpO1xuICAgICAgICBpZiAoa2V5IGluIG9iamVjdCkge1xuICAgICAgICAgIG5leHQudmFsdWUgPSBrZXk7XG4gICAgICAgICAgbmV4dC5kb25lID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVG8gYXZvaWQgY3JlYXRpbmcgYW4gYWRkaXRpb25hbCBvYmplY3QsIHdlIGp1c3QgaGFuZyB0aGUgLnZhbHVlXG4gICAgICAvLyBhbmQgLmRvbmUgcHJvcGVydGllcyBvZmYgdGhlIG5leHQgZnVuY3Rpb24gb2JqZWN0IGl0c2VsZi4gVGhpc1xuICAgICAgLy8gYWxzbyBlbnN1cmVzIHRoYXQgdGhlIG1pbmlmaWVyIHdpbGwgbm90IGFub255bWl6ZSB0aGUgZnVuY3Rpb24uXG4gICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuICAgICAgcmV0dXJuIG5leHQ7XG4gICAgfTtcbiAgfTtcblxuICBmdW5jdGlvbiB2YWx1ZXMoaXRlcmFibGUpIHtcbiAgICBpZiAoaXRlcmFibGUpIHtcbiAgICAgIHZhciBpdGVyYXRvck1ldGhvZCA9IGl0ZXJhYmxlW2l0ZXJhdG9yU3ltYm9sXTtcbiAgICAgIGlmIChpdGVyYXRvck1ldGhvZCkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JNZXRob2QuY2FsbChpdGVyYWJsZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgaXRlcmFibGUubmV4dCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHJldHVybiBpdGVyYWJsZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc05hTihpdGVyYWJsZS5sZW5ndGgpKSB7XG4gICAgICAgIHZhciBpID0gLTEsIG5leHQgPSBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgICAgIHdoaWxlICgrK2kgPCBpdGVyYWJsZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChoYXNPd24uY2FsbChpdGVyYWJsZSwgaSkpIHtcbiAgICAgICAgICAgICAgbmV4dC52YWx1ZSA9IGl0ZXJhYmxlW2ldO1xuICAgICAgICAgICAgICBuZXh0LmRvbmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbmV4dC52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBuZXh0LmRvbmUgPSB0cnVlO1xuXG4gICAgICAgICAgcmV0dXJuIG5leHQ7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIG5leHQubmV4dCA9IG5leHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gUmV0dXJuIGFuIGl0ZXJhdG9yIHdpdGggbm8gdmFsdWVzLlxuICAgIHJldHVybiB7IG5leHQ6IGRvbmVSZXN1bHQgfTtcbiAgfVxuICBleHBvcnRzLnZhbHVlcyA9IHZhbHVlcztcblxuICBmdW5jdGlvbiBkb25lUmVzdWx0KCkge1xuICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgfVxuXG4gIENvbnRleHQucHJvdG90eXBlID0ge1xuICAgIGNvbnN0cnVjdG9yOiBDb250ZXh0LFxuXG4gICAgcmVzZXQ6IGZ1bmN0aW9uKHNraXBUZW1wUmVzZXQpIHtcbiAgICAgIHRoaXMucHJldiA9IDA7XG4gICAgICB0aGlzLm5leHQgPSAwO1xuICAgICAgLy8gUmVzZXR0aW5nIGNvbnRleHQuX3NlbnQgZm9yIGxlZ2FjeSBzdXBwb3J0IG9mIEJhYmVsJ3NcbiAgICAgIC8vIGZ1bmN0aW9uLnNlbnQgaW1wbGVtZW50YXRpb24uXG4gICAgICB0aGlzLnNlbnQgPSB0aGlzLl9zZW50ID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5kb25lID0gZmFsc2U7XG4gICAgICB0aGlzLmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgdGhpcy5tZXRob2QgPSBcIm5leHRcIjtcbiAgICAgIHRoaXMuYXJnID0gdW5kZWZpbmVkO1xuXG4gICAgICB0aGlzLnRyeUVudHJpZXMuZm9yRWFjaChyZXNldFRyeUVudHJ5KTtcblxuICAgICAgaWYgKCFza2lwVGVtcFJlc2V0KSB7XG4gICAgICAgIGZvciAodmFyIG5hbWUgaW4gdGhpcykge1xuICAgICAgICAgIC8vIE5vdCBzdXJlIGFib3V0IHRoZSBvcHRpbWFsIG9yZGVyIG9mIHRoZXNlIGNvbmRpdGlvbnM6XG4gICAgICAgICAgaWYgKG5hbWUuY2hhckF0KDApID09PSBcInRcIiAmJlxuICAgICAgICAgICAgICBoYXNPd24uY2FsbCh0aGlzLCBuYW1lKSAmJlxuICAgICAgICAgICAgICAhaXNOYU4oK25hbWUuc2xpY2UoMSkpKSB7XG4gICAgICAgICAgICB0aGlzW25hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBzdG9wOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuZG9uZSA9IHRydWU7XG5cbiAgICAgIHZhciByb290RW50cnkgPSB0aGlzLnRyeUVudHJpZXNbMF07XG4gICAgICB2YXIgcm9vdFJlY29yZCA9IHJvb3RFbnRyeS5jb21wbGV0aW9uO1xuICAgICAgaWYgKHJvb3RSZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJvb3RSZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy5ydmFsO1xuICAgIH0sXG5cbiAgICBkaXNwYXRjaEV4Y2VwdGlvbjogZnVuY3Rpb24oZXhjZXB0aW9uKSB7XG4gICAgICBpZiAodGhpcy5kb25lKSB7XG4gICAgICAgIHRocm93IGV4Y2VwdGlvbjtcbiAgICAgIH1cblxuICAgICAgdmFyIGNvbnRleHQgPSB0aGlzO1xuICAgICAgZnVuY3Rpb24gaGFuZGxlKGxvYywgY2F1Z2h0KSB7XG4gICAgICAgIHJlY29yZC50eXBlID0gXCJ0aHJvd1wiO1xuICAgICAgICByZWNvcmQuYXJnID0gZXhjZXB0aW9uO1xuICAgICAgICBjb250ZXh0Lm5leHQgPSBsb2M7XG5cbiAgICAgICAgaWYgKGNhdWdodCkge1xuICAgICAgICAgIC8vIElmIHRoZSBkaXNwYXRjaGVkIGV4Y2VwdGlvbiB3YXMgY2F1Z2h0IGJ5IGEgY2F0Y2ggYmxvY2ssXG4gICAgICAgICAgLy8gdGhlbiBsZXQgdGhhdCBjYXRjaCBibG9jayBoYW5kbGUgdGhlIGV4Y2VwdGlvbiBub3JtYWxseS5cbiAgICAgICAgICBjb250ZXh0Lm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICAgIGNvbnRleHQuYXJnID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICEhIGNhdWdodDtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IFwicm9vdFwiKSB7XG4gICAgICAgICAgLy8gRXhjZXB0aW9uIHRocm93biBvdXRzaWRlIG9mIGFueSB0cnkgYmxvY2sgdGhhdCBjb3VsZCBoYW5kbGVcbiAgICAgICAgICAvLyBpdCwgc28gc2V0IHRoZSBjb21wbGV0aW9uIHZhbHVlIG9mIHRoZSBlbnRpcmUgZnVuY3Rpb24gdG9cbiAgICAgICAgICAvLyB0aHJvdyB0aGUgZXhjZXB0aW9uLlxuICAgICAgICAgIHJldHVybiBoYW5kbGUoXCJlbmRcIik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldikge1xuICAgICAgICAgIHZhciBoYXNDYXRjaCA9IGhhc093bi5jYWxsKGVudHJ5LCBcImNhdGNoTG9jXCIpO1xuICAgICAgICAgIHZhciBoYXNGaW5hbGx5ID0gaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKTtcblxuICAgICAgICAgIGlmIChoYXNDYXRjaCAmJiBoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuY2F0Y2hMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5jYXRjaExvYywgdHJ1ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzQ2F0Y2gpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSBpZiAoaGFzRmluYWxseSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZShlbnRyeS5maW5hbGx5TG9jKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuXG4gICAgYWJydXB0OiBmdW5jdGlvbih0eXBlLCBhcmcpIHtcbiAgICAgIGZvciAodmFyIGkgPSB0aGlzLnRyeUVudHJpZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gdGhpcy50cnlFbnRyaWVzW2ldO1xuICAgICAgICBpZiAoZW50cnkudHJ5TG9jIDw9IHRoaXMucHJldiAmJlxuICAgICAgICAgICAgaGFzT3duLmNhbGwoZW50cnksIFwiZmluYWxseUxvY1wiKSAmJlxuICAgICAgICAgICAgdGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgIHZhciBmaW5hbGx5RW50cnkgPSBlbnRyeTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoZmluYWxseUVudHJ5ICYmXG4gICAgICAgICAgKHR5cGUgPT09IFwiYnJlYWtcIiB8fFxuICAgICAgICAgICB0eXBlID09PSBcImNvbnRpbnVlXCIpICYmXG4gICAgICAgICAgZmluYWxseUVudHJ5LnRyeUxvYyA8PSBhcmcgJiZcbiAgICAgICAgICBhcmcgPD0gZmluYWxseUVudHJ5LmZpbmFsbHlMb2MpIHtcbiAgICAgICAgLy8gSWdub3JlIHRoZSBmaW5hbGx5IGVudHJ5IGlmIGNvbnRyb2wgaXMgbm90IGp1bXBpbmcgdG8gYVxuICAgICAgICAvLyBsb2NhdGlvbiBvdXRzaWRlIHRoZSB0cnkvY2F0Y2ggYmxvY2suXG4gICAgICAgIGZpbmFsbHlFbnRyeSA9IG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciByZWNvcmQgPSBmaW5hbGx5RW50cnkgPyBmaW5hbGx5RW50cnkuY29tcGxldGlvbiA6IHt9O1xuICAgICAgcmVjb3JkLnR5cGUgPSB0eXBlO1xuICAgICAgcmVjb3JkLmFyZyA9IGFyZztcblxuICAgICAgaWYgKGZpbmFsbHlFbnRyeSkge1xuICAgICAgICB0aGlzLm1ldGhvZCA9IFwibmV4dFwiO1xuICAgICAgICB0aGlzLm5leHQgPSBmaW5hbGx5RW50cnkuZmluYWxseUxvYztcbiAgICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmNvbXBsZXRlKHJlY29yZCk7XG4gICAgfSxcblxuICAgIGNvbXBsZXRlOiBmdW5jdGlvbihyZWNvcmQsIGFmdGVyTG9jKSB7XG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICB0aHJvdyByZWNvcmQuYXJnO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwiYnJlYWtcIiB8fFxuICAgICAgICAgIHJlY29yZC50eXBlID09PSBcImNvbnRpbnVlXCIpIHtcbiAgICAgICAgdGhpcy5uZXh0ID0gcmVjb3JkLmFyZztcbiAgICAgIH0gZWxzZSBpZiAocmVjb3JkLnR5cGUgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgdGhpcy5ydmFsID0gdGhpcy5hcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICB0aGlzLm1ldGhvZCA9IFwicmV0dXJuXCI7XG4gICAgICAgIHRoaXMubmV4dCA9IFwiZW5kXCI7XG4gICAgICB9IGVsc2UgaWYgKHJlY29yZC50eXBlID09PSBcIm5vcm1hbFwiICYmIGFmdGVyTG9jKSB7XG4gICAgICAgIHRoaXMubmV4dCA9IGFmdGVyTG9jO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9LFxuXG4gICAgZmluaXNoOiBmdW5jdGlvbihmaW5hbGx5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LmZpbmFsbHlMb2MgPT09IGZpbmFsbHlMb2MpIHtcbiAgICAgICAgICB0aGlzLmNvbXBsZXRlKGVudHJ5LmNvbXBsZXRpb24sIGVudHJ5LmFmdGVyTG9jKTtcbiAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBcImNhdGNoXCI6IGZ1bmN0aW9uKHRyeUxvYykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IHRyeUxvYykge1xuICAgICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuICAgICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICB2YXIgdGhyb3duID0gcmVjb3JkLmFyZztcbiAgICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGhyb3duO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBjb250ZXh0LmNhdGNoIG1ldGhvZCBtdXN0IG9ubHkgYmUgY2FsbGVkIHdpdGggYSBsb2NhdGlvblxuICAgICAgLy8gYXJndW1lbnQgdGhhdCBjb3JyZXNwb25kcyB0byBhIGtub3duIGNhdGNoIGJsb2NrLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpO1xuICAgIH0sXG5cbiAgICBkZWxlZ2F0ZVlpZWxkOiBmdW5jdGlvbihpdGVyYWJsZSwgcmVzdWx0TmFtZSwgbmV4dExvYykge1xuICAgICAgdGhpcy5kZWxlZ2F0ZSA9IHtcbiAgICAgICAgaXRlcmF0b3I6IHZhbHVlcyhpdGVyYWJsZSksXG4gICAgICAgIHJlc3VsdE5hbWU6IHJlc3VsdE5hbWUsXG4gICAgICAgIG5leHRMb2M6IG5leHRMb2NcbiAgICAgIH07XG5cbiAgICAgIGlmICh0aGlzLm1ldGhvZCA9PT0gXCJuZXh0XCIpIHtcbiAgICAgICAgLy8gRGVsaWJlcmF0ZWx5IGZvcmdldCB0aGUgbGFzdCBzZW50IHZhbHVlIHNvIHRoYXQgd2UgZG9uJ3RcbiAgICAgICAgLy8gYWNjaWRlbnRhbGx5IHBhc3MgaXQgb24gdG8gdGhlIGRlbGVnYXRlLlxuICAgICAgICB0aGlzLmFyZyA9IHVuZGVmaW5lZDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIENvbnRpbnVlU2VudGluZWw7XG4gICAgfVxuICB9O1xuXG4gIC8vIFJlZ2FyZGxlc3Mgb2Ygd2hldGhlciB0aGlzIHNjcmlwdCBpcyBleGVjdXRpbmcgYXMgYSBDb21tb25KUyBtb2R1bGVcbiAgLy8gb3Igbm90LCByZXR1cm4gdGhlIHJ1bnRpbWUgb2JqZWN0IHNvIHRoYXQgd2UgY2FuIGRlY2xhcmUgdGhlIHZhcmlhYmxlXG4gIC8vIHJlZ2VuZXJhdG9yUnVudGltZSBpbiB0aGUgb3V0ZXIgc2NvcGUsIHdoaWNoIGFsbG93cyB0aGlzIG1vZHVsZSB0byBiZVxuICAvLyBpbmplY3RlZCBlYXNpbHkgYnkgYGJpbi9yZWdlbmVyYXRvciAtLWluY2x1ZGUtcnVudGltZSBzY3JpcHQuanNgLlxuICByZXR1cm4gZXhwb3J0cztcblxufShcbiAgLy8gSWYgdGhpcyBzY3JpcHQgaXMgZXhlY3V0aW5nIGFzIGEgQ29tbW9uSlMgbW9kdWxlLCB1c2UgbW9kdWxlLmV4cG9ydHNcbiAgLy8gYXMgdGhlIHJlZ2VuZXJhdG9yUnVudGltZSBuYW1lc3BhY2UuIE90aGVyd2lzZSBjcmVhdGUgYSBuZXcgZW1wdHlcbiAgLy8gb2JqZWN0LiBFaXRoZXIgd2F5LCB0aGUgcmVzdWx0aW5nIG9iamVjdCB3aWxsIGJlIHVzZWQgdG8gaW5pdGlhbGl6ZVxuICAvLyB0aGUgcmVnZW5lcmF0b3JSdW50aW1lIHZhcmlhYmxlIGF0IHRoZSB0b3Agb2YgdGhpcyBmaWxlLlxuICB0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiID8gbW9kdWxlLmV4cG9ydHMgOiB7fVxuKSk7XG5cbnRyeSB7XG4gIHJlZ2VuZXJhdG9yUnVudGltZSA9IHJ1bnRpbWU7XG59IGNhdGNoIChhY2NpZGVudGFsU3RyaWN0TW9kZSkge1xuICAvLyBUaGlzIG1vZHVsZSBzaG91bGQgbm90IGJlIHJ1bm5pbmcgaW4gc3RyaWN0IG1vZGUsIHNvIHRoZSBhYm92ZVxuICAvLyBhc3NpZ25tZW50IHNob3VsZCBhbHdheXMgd29yayB1bmxlc3Mgc29tZXRoaW5nIGlzIG1pc2NvbmZpZ3VyZWQuIEp1c3RcbiAgLy8gaW4gY2FzZSBydW50aW1lLmpzIGFjY2lkZW50YWxseSBydW5zIGluIHN0cmljdCBtb2RlLCB3ZSBjYW4gZXNjYXBlXG4gIC8vIHN0cmljdCBtb2RlIHVzaW5nIGEgZ2xvYmFsIEZ1bmN0aW9uIGNhbGwuIFRoaXMgY291bGQgY29uY2VpdmFibHkgZmFpbFxuICAvLyBpZiBhIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5IGZvcmJpZHMgdXNpbmcgRnVuY3Rpb24sIGJ1dCBpbiB0aGF0IGNhc2VcbiAgLy8gdGhlIHByb3BlciBzb2x1dGlvbiBpcyB0byBmaXggdGhlIGFjY2lkZW50YWwgc3RyaWN0IG1vZGUgcHJvYmxlbS4gSWZcbiAgLy8geW91J3ZlIG1pc2NvbmZpZ3VyZWQgeW91ciBidW5kbGVyIHRvIGZvcmNlIHN0cmljdCBtb2RlIGFuZCBhcHBsaWVkIGFcbiAgLy8gQ1NQIHRvIGZvcmJpZCBGdW5jdGlvbiwgYW5kIHlvdSdyZSBub3Qgd2lsbGluZyB0byBmaXggZWl0aGVyIG9mIHRob3NlXG4gIC8vIHByb2JsZW1zLCBwbGVhc2UgZGV0YWlsIHlvdXIgdW5pcXVlIHByZWRpY2FtZW50IGluIGEgR2l0SHViIGlzc3VlLlxuICBGdW5jdGlvbihcInJcIiwgXCJyZWdlbmVyYXRvclJ1bnRpbWUgPSByXCIpKHJ1bnRpbWUpO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/regenerator-runtime/runtime.js\n");

/***/ }),

/***/ "./node_modules/strip-ansi/index.js":
/*!******************************************!*\
  !*** ./node_modules/strip-ansi/index.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\nvar ansiRegex = __webpack_require__(/*! ansi-regex */ \"./node_modules/ansi-regex/index.js\")();\n\nmodule.exports = function (str) {\n\treturn typeof str === 'string' ? str.replace(ansiRegex, '') : str;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3RyaXAtYW5zaS9pbmRleC5qcz83NjcxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFhO0FBQ2IsZ0JBQWdCLG1CQUFPLENBQUMsc0RBQVk7O0FBRXBDO0FBQ0E7QUFDQSIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9zdHJpcC1hbnNpL2luZGV4LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xudmFyIGFuc2lSZWdleCA9IHJlcXVpcmUoJ2Fuc2ktcmVnZXgnKSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzdHIpIHtcblx0cmV0dXJuIHR5cGVvZiBzdHIgPT09ICdzdHJpbmcnID8gc3RyLnJlcGxhY2UoYW5zaVJlZ2V4LCAnJykgOiBzdHI7XG59O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/strip-ansi/index.js\n");

/***/ }),

/***/ "./node_modules/supports-color/index.js":
/*!**********************************************!*\
  !*** ./node_modules/supports-color/index.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function(process) {\nvar argv = process.argv;\n\nvar terminator = argv.indexOf('--');\nvar hasFlag = function (flag) {\n\tflag = '--' + flag;\n\tvar pos = argv.indexOf(flag);\n\treturn pos !== -1 && (terminator !== -1 ? pos < terminator : true);\n};\n\nmodule.exports = (function () {\n\tif ('FORCE_COLOR' in process.env) {\n\t\treturn true;\n\t}\n\n\tif (hasFlag('no-color') ||\n\t\thasFlag('no-colors') ||\n\t\thasFlag('color=false')) {\n\t\treturn false;\n\t}\n\n\tif (hasFlag('color') ||\n\t\thasFlag('colors') ||\n\t\thasFlag('color=true') ||\n\t\thasFlag('color=always')) {\n\t\treturn true;\n\t}\n\n\tif (process.stdout && !process.stdout.isTTY) {\n\t\treturn false;\n\t}\n\n\tif (process.platform === 'win32') {\n\t\treturn true;\n\t}\n\n\tif ('COLORTERM' in process.env) {\n\t\treturn true;\n\t}\n\n\tif (process.env.TERM === 'dumb') {\n\t\treturn false;\n\t}\n\n\tif (/^screen|^xterm|^vt100|color|ansi|cygwin|linux/i.test(process.env.TERM)) {\n\t\treturn true;\n\t}\n\n\treturn false;\n})();\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../process/browser.js */ \"./node_modules/process/browser.js\")))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3VwcG9ydHMtY29sb3IvaW5kZXguanM/NmMwYiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSwrQ0FBYTtBQUNiOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsQ0FBQyIsImZpbGUiOiIuL25vZGVfbW9kdWxlcy9zdXBwb3J0cy1jb2xvci9pbmRleC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbnZhciBhcmd2ID0gcHJvY2Vzcy5hcmd2O1xuXG52YXIgdGVybWluYXRvciA9IGFyZ3YuaW5kZXhPZignLS0nKTtcbnZhciBoYXNGbGFnID0gZnVuY3Rpb24gKGZsYWcpIHtcblx0ZmxhZyA9ICctLScgKyBmbGFnO1xuXHR2YXIgcG9zID0gYXJndi5pbmRleE9mKGZsYWcpO1xuXHRyZXR1cm4gcG9zICE9PSAtMSAmJiAodGVybWluYXRvciAhPT0gLTEgPyBwb3MgPCB0ZXJtaW5hdG9yIDogdHJ1ZSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IChmdW5jdGlvbiAoKSB7XG5cdGlmICgnRk9SQ0VfQ09MT1InIGluIHByb2Nlc3MuZW52KSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRpZiAoaGFzRmxhZygnbm8tY29sb3InKSB8fFxuXHRcdGhhc0ZsYWcoJ25vLWNvbG9ycycpIHx8XG5cdFx0aGFzRmxhZygnY29sb3I9ZmFsc2UnKSkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdGlmIChoYXNGbGFnKCdjb2xvcicpIHx8XG5cdFx0aGFzRmxhZygnY29sb3JzJykgfHxcblx0XHRoYXNGbGFnKCdjb2xvcj10cnVlJykgfHxcblx0XHRoYXNGbGFnKCdjb2xvcj1hbHdheXMnKSkge1xuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0aWYgKHByb2Nlc3Muc3Rkb3V0ICYmICFwcm9jZXNzLnN0ZG91dC5pc1RUWSkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdGlmIChwcm9jZXNzLnBsYXRmb3JtID09PSAnd2luMzInKSB7XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRpZiAoJ0NPTE9SVEVSTScgaW4gcHJvY2Vzcy5lbnYpIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdGlmIChwcm9jZXNzLmVudi5URVJNID09PSAnZHVtYicpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRpZiAoL15zY3JlZW58Xnh0ZXJtfF52dDEwMHxjb2xvcnxhbnNpfGN5Z3dpbnxsaW51eC9pLnRlc3QocHJvY2Vzcy5lbnYuVEVSTSkpIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdHJldHVybiBmYWxzZTtcbn0pKCk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/supports-color/index.js\n");

/***/ }),

/***/ "./node_modules/webpack/buildin/module.js":
/*!***********************************!*\
  !*** (webpack)/buildin/module.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzP2NlZDIiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL3dlYnBhY2svYnVpbGRpbi9tb2R1bGUuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuXHRpZiAoIW1vZHVsZS53ZWJwYWNrUG9seWZpbGwpIHtcblx0XHRtb2R1bGUuZGVwcmVjYXRlID0gZnVuY3Rpb24oKSB7fTtcblx0XHRtb2R1bGUucGF0aHMgPSBbXTtcblx0XHQvLyBtb2R1bGUucGFyZW50ID0gdW5kZWZpbmVkIGJ5IGRlZmF1bHRcblx0XHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJsb2FkZWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUubDtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImlkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0bW9kdWxlLndlYnBhY2tQb2x5ZmlsbCA9IDE7XG5cdH1cblx0cmV0dXJuIG1vZHVsZTtcbn07XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/webpack/buildin/module.js\n");

/***/ })

/******/ });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtRQUFBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBOzs7UUFHQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0EsMENBQTBDLGdDQUFnQztRQUMxRTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBLHdEQUF3RCxrQkFBa0I7UUFDMUU7UUFDQSxpREFBaUQsY0FBYztRQUMvRDs7UUFFQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0EseUNBQXlDLGlDQUFpQztRQUMxRSxnSEFBZ0gsbUJBQW1CLEVBQUU7UUFDckk7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQSwyQkFBMkIsMEJBQTBCLEVBQUU7UUFDdkQsaUNBQWlDLGVBQWU7UUFDaEQ7UUFDQTtRQUNBOztRQUVBO1FBQ0Esc0RBQXNELCtEQUErRDs7UUFFckg7UUFDQTs7O1FBR0E7UUFDQSIsImZpbGUiOiJqcy9zdHlsZWd1aWRlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IFwiLi9hc3NldHMvc291cmNlLzMuMC9qcy9zdHlsZWd1aWRlLmpzXCIpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==